zk={procDelay:900,tipDelay:800,resendDelay:-1,lastPointer:[0,0],currentPointer:[0,0],$package:function(e){for(var d=0,f=window;;){var c=e.indexOf(".",d),a=c>=0?e.substring(d,c):e.substring(d);var b=f[a];if(!b){b=f[a]={}}if(c<0){return b}f=b;d=c+1}},$import:function(e){for(var d=0,f=window;;){var c=e.indexOf(".",d),a=c>=0?e.substring(d,c):e.substring(d);var b=f[a];if(c<0||!b){return b}f=b;d=c+1}},$extends:function(e,b,c){if(!e){throw"unknown superclass"}var a=function(){this.$init.apply(this,arguments)};if(typeof e=="string"){var d=zk.$import(e);if(!d){d=e.lastIndexOf(".");if(d>0){d=e.substring(0,d);if(!zPkg.load(d)){zk.afterLoad(function(){var f=zk.$import(e);if(!f){throw"unknown superclass "+e}zk._$extends(a,f,b,c)});return a}}throw"superclass not found, "+e}e=d}this._$extends(a,e,b,c);return a},_$extends:function(b,g,a,e){var c=b.prototype,f=g.prototype;zk.copy(c,f);zk.copy(c,a);for(var d in g){if(d!="prototype"){b[d]=g[d]}}zk.copy(b,e);c.$class=b;c._$super=f;b.$class=zk.Class;b.superclass=g},$default:function(a,c){a=a||{};for(var b in c){if(a[b]==null){a[b]=c[b]}}return a},copy:function(c,b){if(!c){c={}}for(var a in b){c[a]=b[a]}return c},forEach:function(e,d){var c=[];for(var b=arguments.length;--b>=2;){c.unshift(arguments[b])}for(var b=0,a=e.length;b<a;){d.apply(e[b],c)}},$void:function(){return""},parseInt:function(c,a){c=c?parseInt(c,a||10):0;return isNaN(c)?0:c},isDigit:function(a){return a>="0"&&a<="9"},isWhitespace:function(a){return a==" "||a=="\t"||a=="\n"||a=="\r"},set:function(e,b,c,a){if(arguments.length==2){for(var d in b){zk._set(e,d,b[d])}return}zk._set(e,b,c,a)},_set:function(e,c,d,b){var a=e["set"+c.charAt(0).toUpperCase()+c.substring(1)];if(a){a.call(e,d,b)}else{e[c]=d}},get:function(c,b){var a=b.charAt(0).toUpperCase()+b.substring(1);m=c["get"+a];if(m){return m.call(c)}m=c["is"+a];if(m){return m.call(c)}return c[b]},startProcessing:function(a){zk.processing=true;setTimeout(zk.sysInited?zk._showproc:zk._showprocmk,a>0?a:0)},endProcessing:function(){zk.processing=false;zUtl.destroyProgressbox("zk_proc")},_showprocmk:function(){if(document.readyState&&!/loaded|complete/.test(document.readyState)){var a=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(a);zk._showprocmk()}},0);return}zk._showproc0(true)},_showproc:function(){zk._showproc0()},_showproc0:function(a){if(zk.processing){if(zDom.$("zk_proc")||zDom.$("zk_showBusy")){return}var c;try{c=mesg.PLEASE_WAIT}catch(b){c="Processing..."}zUtl.progressbox("zk_proc",c,a)}},error:function(f){if(!zk.sysInited){setTimeout(function(){zk.error(f)},100);return}if(!zk._errcnt){zk._errcnt=1}var h="zk_err"+zk._errcnt++,a=(zk._errcnt*5)%50,g=(zk._errcnt*5)%50,c=document.createElement("DIV");document.body.appendChild(c);var b='<div class="z-error" style="left:'+(zDom.innerX()+a)+"px;top:"+(zDom.innerY()+g)+'px;" id="'+h+'"><table cellpadding="2" cellspacing="2" width="100%"><tr><td align="right"><div id="'+h+'$p"><a href="javascript:zk._sendRedraw()">redraw</a>&nbsp;<a href="javascript:zDom.remove(\''+h+'\')">close</a></div></td></tr><tr valign="top"><td class="z-error-msg">'+zUtl.encodeXML(f,{multiline:true})+"</td></tr></table></div>";c=zDom.setOuterHTML(c,b);try{new zk.Draggable(null,c,{handle:zDom.$(h+"$p"),zIndex:c.style.zIndex,starteffect:zk.$void,starteffect:zk.$void,endeffect:zk.$void})}catch(d){}},errorDismiss:function(){for(var a=zk._errcnt;a;--a){zDom.remove("zk_err"+a)}},_sendRedraw:function(){zk.errorDismiss();zAu.send(new zk.Event(null,"redraw"))},log:function(c){var e=arguments,d="";for(var b=0,a=e.length;b<a;b++){if(d){d+=", "}d+=e[b]}zk._msg=(zk._msg?zk._msg+d:d)+"\n";setTimeout(zk._log0,600)},_log0:function(){if(zk._msg){var a=zDom.$("zk_log");if(!a){a=document.createElement("DIV");document.body.appendChild(a);var b='<div id="zk_logbox" class="z-log"><button onclick="zDom.remove(\'zk_logbox\');">X</button><br/><textarea id="zk_log" rows="10"></textarea></div>';zDom.setOuterHTML(a,b);a=zDom.$("zk_log")}a.value+=zk._msg;a.scrollTop=a.scrollHeight;zk._msg=null}}};zk.copy(String.prototype,{startsWith:function(a){return this.substring(0,a.length)==a},endsWith:function(a){return this.substring(this.length-a.length)==a},trim:function(){var c=0,b=this.length,a=b-1;while(c<b&&this.charAt(c)<=" "){++c}while(a>=c&&this.charAt(a)<=" "){--a}return c>a?"":this.substring(c,a+1)},$camel:function(){var d=this.split("-"),a=d.length;if(a==1){return d[0]}var c=this.charAt(0)=="-"?d[0].charAt(0).toUpperCase()+d[0].substring(1):d[0];for(var b=1;b<a;b++){c+=d[b].charAt(0).toUpperCase()+d[b].substring(1)}return c},$inc:function(a){return String.fromCharCode(this.charCodeAt(0)+a)},$sub:function(a){return this.charCodeAt(0)-a.charCodeAt(0)}});zk.copy(Array.prototype,{$array:true,$contains:function(c){for(var b=0,a=this.length;b<a;++b){if(c==this[b]){return true}}return false},$add:function(d,c){if(c){for(var a=this.length,b=0;b<a;++b){if(d==this[b]){this[b]=d;return false}}}this.push(d);return true},$addAt:function(b,c){var a=this.length;if(b>=a){this.push(c)}else{this.splice(b,0,c)}},$remove:function(c){for(var b=0,a=this.length;b<a;++b){if(c==this[b]){this.splice(b,1);return true}}return false},$removeAt:function(a){if(a<this.length){this.splice(a,1)}},$clone:function(){return[].concat(this)}});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){for(var b=0,a=this.length;b<a;b++){if(this[b]==c){return b}}return -1}}zk.agent=navigator.userAgent.toLowerCase();zk.safari=zk.agent.indexOf("safari")>=0;zk.opera=zk.agent.indexOf("opera")>=0;zk.gecko=zk.agent.indexOf("gecko/")>=0&&!zk.safari&&!zk.opera;if(zk.gecko){var j=zk.agent.indexOf("firefox/");j=zk.parseInt(zk.agent.substring(j+8));zk.gecko3=j>=3;zk.gecko2Only=!zk.gecko3;zk.xbodyClass="gecko gecko"+j}else{if(zk.opera){zk.xbodyClass="opera"}else{var j=zk.agent.indexOf("msie ");zk.ie=j>=0;if(zk.ie){j=zk.parseInt(zk.agent.substring(j+5));zk.ie7=j>=7;zk.ie8=j>=8;zk.ie6Only=!zk.ie7;zk.xbodyClass="ie ie"+j}else{if(zk.safari){zk.xbodyClass="safari"}}}}if(zk.air=zk.agent.indexOf("adobeair")>=0){zk.xbodyClass="air"}zk.Object=function(){};zk.Object.prototype={$init:zk.$void,$class:zk.Object,$instanceof:function(a){if(a){var b=this.$class;if(b==zk.Class){return this==zk.Object||this==zk.Class}for(;b;b=b.superclass){if(b==a){return true}}}return false},$super:function(d,c){var b=[];for(var a=arguments.length;--a>0;){b.unshift(arguments[a])}return this.$supers(d,b)},$supers:function(f,d){var e=this._$supers;if(!e){e=this._$supers={}}var c=e[f],b,g,a;if(c){a=c[f];g=c}else{a=this[f];g=this}for(;;){if(!(g=g._$super)){throw f+" not in superclass"}if(a!=g[f]){b=g[f];if(b){e[f]=g}break}}try{return b.apply(this,d)}finally{e[f]=c}},proxy:function(c,a){if(a){var b=this[a];if(b){return b}}var d=this,b=function(){return c.apply(d,arguments)};if(a){this[a]=b}return b}};zk.Class=function(){};zk.Class.superclass=zk.Object;_zkf={$class:zk.Class,isInstance:function(a){return a&&a.$instanceof&&a.$instanceof(this)},isAssignableFrom:function(a){for(;a;a=a.superclass){if(this==a){return true}}return false},$instanceof:zk.Object.prototype.$instanceof};zk.copy(zk.Class,_zkf);zk.copy(zk.Object,_zkf);
zk.BigDecimal=zk.$extends(zk.Object,{_prec:0,$init:function(b){b=b?""+b:"0";var a=b.lastIndexOf(".");if(a>=0){b=b.substring(0,a)+b.substring(a+1);this._prec=b.length-a}this._value=b}});
zUtl={encodeXML:function(i,a){var g="";if(!i){return g}var e=0,l=i.length,d=a&&a.pre,b=d||(a&&a.multiline);for(var h=0;h<l;++h){var c=i.charAt(h);if(c=="\n"){if(b){g+=i.substring(e,h)+"<br/>\n";e=h+1}}else{if(c==" "||c=="\t"){if(d){g+=i.substring(e,h)+"&nbsp;";if(c=="\t"){g+="&nbsp;&nbsp;&nbsp;"}e=h+1}}else{var f=zUtl._encs[c];if(f){g+=i.substring(e,h)+"&"+f+";";e=h+1}}}}return !e?i:e<l?g+i.substring(e):g},decodeXML:function(a){var f="";if(!a){return f}var d=0,c=a.length;for(var e=0;e<c;++e){var h=a.charAt(e);if(h=="&"){var b=a.indexOf(";",e+1);if(b>=0){var g=zUtl._decs[a.substring(e+1,b)];if(g){f+=a.substring(d,e)+g;d=(e=b)+1}}}}return !d?a:d<c?f+a.substring(d):f},_decs:{lt:"<",gt:">",amp:"&",quot:'"'},_encs:{},renType:function(e,g){var d=e.lastIndexOf(";");var h;if(d>=0){h=e.substring(d);e=e.substring(0,d)}else{h=""}d=e.lastIndexOf(".");if(d<0){d=e.length}var c=e.lastIndexOf("-"),b=e.lastIndexOf("/"),f=d<=b?"":e.substring(d),a=c<=b?d<=b?e:e.substring(0,d):e.substring(0,c);if(g){g="-"+g}else{g=""}return a+g+f+h},getElementValue:function(b){var a="";for(b=b.firstChild;b;b=b.nextSibling){if(b.data){a+=b.data}}return a},cellps0:' cellpadding="0" cellspacing="0" border="0"',img0:'<img style="height:0;width:0"/>',now:function(){return new Date().getTime()},today:function(){var a=new Date();return new Date(a.getFullYear(),a.getMonth(),a.getDate())},isAncestor:function(a,b){if(!a){return true}for(;b;b=b.getParent?b.getParent():b.parent){if(a==b){return true}}return false},isDescendant:function(b,a){return zUtl.isAncestor(a,b)},progressbox:function(b,g,p){if(p&&zk.Page.contained.length){for(var k=zk.Page.contained.length,j=zk.Page.contained[--k];j;j=zk.Page.contained[--k]){if(!j._applyMask){j._applyMask=new zk.eff.Mask({id:j.uuid+"$mask",anchor:j.getNode()})}}return}var m=zDom.innerX(),l=zDom.innerY(),a=' style="left:'+m+"px;top:"+l+'px"',f=b+"$t",o=b+"$m",i='<div id="'+b+'"';if(p){i+='><div id="'+o+'" class="z-modal-mask"'+a+"></div"}i+='><div id="'+f+'" class="z-loading"'+a+'><div class="z-loading-indicator"><span class="z-loading-icon"></span> '+g+"</div></div></div>";var d=document.createElement("DIV");document.body.appendChild(d);d=zDom.setOuterHTML(d,i);var h=zDom.$(f);if(p){d.z_mask=new zk.eff.FullMask({mask:zDom.$(o),zIndex:zDom.getStyle(h,"z-index")-1})}if(p&&h){h.style.left=(zDom.innerWidth()-h.offsetWidth)/2+m+"px";h.style.top=(zDom.innerHeight()-h.offsetHeight)/2+l+"px"}zDom.cleanVisibility(d)},destroyProgressbox:function(f){var d=zDom.$(f);if(d){if(d.z_mask){d.z_mask.destroy()}zDom.remove(d)}for(var b=zk.Page.contained.length,a=zk.Page.contained[--b];a;a=zk.Page.contained[--b]){if(a._applyMask){a._applyMask.destroy();a._applyMask=null}}},go:function(d,c,h){if(!d){location.reload()}else{if(c){location.replace(d)}else{if(h){try{var f=document.createElement("FORM");document.body.appendChild(f);var b=d.indexOf("?");if(b>0){var a=d.substring(b+1);d=d.substring(0,b);zk.queryToHiddens(f,a)}f.name="go";f.action=d;f.method="GET";f.target=h;f.submit()}catch(g){}}else{location.href=d}}}},newAjax:function(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else{try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){return new ActiveXObject("Microsoft.XMLHTTP")}}},intsToString:function(c){if(!c){return""}var d=[];for(var b=0,a=c.length;b<a;++b){d.push(c[b])}return d.join()},stringToInts:function(b,a){if(b==null){return null}var f=[];for(var d=0;;){var c=b.indexOf(",",d),e=(c>=0?b.substring(d,c):b.substring(d)).trim();if(e.length==0){if(c<0){break}f.push(a)}else{f.push(zk.parseInt(e))}if(c<0){break}d=c+1}return f},_init:function(){delete zUtl._init;var c=zUtl._encs,b=zUtl._decs;for(var a in b){c[b[a]]=a}}};zUtl._init();
zDom={$:function(b,a){return typeof b=="string"?b?document.getElementById(b+(a?"$"+a:"")):null:b},$$:function(b,a){return typeof b=="string"?b?document.getElementsByName(b+(a?"$"+a:"")):null:b},tag:function(a){return a&&a.tagName?a.tagName.toUpperCase():""},hide:function(a){a.style.display="none"},show:function(a){a.style.display=""},cleanVisibility:zk.opera?function(a){a.style.visibility="visible"}:function(a){a.style.visibility="inherit"},isVisible:function(b,a){return b&&(!b.style||(b.style.display!="none"&&(!a||b.style.visibility!="hidden")))},isRealVisible:function(b,a){for(;b;b=zDom.parentNode(b)){if(!zDom.isVisible(b,a)){return false}}return true},isAncestor:function(a,b){if(!a){return true}for(;b;b=zDom.parentNode(b)){if(a==b){return true}}return false},innerX:function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},innerY:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},innerWidth:function(){return typeof window.innerWidth=="number"?window.innerWidth:document.compatMode=="CSS1Compat"?document.documentElement.clientWidth:document.body.clientWidth},innerHeight:function(){return typeof window.innerHeight=="number"?window.innerHeight:document.compatMode=="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight},pageWidth:function(){var d=document.body.scrollWidth,c=document.body.offsetWidth;return d>c?d:c},pageHeight:function(){var d=document.body.scrollHeight,c=document.body.offsetHeight;return d>c?d:c},scrollTo:function(b){b=zDom.$(b);var a=zDom.cmOffset(b);scrollTo(a[0],a[1]);return b},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},sumStyles:function(e,c,f){var g=0;for(var d=0,a=c.length;d<a;d++){var b=zk.parseInt(zDom.getStyle(e,f[c.charAt(d)]));if(!isNaN(b)){g+=b}}return g},setOffsetHeight:function(b,a){a-=zDom.padBorderHeight(b)+zk.parseInt(zDom.getStyle(b,"margin-top"))+zk.parseInt(zDom.getStyle(b,"margin-bottom"));b.style.height=Math.max(0,a)+"px"},revisedOffset:function(d,e){if(!e){if(d.getBoundingClientRect){var a=d.getBoundingClientRect();return[a.left+zDom.innerX()-d.ownerDocument.documentElement.clientLeft,a.top+zDom.innerY()-d.ownerDocument.documentElement.clientTop]}e=zDom.cmOffset(d)}var c=zDom.scrollOffset(d);c[0]-=zDom.innerX();c[1]-=zDom.innerY();return[e[0]-c[0],e[1]-c[1]]},revisedWidth:function(c,a,b){a-=zDom.padBorderWidth(c);if(a>0&&b){a-=zDom.sumStyles(c,"lr",zDom.margins)}return a<0?0:a},revisedHeight:function(c,a,b){a-=zDom.padBorderHeight(c);if(a>0&&b){a-=zDom.sumStyles(c,"tb",zDom.margins)}return a<0?0:a},padBorderWidth:function(a){return zDom.sumStyles(a,"lr",zDom.borders)+zDom.sumStyles(a,"lr",zDom.paddings)},padBorderHeight:function(a){return zDom.sumStyles(a,"tb",zDom.borders)+zDom.sumStyles(a,"tb",zDom.paddings)},scrollbarWidth:function(a){return(a.offsetWidth-a.clientWidth)+zDom.sumStyles(a,"lr",zDom.borders)},vflexHeight:function(c){var a=c.parentNode.clientHeight;if(zk.ie6Only){var d=c.parentNode;var b=d.style.height;if(b&&b.endsWith("px")){b=zDom.revisedHeight(d,zk.parseInt(b));if(b&&b<a){a=b}}}for(var e=c;e=e.previousSibling;){if(e.offsetHeight&&zDom.isVisible(e)){a-=e.offsetHeight}}for(var e=c;e=e.nextSibling;){if(e.offsetHeight&&zDom.isVisible(e)){a-=e.offsetHeight}}return a},cellIndex:function(a){var e=0;if(zk.ie){var d=a.parentNode.cells;for(var c=0,b=d.length;c<b;c++){if(d[c]==a){e=c;break}}}else{e=a.cellIndex}return e},ncols:function(c){var d=0;if(c){for(var b=0,a=c.length;b<a;++b){var e=c[b].colSpan;if(e>=1){d+=e}else{++d}}}return d},toStyleOffset:function(c,i,h){var e=c.style.left,d=c.style.top,f=zk.opera||zk.air;if(f||c.style.left==""||c.style.left=="auto"){c.style.left="0"}if(f||c.style.top==""||c.style.top=="auto"){c.style.top="0"}var b=zDom.cmOffset(c);var a=zk.parseInt(c.style.left),g=zk.parseInt(c.style.top);b=[i-b[0]+a,h-b[1]+g];c.style.left=e;c.style.top=d;return b},center:function(a,b){var d=zDom.offsetWidth(a),e=zDom.offsetHeight(a);if((!d||!e)&&!zDom.isVisible(a)){a.style.top="-10000px";a.style.display="block";d=zDom.offsetWidth(a);e=zDom.offsetHeight(a),a.style.display="none"}var c=zDom.innerX(),j=zDom.innerY();var k,i,h,g;d=zDom.innerWidth()-d;if(!b){k=c+d/2}else{if(b.indexOf("left")>=0){k=c}else{if(b.indexOf("right")>=0){k=c+d-1}else{if(b.indexOf("center")>=0){k=c+d/2}else{k=0;h=true}}}}e=zDom.innerHeight()-e;if(!b){i=j+e/2}else{if(b.indexOf("top")>=0){i=j}else{if(b.indexOf("bottom")>=0){i=j+e-1}else{if(b.indexOf("center")>=0){i=j+e/2}else{i=0;g=true}}}}if(k<c){k=c}if(i<j){i=j}var f=zDom.toStyleOffset(a,k,i);if(!h){a.style.left=f[0]+"px"}if(!g){a.style.top=f[1]+"px"}},position:function(d,i,h,b){h=h||"overlap";var j=zDom.getDimension(d),e=j.width,f=j.height,n=i.top,m=i.left;switch(h){case"before_start":m-=f;break;case"before_end":m-=f;n+=i.width-e;break;case"after_start":m+=i.height;break;case"after_end":m+=i.height;n+=i.width-e;break;case"start_before":n-=e;break;case"start_after":n-=e;m+=i.height-f;break;case"end_before":n+=i.width;break;case"end_after":n+=i.width;m+=i.height-f;break;case"at_pointer":var g=zk.lastPointer;n=g[0];m=g[1];break;case"after_pointer":var g=zk.lastPointer;n=g[0];m=g[1]+20;break;default:}if(!b||!b.overflow){var l=zDom.innerX(),k=zDom.innerY(),c=l+zDom.innerWidth(),a=k+zDom.innerHeight();if(n+e>c){n=c-e}if(n<l){n=l}if(m+f>a){m=a-f}if(m<k){m=k}}j=zDom.toStyleOffset(d,n,m);d.style.left=j[0]+"px";d.style.top=j[1]+"px"},scrollOffset:function(e){var c=0,b=0,a=zDom.tag(e);do{var d=zDom.tag(e);if(!zk.opera||d=="BODY"||(a!="TR"&&a!="IMG"&&d=="DIV")){c+=e.scrollTop||0;b+=e.scrollLeft||0}e=e.parentNode}while(e);return[b,c]},cmOffset:function(a){if(zk.safari&&zDom.tag(a)==="TR"&&a.cells.length){a=a.cells[0]}if(!(zk.gecko||zk.safari)||zDom.isVisible(a)||zDom.offsetWidth(a)){return zDom._cmOffset(a)}a.style.display="";var b=zDom._cmOffset(a);a.style.display="none";return b},_cmOffset:function(e){var b=0,a=0,d;if(zk.gecko){var f=e.parentNode;while(f&&f!=document.body){var c=zDom.getStyle(f,"position");if(c=="relative"||c=="absolute"){b+=zk.parseInt(zDom.getStyle(f,"border-top-width"));a+=zk.parseInt(zDom.getStyle(f,"border-left-width"))}f=f.offsetParent}}do{if(zDom.getStyle(e,"position")=="fixed"){b+=zk.innerY()+e.offsetTop;a+=zk.innerX()+e.offsetLeft;break}else{if(zk.opera){if(d&&e.nodeName=="DIV"&&e.scrollTop!=0){b+=e.scrollTop||0}d=e.nodeName=="SPAN"||e.nodeName=="INPUT"}b+=e.offsetTop||0;a+=e.offsetLeft||0;e=zk.gecko&&e!=document.body?zDom.offsetParent(e):e.offsetParent}}while(e);return[a,b]},isOverlapped:function(c,i,b,g){var k=c[0],j=i[0]+k,e=c[1],d=i[1]+e;var a=b[0],l=g[0]+a,h=b[1],f=g[1]+h;return a<=j&&l>=k&&h<=d&&f>=e},absolutize:function(b){if(b.style.position=="absolute"){return}var c=zDom._posOffset(b),e=c[0],d=c[1],a=b.style;b._$orgLeft=e-parseFloat(a.left||0);b._$orgTop=d-parseFloat(a.top||0);a.position="absolute";a.top=d+"px";a.left=e+"px"},_posOffset:function(c){if(zk.safari&&zDom.tag(c)==="TR"&&c.cells.length){c=c.cells[0]}var b=0,a=0;do{b+=c.offsetTop||0;a+=c.offsetLeft||0;c=zk.gecko&&c!=document.body?zDom.offsetParent(c):c.offsetParent;if(c){if(c.tagName=="BODY"){break}var d=zDom.getStyle(c,"position");if(d=="relative"||d=="absolute"){break}}}while(c);return[a,b]},relativize:function(b){if(b.style.position=="relative"){return}var a=b.style;a.position="relative";var d=parseFloat(a.top||0)-(b._$orgTop||0),c=parseFloat(a.left||0)-(b._$orgLeft||0);a.top=d+"px";a.left=c+"px"},offsetParent:function(a){if(a.offsetParent){return a.offsetParent}if(a==document.body){return a}while((a=a.parentNode)&&a!=document.body){if(a.style&&zDom.getStyle(a,"position")!="static"){return a}}return document.body},offsetWidth:function(d){if(!d){return 0}if(!zk.safari||zDom.tag(d)!="TR"){return d.offsetWidth}var c=0;for(var b=d.cells,a=b.length;--a>=0;){c+=b[a].offsetWidth}return c},offsetHeight:function(e){if(!e){return 0}if(!zk.safari||zDom.tag(e)!="TR"){return e.offsetHeight}var c=0;for(var b=e.cells,a=b.length;--a>=0;){var d=b[a].offsetHeight;if(d>c){c=d}}return c},offsetTop:function(a){if(!a){return 0}if(zk.safari&&zDom.tag(a)==="TR"&&a.cells.length){a=a.cells[0]}return a.offsetTop},offsetLeft:function(a){if(!a){return 0}if(zk.safari&&zDom.tag(a)==="TR"&&a.cells.length){a=a.cells[0]}return a.offsetLeft},viewportOffset:function(c){var b=0,a=0,d=c;do{b+=d.offsetTop||0;a+=d.offsetLeft||0;if(d.offsetParent==document.body){if(zDom.getStyle(d,"position")=="absolute"){break}}}while(d=d.offsetParent);do{if(!zk.opera||c.tagName=="BODY"){b-=c.scrollTop||0;a-=c.scrollLeft||0}}while(c=c.parentNode);return[a,b]},getTextSize:function(d,a){var e=zk._txtSizDiv;if(!e){e=zk._txtSizDiv=document.createElement("DIV");e.style.cssText="left:-1000px;position:absolute;visibility:hidden;border:none";document.body.appendChild(e)}for(var c=zk.TEXT_STYLES,b=c.length;--b>=0;){e.style[c[b]]=Element.getStyle(d,c[b])}e.innerHTML=a;return[e.offsetWidth,e.offsetHeight]},TEXT_STYLES:["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","lineHeight","textAlign","textDecoration","textIndent","textShadow","textTransform","textOverflow","direction","wordSpacing","whiteSpace"],getDimension:function(c){var g=zDom.getStyle(c,"display");if(g!="none"&&g!=null){return{width:zDom.offsetWidth(c),height:zDom.offsetHeight(c),top:zDom.offsetTop(c),left:zDom.offsetLeft(c)}}var j=c.style,i=j.visibility,e=j.position,b=j.display;j.visibility="hidden";j.position="absolute";j.display="block";var a=c.clientWidth,d=c.clientHeight,f=c.offsetTop,h=c.offsetLeft;j.display=b;j.position=e;j.visibility=i;return{width:a,height:d,top:f,left:h}},_clsregexs:{},_clsRegEx:function(b){var a=zDom._clsregexs[b];if(!a){a=new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","g");zDom._clsregexs[b]=a}return a},hasClass:function(a,b){return a.className.match(zDom._clsRegEx(b))!=null},addClass:function(a,b){if(a&&!zDom.hasClass(a,b)){var c=a.className;if(c.length){c+=" "}a.className=c+b}},rmClass:function(b,c){if(b&&zDom.hasClass(b,c)){var a=zDom._clsRegEx(c);b.className=b.className.replace(a," ").trim()}},_txtstyles:["color","background-color","background","white-space"],getTextStyle:function(a,g,b){var f="";for(var e=0,d=0;d>=0;e=d+1){d=a.indexOf(";",e);var i=d>=0?a.substring(e,d):a.substring(e);var c=i.indexOf(":");var h=c<0?i.trim():i.substring(0,c).trim();if(h.startsWith("font")||h.startsWith("text")||zDom._txtstyles.$contains(h)||(g&&h=="width")||(b&&h=="height")){f+=i+";"}}return f},getStyle:function(d,c){var a=d.style;if(["float","cssFloat"].$contains(c)){c=(typeof a.styleFloat!="undefined"?"styleFloat":"cssFloat")}c=c.$camel();var e=a[c];if(!e){if(document.defaultView&&document.defaultView.getComputedStyle){var b=document.defaultView.getComputedStyle(d,null);e=b?b[c]:null}else{if(d.currentStyle){e=d.currentStyle[c]}}}if(e=="auto"&&["width","height"].$contains(c)&&zDom.getStyle(d,"display")!="none"){e=d["offset"+c.capitalize()]+"px"}if(zk.opera&&["left","top","right","bottom"].$contains(c)&&zDom.getStyle(d,"position")=="static"){e="auto"}if(c=="opacity"){if(e){return parseFloat(e)}if(e=(zDom.getStyle(d,"filter")||"").match(/alpha\(opacity=(.*)\)/)&&e[1]){return parseFloat(e[1])/100}return 1}return e=="auto"?null:e},setStyle:function(d,c){var b=d.style;for(var a in c){var e=c[a];if(a=="opacity"){if(e==1){e=(/gecko/.test(zk.userAgent)&&!/konqueror|safari|khtml/.test(zk.userAgent))?0.999999:1;if(zk.ie){b.filter=zDom.getStyle(d,"filter").replace(/alpha\([^\)]*\)/gi,"")}}else{if(e===""){if(zk.ie){b.filter=zDom.getStyle(d,"filter").replace(/alpha\([^\)]*\)/gi,"")}}else{if(e<0.00001){e=0}if(zk.ie){b.filter=zDom.getStyle(d,"filter").replace(/alpha\([^\)]*\)/gi,"")+"alpha(opacity="+e*100+")"}}}}else{if(["float","cssFloat"].$contains(a)){a=(typeof b.styleFloat!="undefined")?"styleFloat":"cssFloat"}}b[a.$camel()]=e}},parseStyle:function(e){var g={};if(e){var f=e.split(";");for(var d=0,b=f.length;d<b;){var c=f[d++].split(":"),a=c.length>0?c[0].trim():"";if(a){g[a]=c.length>1?c[1].trim():""}}}return g},getOpacity:function(a){return zDom.getStyle(a,"opacity")},setOpacity:function(a,b){zDom.setStyle(a,{opacity:b})},redoCSS:function(a,b){a=zDom.$(a);if(a){try{a.className+=" ";a.className.trim()}catch(c){}}},reOuter:function(a){a=zDom.$(a);if(a){zDom.setOuterHTML(a,zDom.getOuterHTML(a))}},cleanWhitespace:function(b){for(var c=b.firstChild;c;){var a=c.nextSibling;if(c.nodeType==3&&!/\S/.test(c.nodeValue)){b.removeChild(c)}c=a}},makePositioned:function(a){var b=zDom.getStyle(a,"position");if(b=="static"||!b){a._$positioned=true;a.style.position="relative";if(zk.opera){a.style.top=a.style.left=0}}},undoPositioned:function(b){if(b._$positioned){b._$positioned=undefined;var a=b.style;a.position=a.top=a.left=a.bottom=a.right=""}},makeClipping:function(b){if(!b._$clipping){var a=b.style;b._$clipping=true;b._$overflow=a.overflow;b._$overflowX=a.overflowX;b._$overflowY=a.overflowY;if(zDom.getStyle(b,"overflow")!="hidden"){a.overflow="hidden"}}},undoClipping:function(b){if(b._$clipping){var a=b.style;a.overflow=b._$overflow;a.overflowX=b._$overflowX;a.overflowY=b._$overflowY;b._$clipping=b._$overflow=b._$overflowX=b._$overflowY=undefined}},getOuterHTML:function(a){if(a.outerHTML){return a.outerHTML}var c=document.createElement("DIV");var b=a.cloneNode(true);c.appendChild(b);return c.innerHTML},setOuterHTML:function(a,e){a=zDom.$(a);var i=a.parentNode,b=a.previousSibling;zDom.unfixDom(a);if(zk.ie){var k=zDom.tag(a);if(k=="TD"||k=="TH"||k=="TABLE"||k=="TR"||k=="CAPTION"||k=="TBODY"||k=="THEAD"||k=="TFOOT"||k=="COLGROUP"||k=="COL"){var h=zDom._tblNewElems(e);var f=a.nextSibling;i.removeChild(a);for(var c=0,g=h.length;c<g;++c){if(f){i.insertBefore(h[c],f)}else{i.appendChild(h[c])}}}else{a.outerHTML=e}}if(a.outerHTML){a.outerHTML=e}else{if(zk.gecko2Only&&zDom.tag(a)=="LEGEND"){a.innerHTML=zDom._removeOuter(e)}else{var d=a.ownerDocument.createRange();d.selectNodeContents(a);i.replaceChild(d.createContextualFragment(e),a)}}if(!e){a=null}else{if(b){a=b.nextSibling}else{a=i.firstChild}}zDom.fixDom(a);return a},_removeOuter:function(c){var b=c.indexOf(">")+1,a=c.lastIndexOf("<");return a>=b?c.substring(b,a):c},insertHTMLBefore:function(e,c){if(zk.ie){switch(zDom.tag(e)){case"TD":case"TH":case"TR":case"CAPTION":case"COLGROUP":case"TBODY":case"THEAD":case"TFOOT":var d=zDom._tblNewElems(c);var f=e.parentNode;for(var b=0,a=d.length;b<a;++b){f.insertBefore(d[b],e)}return}}e.insertAdjacentHTML("beforeBegin",c)},insertHTMLBeforeEnd:function(f,d){if(zk.ie){var a=zDom.tag(f);switch(a){case"TABLE":case"TR":case"TBODY":case"THEAD":case"TFOOT":case"COLGROUP":var e=zDom._tblNewElems(d);if(a=="TABLE"&&e.length&&zDom.tag(e[0])=="TR"){var g=f.tBodies;if(!g||!g.length){g=document.createElement("TBODY");f.appendChild(g);f=g}else{f=g[g.length-1]}}for(var c=0,b=e.length;c<b;++c){f.appendChild(e[c])}return}}f.insertAdjacentHTML("beforeEnd",d)},insertHTMLAfter:function(f,d){if(zk.ie){switch(zDom.tag(f)){case"TD":case"TH":case"TR":case"CAPTION":case"TBODY":case"THEAD":case"TFOOT":case"COLGROUP":case"COL":var e=zDom._tblNewElems(d);var c=f.nextSibling;var g=f.parentNode;for(var b=0,a=e.length;b<a;++b){if(c!=null){g.insertBefore(e[b],c)}else{g.appendChild(e[b])}}return}}f.insertAdjacentHTML("afterEnd",d)},insertAfter:function(b,c){var a=c.nextSibling;if(a){c.parentNode.insertBefore(b,a)}else{c.parentNode.appendChild(b)}},insertBefore:function(a,b){b.parentNode.insertBefore(a,b)},remove:function(a){a=zDom.$(a);if(a&&a.parentNode){a.parentNode.removeChild(a)}},appendScript:function(b,c){var a=document.createElement("SCRIPT");a.type="text/javascript";a.charset=c?c:"UTF-8";a.src=b;document.getElementsByTagName("HEAD")[0].appendChild(a)},nextSibling:function(b,a){while(b&&(b=b.nextSibling)!=null&&zDom.tag(b)!=a){}return b},previousSibling:function(b,a){while(b&&(b=b.previousSibling)!=null&&zDom.tag(b)!=a){}return b},firstChild:function(c,a,b){for(var e=c.firstChild;e;e=e.nextSibling){if(zDom.tag(e)==a){return e}}if(b){for(var e=c.firstChild;e;e=e.nextSibling){var d=zDom.firstChild(e,a,b);if(d){return d}}}return null},lastChild:function(c,a,b){for(var e=c.lastChild;e;e=e.previousSibling){if(zDom.tag(e)==a){return e}}if(b){for(var e=c.lastChild;e;e=e.previousSibling){var d=zDom.lastChild(e,a,b);if(d){return d}}}return null},parentNode:function(a){return a.z_vp||a.parentNode},parentByTag:function(b,a){for(;b;b=zDom.parentNode(b)){if(zDom.tag(b)==a){return b}}return null},vparent:function(a){return a.z_vp},makeVParent:function(c){if(c.z_vp){return}var b=c.nextSibling,d=c.parentNode,a=c.z_vpagtx=document.createElement("SPAN");a.style.display="none";if(b){d.insertBefore(a,b)}else{d.appendChild(a)}c.z_vp=d;document.body.appendChild(c)},undoVParent:function(b){var c=b.z_vp;if(c){var a=b.z_vpagtx;b.z_vp=b.z_vpagtx=null;if(a){c.insertBefore(b,a);zDom.remove(a)}else{c.appendChild(b)}}},makeStackup:function(b,d,a){var c=document.createElement("iframe");c.id=d||(b?b.id+"$ifrstk":"z_ifrstk");c.style.cssText="position:absolute;overflow:hidden;filter:alpha(opacity=0)";c.frameBorder="no";c.tabIndex=-1;c.src="";if(b){c.style.width=b.offsetWidth+"px";c.style.height=b.offsetHeight+"px";c.style.top=b.style.top;c.style.left=b.style.left;b.parentNode.insertBefore(c,a||b)}return c},confirm:function(b){zk.alerting=true;try{return confirm(b)}finally{try{zk.alerting=false}catch(a){}}},alert:function(b){zk.alerting=true;try{alert(b)}finally{try{zk.alerting=false}catch(a){}}},focus:function(c,b){c=zDom.$(c);if(!c||!c.focus){return false}var a=zDom.tag(c);if(a!="BUTTON"&&a!="INPUT"&&a!="SELECT"&&a!="IFRAME"){return false}if(b>=0){setTimeout(function(){zDom._focus(c)},b)}else{zDom._focus(c)}return true},_focus:function(b){try{b.focus()}catch(a){setTimeout(function(){try{b.focus()}catch(c){setTimeout(function(){try{b.focus()}catch(d){}},100)}},0)}},select:function(b,a){b=zDom.$(b);if(!b||typeof b.select!="function"){return false}if(a>=0){setTimeout(function(){zDom._select(b)},a)}else{zDom._select(b)}return true},_select:function(b){try{b.select()}catch(a){setTimeout(function(){try{b.select()}catch(c){}},0)}},getSelectionRange:function(d){try{if(document.selection!=null&&d.selectionStart==null){var b=document.selection.createRange();var a=d.createTextRange();var c="";if(d.type.toLowerCase()=="text"){c=a.duplicate()}else{c=b.duplicate();c.moveToElementText(d)}c.setEndPoint("EndToEnd",b);var g=c.text.length-b.text.length;return[g,g+b.text.length]}else{return[d.selectionStart,d.selectionEnd]}}catch(f){return[0,0]}},setSelectionRange:function(d,e,b){var a=d.value.length;if(e<0){e=0}if(e>a){e=a}if(b<0){b=0}if(b>a){b=a}if(d.setSelectionRange){d.setSelectionRange(e,b);d.focus()}else{if(d.createTextRange){var c=d.createTextRange();if(e!=b){c.moveEnd("character",b-c.text.length);c.moveStart("character",e)}else{c.move("character",e)}c.select()}}},clearSelection:function(){try{if(window.getSelection){if(zk.safari){window.getSelection().collapse()}else{window.getSelection().removeAllRanges()}}else{if(document.selection){if(document.selection.empty){document.selection.empty()}else{if(document.selection.clear){document.selection.clear()}}}}return true}catch(a){return false}},disableSelection:function(a){a=zDom.$(a);if(a){if(zk.gecko){a.style.MozUserSelect="none"}else{if(zk.safari){a.style.KhtmlUserSelect="none"}else{if(zk.ie){a.onselectstart=function(c){var d=zEvt.target(c),b=zDom.tag(d);return b=="TEXTAREA"||b=="INPUT"&&(d.type=="text"||d.type=="password")}}}}}},enableSelection:function(a){a=zDom.$(a);if(a){if(zk.gecko){a.style.MozUserSelect=""}else{if(zk.safari){a.style.KhtmlUserSelect=""}else{if(zk.ie){a.onselectstart=null}}}}}};if(zk.ie){zk.copy(zDom,{_tagOfHtml:function(d){if(!d){return""}var c=d.indexOf("<")+1,b=c,a=c?d.length:0;for(;b<a;++b){var e=d.charAt(b);if(e==">"||zk.isWhitespace(e)){return d.substring(c,b).toUpperCase()}}throw"Unknown tag in "+d},_tblNewElems:function(c){var g,a=zDom._tagOfHtml(c);switch(a){case"TABLE":g=0;break;case"TR":g=2;c="<table>"+c+"</table>";break;case"TH":case"TD":g=3;c="<table><tr>"+c+"</tr></table>";break;case"COL":g=2;c="<table><colgroup>"+c+"</colgroup></table>";break;default:g=1;c="<table>"+c+"</table>";break}var e=document.createElement("DIV");e.innerHTML=c;while(--g>=0){e=e.firstChild}var d=[];for(var f;f=e.firstChild;){var b=zDom.tag(f);if(b==a||b!="TBODY"){d.push(f)}e.removeChild(f)}return d}})}else{if(!HTMLElement.prototype.insertAdjacentHTML){HTMLElement.prototype.insertAdjacentHTML=function(c,b){var a=this.ownerDocument.createRange(),d;switch(String(c).toLowerCase()){case"beforebegin":a.setStartBefore(this);d=a.createContextualFragment(b);this.parentNode.insertBefore(d,this);break;case"afterbegin":a.selectNodeContents(this);a.collapse(true);d=a.createContextualFragment(b);this.insertBefore(d,this.firstChild);break;case"beforeend":a.selectNodeContents(this);a.collapse(false);d=a.createContextualFragment(b);this.appendChild(d);break;case"afterend":a.setStartAfter(this);d=a.createContextualFragment(b);zDom.insertAfter(d,this);break}}}}zk.copy(zDom,zk.ie?{fixDom:function(a){if(a){zDom._fxns.push(a);setTimeout(zDom._fixDom,100)}},unfixDom:function(a){if(a&&!zDom._fxns.$remove(a)){setTimeout(function(){zDom._unfixDom(a)},1000)}},_fxns:[],_fixDom:function(){var a=zDom._fxns.shift();if(a){zDom._fixBU(a.getElementsByTagName("A"));zDom._fixBU(a.getElementsByTagName("AREA"));if(zDom._fxns.length){setTimeout(zDom._fixDom,300)}}},_unfixDom:function(a){if(a){zDom._unfixBU(a.getElementsByTagName("A"));zDom._unfixBU(a.getElementsByTagName("AREA"))}},_fixBU:function(b){for(var a=b.length;--a>=0;){var c=b[a];if(!c.z_fixed&&c.href.indexOf("javascript:")>=0){c.z_fixed=true;zEvt.listen(c,"click",zDom._doSkipBfUnload)}}},_unfixBU:function(b){for(var a=b.length;--a>=0;){var c=b[a];if(c.z_fixed){c.z_fixed=false;zEvt.unlisten(c,"click",zDom._doSkipBfUnload)}}},_doSkipBfUnload:function(){zk.skipBfUnload=true;setTimeout(zDom._unSkipBfUnload,0)},_unSkipBfUnload:function(){zk.skipBfUnload=false}}:{fixDom:zk.$void,unfixDom:zk.$void});zk.Color=zk.$extends(zk.Object,{$init:function(b){var d=this.rgb=[0,0,0];if(b.slice(0,4)=="rgb("){var f=b.slice(4,b.length-1).split(",");for(var c=0,a=f.length;c<a;c++){d[c]=parseInt(f[c])}}else{if(b.slice(0,1)=="#"){if(b.length==4){for(var c=0;c<3;c++){var g=b.charAt(c+1);d[c]=parseInt(g+g,16)}}else{if(b.length==7){for(var c=0,e=1;c<3;c++,e+=2){d[c]=parseInt(b.substring(e,e+2),16)}}}}}},toString:function(){var c="#";for(var b=0;b<3;){var a=this.rgb[b++];if(a<16){c+="0"}c+=new Number(a).toString(16)}return c}});
zEvt={target:function(a){a=a||window.event;return a.target||a.srcElement},stop:function(a){a=a||window.event;if(a.preventDefault){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true;if(!a.shiftKey&&!a.ctrlKey){a.keyCode=0}}},leftClick:function(a){a=a||window.event;return a.which==1||a.button==0||a.button==1},rightClick:function(a){a=a||window.event;return a.which==3||a.button==2},mouseData:function(a,e){a=a||window.event;var d=zDom.cmOffset(e?e:zEvt.target(a)),c=zEvt.x(a),b=zEvt.y(a);return{x:c-d[0],y:b-d[1],pageX:c,pageY:b,keys:zEvt.keyMetaData(a),marshal:zEvt._mouseDataMarshal}},keyData:function(a){a=a||window.event;return{keyCode:zEvt.keyCode(a),charCode:zEvt.charCode(a),keys:zEvt.keyMetaData(a),marshal:zEvt._keyDataMarshal}},keyMetaData:function(a){a=a||window.event;return{altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,leftClick:zEvt.leftClick(a),rightClick:zEvt.rightClick(a),marshal:zEvt._keyMetaDataMarshal}},_mouseDataMarshal:function(){return[this.x,this.y,this.pageX,this.pageY,this.keys.marshal()]},_keyDataMarshal:function(){return[this.keyCode,this.charCode,this.keys.marshal()]},_keyMetaDataMarshal:function(){var a="";if(this.altKey){a+="a"}if(this.ctrlKey){a+="c"}if(this.shiftKey){a+="s"}if(this.leftClick){a+="l"}if(this.rightClick){a+="r"}return a},x:function(a){a=a||window.event;return a.pageX||(a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))},y:function(a){a=a||window.event;return a.pageY||(a.clientY+(document.documentElement.scrollTop||document.body.scrollTop))},pointer:function(a){return[zEvt.x(a),zEvt.y(a)]},charCode:function(a){a=a||window.event;return a.charCode||a.keyCode},keyCode:function(a){a=a||window.event;var b=a.keyCode||a.charCode;return zk.safari?(zEvt.safariKeys[b]||b):b},listen:function(b,c,a){if(b.addEventListener){b.addEventListener(c,a,false)}else{b.attachEvent("on"+c,a)}},unlisten:function(b,d,a){if(b.removeEventListener){b.removeEventListener(d,a,false)}else{if(b.detachEvent){try{b.detachEvent("on"+d,a)}catch(c){}}}},enableESC:function(){if(zDom._noESC){zEvt.unlisten(document,"keydown",zDom._noESC);delete zDom._noESC}if(zDom._onErrChange){window.onerror=zDom._oldOnErr;if(zDom._oldOnErr){delete zDom._oldOnErr}delete zDom._onErrChange}},disableESC:function(){if(!zDom._noESC){zDom._noESC=function(a){a=a||window.event;if(a.keyCode==27){zEvt.stop(a);return false}return true};zEvt.listen(document,"keydown",zDom._noESC);zDom._oldOnErr=window.onerror;zDom._onErrChange=true;window.onerror=function(d,b,c){var e=zAu.comURI();if(e&&b.indexOf(location.host)>=0){var a=e.lastIndexOf(";");a=a>=0?e.substring(0,a):e;if(b.indexOf(a+"/web/")>=0){d=mesg.FAILED_TO_LOAD+b+"\n"+mesg.FAILED_TO_LOAD_DETAIL+"\n"+mesg.CAUSE+d+" (line "+c+")";if(zk.error){zk.error(d)}else{alert(d)}return true}}}}}};if(zk.safari){zEvt.safariKeys={25:9,63232:38,63233:40,63234:37,63235:39,63272:46,63273:36,63275:35,63276:33,63277:34}}zk.Event=zk.$extends(zk.Object,{$init:function(e,b,d,c,a){this.currentTarget=this.target=e;this.name=b;this.data=d;this.opts=c;var f=this.nativeEvent=a||window.event;if(f){this.nativeTarget=zEvt.target(f)}},stop:function(a){this.stopped=!a}},{BS:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,PGUP:33,PGDN:34,END:35,HOME:36,LFT:37,UP:38,RGH:39,DN:40,INS:45,DEL:46,F1:112});zWatch={listen:function(d,e){var c=zWatch._wts[d];if(c){var a=e.bindLevel;if(a!=null){for(var b=c.length;;){if(--b<0){c.unshift(e);break}if(a>=c[b].bindLevel){c.$addAt(b+1,e);break}}}else{c.push(e)}}else{c=zWatch._wts[d]=[e]}},unlisten:function(b,c){var a=zWatch._wts[b];return a&&a.$remove(c)},unlistenAll:function(a){delete zWatch._wts[a]},fire:function(f,g,e){var d=zWatch._wts[f];if(d&&d.length){var c=[];for(var b=2,a=arguments.length;b<a;){c.push(arguments[b++])}d=d.$clone();if(g){if(g.visible){for(var b=d.length;--b>=0;){if(!zWatch._visible(d[b])){d.splice(b,1)}}}if(g.timeout>=0){setTimeout(function(){var i;while(i=d.shift()){i[f].apply(i,c)}},g.timeout);return}}var h;while(h=d.shift()){h[f].apply(h,c)}}},fireDown:function(b,a,n,p){var g=zWatch._wts[b];if(g&&g.length){zWatch._sync();var h=[n];for(var f=3,e=arguments.length;f<e;){h.push(arguments[f++])}var q,k=n.bindLevel,d=a&&a.visible;if(k!=null){q=[];for(var f=g.length,c;--f>=0;){c=g[f];var m=k>c.bindLevel;if(m>0){break}if(!m&&n==c){q.unshift(c);break}var i=d?zWatch._visibleChild:zUtl.isAncestor;if(i(n,c)){q.unshift(c)}}}else{q=g.$clone()}if(a&&a.timeout>=0){setTimeout(function(){var j;while(j=q.shift()){j[b].apply(j,h)}},a.timeout);return}var c;while(c=q.shift()){c[b].apply(c,h)}}},_visibleChild:function(a,b){for(;b;b=b.parent){if(a==b){return true}if(b.isVisible&&!b.isVisible(true)){break}}return false},_visible:function(a){for(;a;a=a.parent){if(a.isVisible&&!a.isVisible(true)){return false}}return true},onBindLevelMove:function(){zWatch._dirty=true},_sync:function(){if(!zWatch._dirty){return}zWatch._dirty=false;for(var a in zWatch._wts){var b=zWatch._wts[a];if(b.length&&b[0].bindLevel!=null){b.sort(zWatch._cmp)}}},_cmp:function(d,c){return d.bindLevel-c.bindLevel},_wts:{}};zWatch.listen("onBindLevelMove",zWatch);
zk.Draggable=zk.$extends(zk.Object,{$init:function(d,c,b){var a=zk.Draggable;if(!a._stackup){var e=a._stackup=zDom.makeStackup(null,"z_ddstkup");zDom.hide(e);document.body.appendChild(e)}this.control=d;this.node=c=c?zDom.$(c):d.node||d.getNode();b=zk.$default(b,{zIndex:1000,scrollSensitivity:20,scrollSpeed:15,delay:0});if(b.reverteffect==null){b.reverteffect=a._defRevertEffect}if(b.endeffect==null){b.endeffect=a._defEndEffect;if(b.starteffect==null){b.starteffect=a._defStartEffect}}if(b.handle){this.handle=zDom.$(b.handle)}if(!this.handle){this.handle=c}if(b.scroll&&!b.scroll.scrollTo&&!b.scroll.outerHTML){b.scroll=zDom.$(b.scroll);this._isScrollChild=zUtl.isAncestor(b.scroll,c)}this.delta=this._currentDelta();this.opts=b;this.dragging=false;zEvt.listen(this.handle,"mousedown",this.proxy(this._mouseDown,"_pxMouseDown"));a._register(this)},destroy:function(){zEvt.unlisten(this.handle,"mousedown",this._pxMouseDown);zk.Draggable._unregister(this);this.node=this.control=this.handle=null},_currentDelta:function(){return[zk.parseInt(zDom.getStyle(this.node,"left")),zk.parseInt(zDom.getStyle(this.node,"top"))]},_startDrag:function(a){zDom.disableSelection(document.body);if(this.opts.overlay){this._overlay=document.createElement("DIV");document.body.appendChild(this._overlay);this._overlay=zDom.setOuterHTML(this._overlay,'<div class="z-dd-overlay" id="zk_dd_overlay"></div>');zDom.disableSelection(this._overlay);var c=this._overlay.style;c.width=zDom.pageWidth()+"px";c.height=zDom.pageHeight()+"px"}zk.dragging=this.dragging=true;var e=this.node,d=zk.Draggable;if(this.opts.ghosting){if(typeof this.opts.ghosting=="function"){this.delta=this._currentDelta();this.z_elorg=this.node;var g=zDom.cmOffset(this.node);this.z_scrl=zDom.scrollOffset(this.node);this.z_scrl[0]-=zDom.innerX();this.z_scrl[1]-=zDom.innerY();g[0]-=this.z_scrl[0];g[1]-=this.z_scrl[1];e=this.node=this.opts.ghosting(this,g,a)}else{this._clone=e.cloneNode(true);this.z_orgpos=e.style.position;if(this.z_orgpos!="absolute"){zDom.absolutize(e)}e.parentNode.insertBefore(this._clone,e)}}if(this.opts.stackup){var f=d._stackup;if(zDom.isVisible(f)){this._stackup=zDom.makeStackup(e,e.id+"$ddstk")}else{this._stackup=f;this._syncStackup();e.parentNode.insertBefore(this._stackup,e)}}if(this.opts.zIndex){this.originalZ=zk.parseInt(zDom.getStyle(e,"z-index"));e.style.zIndex=this.opts.zIndex}if(this.opts.scroll){if(this.opts.scroll==window){var b=this._getWindowScroll(this.opts.scroll);this.originalScrollLeft=b.left;this.originalScrollTop=b.top}else{this.originalScrollLeft=this.opts.scroll.scrollLeft;this.originalScrollTop=this.opts.scroll.scrollTop}}if(this.opts.starteffect){this.opts.starteffect(this)}},_syncStackup:function(){if(this._stackup){var b=this.node,a=this._stackup.style;a.display="block";a.left=b.offsetLeft+"px";a.top=b.offsetTop+"px";a.width=b.offsetWidth+"px";a.height=b.offsetHeight+"px"}},_updateDrag:function(pointer,evt){if(!this.dragging){this._startDrag(evt)}this._updateInnerOfs();this._draw(pointer,evt);if(this.opts.change){this.opts.change(this,pointer)}this._syncStackup();if(this.opts.scroll){this._stopScrolling();var p;if(this.opts.scroll==window){with(this._getWindowScroll(this.opts.scroll)){p=[left,top,left+width,top+height]}}else{p=zDom.viewportOffset(this.opts.scroll);p[0]+=this.opts.scroll.scrollLeft+this._innerOfs[0];p[1]+=this.opts.scroll.scrollTop+this._innerOfs[1];p.push(p[0]+this.opts.scroll.offsetWidth);p.push(p[1]+this.opts.scroll.offsetHeight)}var speed=[0,0];if(pointer[0]<(p[0]+this.opts.scrollSensitivity)){speed[0]=pointer[0]-(p[0]+this.opts.scrollSensitivity)}if(pointer[1]<(p[1]+this.opts.scrollSensitivity)){speed[1]=pointer[1]-(p[1]+this.opts.scrollSensitivity)}if(pointer[0]>(p[2]-this.opts.scrollSensitivity)){speed[0]=pointer[0]-(p[2]-this.opts.scrollSensitivity)}if(pointer[1]>(p[3]-this.opts.scrollSensitivity)){speed[1]=pointer[1]-(p[3]-this.opts.scrollSensitivity)}this._startScrolling(speed)}if(navigator.appVersion.indexOf("AppleWebKit")>0){window.scrollBy(0,0)}zEvt.stop(evt)},_finishDrag:function(b,h){this.dragging=false;if(this._overlay){zDom.remove(this._overlay);delete this._overlay}zDom.enableSelection(document.body);setTimeout(zDom.clearSelection,0);var c=this._stackup;if(c){if(c==zk.Draggable._stackup){zDom.hide(c)}else{zDom.remove(c)}delete this._stackup}var e=this.node;if(this.opts.ghosting){if(typeof this.opts.ghosting=="function"){if(this.opts.endghosting){this.opts.endghosting(this,this.z_elorg)}if(this.node!=this.z_elorg){zDom.remove(this.node);this.node=this.z_elorg}delete this.z_elorg}else{if(this.z_orgpos!="absolute"){zDom.relativize(e);e.style.position=this.z_orgpos}zDom.remove(this._clone);this._clone=null}}var g=zEvt.pointer(b);var a=this.opts.revert;if(a&&typeof a=="function"){a=a(this,g,b)}var f=this._currentDelta();if(a&&this.opts.reverteffect){this.opts.reverteffect(this,f[1]-this.delta[1],f[0]-this.delta[0])}else{this.delta=f}if(this.opts.zIndex){e.style.zIndex=this.originalZ}if(this.opts.endeffect){this.opts.endeffect(this,b)}zk.Draggable._deactivate(this);setTimeout("zk.dragging=false",0)},_mouseDown:function(k){var d=this.node,e=zk.Draggable;if(e._dragging[d]||!zEvt.leftClick(k)){return}var h=zEvt.target(k);tag=zDom.tag(h);if(tag=="INPUT"||tag=="SELECT"||tag=="OPTION"||tag=="BUTTON"||tag=="TEXTAREA"){return}for(var b=h;b&&b!=d;b=b.parentNode){if(zDom.getStyle(b,"position")=="absolute"){return}}var a=zEvt.pointer(k);if(this.opts.ignoredrag&&this.opts.ignoredrag(this,a,k)){return}var j=zDom.cmOffset(d);this.offset=[a[0]-j[0],a[1]-j[1]];e._activate(this);if(zk.currentFocus){var g=zk.currentFocus.getNode();if(g&&h!=g&&typeof g.blur=="function"){g.blur()}}zEvt.stop(k);var i=this.control;if(i&&!i.$instanceof(zk.Widget)){i=null}zk.Widget.domMouseDown(i)},_keyPress:function(a){if(zEvt.keyCode(a)==zEvt.ESC){this._finishDrag(a,false);zEvt.stop(a)}},_endDrag:function(a){if(this.dragging){this._stopScrolling();this._finishDrag(a,true);zEvt.stop(a)}},_draw:function(h,j){var e=this.node,g=zDom.cmOffset(e);if(this.opts.ghosting){var a=zDom.scrollOffset(e);g[0]+=a[0]-this._innerOfs[0];g[1]+=a[1]-this._innerOfs[1]}var f=this._currentDelta();g[0]-=f[0];g[1]-=f[1];if(this.opts.scroll&&(this.opts.scroll!=window&&this._isScrollChild)){g[0]-=this.opts.scroll.scrollLeft-this.originalScrollLeft;g[1]-=this.opts.scroll.scrollTop-this.originalScrollTop}var c=[h[0]-g[0]-this.offset[0],h[1]-g[1]-this.offset[1]];if(this.opts.snap){if(typeof this.opts.snap=="function"){c=this.opts.snap(this,c)}else{if(this.opts.snap instanceof Array){c=[Math.round(c[0]/this.opts.snap[0])*this.opts.snap[0],Math.round(c[1]/this.opts.snap[1])*this.opts.snap[1]]}else{c=[Math.round(c[0]/this.opts.snap)*this.opts.snap,Math.round(c[1]/this.opts.snap)*this.opts.snap]}}}if(this.z_scrl){c[0]-=this.z_scrl[0];c[1]-=this.z_scrl[1]}var b=e.style;if(typeof this.opts.draw=="function"){this.opts.draw(this,c,j)}else{if(typeof this.opts.constraint=="function"){var i=this.opts.constraint(this,c,j);if(i){c=i}b.left=c[0]+"px";b.top=c[1]+"px"}else{if((!this.opts.constraint)||(this.opts.constraint=="horizontal")){b.left=c[0]+"px"}if((!this.opts.constraint)||(this.opts.constraint=="vertical")){b.top=c[1]+"px"}}}if(b.visibility=="hidden"){b.visibility=""}},_stopScrolling:function(){if(this.scrollInterval){clearInterval(this.scrollInterval);this.scrollInterval=null;zk.Draggable._lastScrollPointer=null}},_startScrolling:function(a){if(a[0]||a[1]){this.scrollSpeed=[a[0]*this.opts.scrollSpeed,a[1]*this.opts.scrollSpeed];this.lastScrolled=new Date();this.scrollInterval=setInterval(this.proxy(this._scroll),10)}},_scroll:function(){var zdg=zk.Draggable,current=new Date(),delta=current-this.lastScrolled;this.lastScrolled=current;if(this.opts.scroll==window){with(this._getWindowScroll(this.opts.scroll)){if(this.scrollSpeed[0]||this.scrollSpeed[1]){var d=delta/1000;this.opts.scroll.scrollTo(left+d*this.scrollSpeed[0],top+d*this.scrollSpeed[1])}}}else{this.opts.scroll.scrollLeft+=this.scrollSpeed[0]*delta/1000;this.opts.scroll.scrollTop+=this.scrollSpeed[1]*delta/1000}this._updateInnerOfs();if(this._isScrollChild){zdg._lastScrollPointer=zdg._lastScrollPointer||zdg._lastPointer;zdg._lastScrollPointer[0]+=this.scrollSpeed[0]*delta/1000;zdg._lastScrollPointer[1]+=this.scrollSpeed[1]*delta/1000;if(zdg._lastScrollPointer[0]<0){zdg._lastScrollPointer[0]=0}if(zdg._lastScrollPointer[1]<0){zdg._lastScrollPointer[1]=0}this._draw(zdg._lastScrollPointer)}if(this.opts.change){var evt=window.event;this.opts.change(this,evt?zEvt.pointer(evt):zdg._lastPointer)}},_updateInnerOfs:function(){this._innerOfs=[zDom.innerX(),zDom.innerY()]},_getWindowScroll:function(w){var T,L,W,H;with(w.document){if(w.document.documentElement&&documentElement.scrollTop){T=documentElement.scrollTop;L=documentElement.scrollLeft}else{if(w.document.body){T=body.scrollTop;L=body.scrollLeft}}if(w.innerWidth){W=w.innerWidth;H=w.innerHeight}else{if(w.document.documentElement&&documentElement.clientWidth){W=documentElement.clientWidth;H=documentElement.clientHeight}else{W=body.offsetWidth;H=body.offsetHeight}}}return{top:T,left:L,width:W,height:H}}},{_drags:[],_dragging:[],_register:function(a){var b=zk.Draggable;if(b._drags.length==0){zEvt.listen(document,"mouseup",b._docmouseup);zEvt.listen(document,"mousemove",b._docmousemove);zEvt.listen(document,"keypress",b._dockeypress)}b._drags.push(a)},_unregister:function(a){var b=zk.Draggable;b._drags.$remove(a);if(b._drags.length==0){zEvt.unlisten(document,"mouseup",b._docmouseup);zEvt.unlisten(document,"mousemove",b._docmousemove);zEvt.unlisten(document,"keypress",b._dockeypress)}},_activate:function(a){var b=zk.Draggable;if(zk.opera||a.opts.delay){b._timeout=setTimeout(function(){zk.Draggable._timeout=null;window.focus();zk.Draggable.activeDraggable=a},a.opts.delay)}else{window.focus();b.activeDraggable=a}},_deactivate:function(){zk.Draggable.activeDraggable=null},_docmousemove:function(a){var b=zk.Draggable;if(!b.activeDraggable){return}if(!a){a=window.event}var c=zEvt.pointer(a);if(b._lastPointer&&b._lastPointer[0]==c[0]&&b._lastPointer[1]==c[1]){return}b._lastPointer=c;b.activeDraggable._updateDrag(c,a)},_docmouseup:function(a){if(!a){a=window.event}var b=zk.Draggable;if(b._timeout){clearTimeout(b._timeout);b._timeout=null}if(!b.activeDraggable){return}b._lastPointer=null;b.activeDraggable._endDrag(a);b.activeDraggable=null},_dockeypress:function(a){if(!a){a=window.event}var b=zk.Draggable;if(b.activeDraggable){b.activeDraggable._keyPress(a)}},_restorePos:zk.ie?function(a,d){if(d!="absolute"&&d!="relative"){var b=a.parentNode;var c=a.nextSibling;zDom.remove(a);a.style.position=d;if(c){b.insertBefore(a,c)}else{b.appendChild(a)}}else{a.style.position=d}}:function(a,b){a.style.position=b},_defStartEffect:function(a){var b=a.node;b._$opacity=zDom.getOpacity(b);zk.Draggable._dragging[b]=true;new zk.eff.Opacity(b,{duration:0.2,from:b._$opacity,to:0.7})},_defEndEffect:function(b){var c=b.node,a=typeof c._$opacity=="number"?c._$opacity:1;new zk.eff.Opacity(c,{duration:0.2,from:0.7,to:a,queue:{scope:"_draggable",position:"end"},afterFinish:function(){zk.Draggable._dragging[c]=false}})},_defRevertEffect:function(a,d,c){var f=a.node,b=f.style.position,e=Math.sqrt(Math.abs(d^2)+Math.abs(c^2))*0.02;new zk.eff.Move(f,{x:-c,y:-d,duration:e,queue:{scope:"_draggable",position:"end"}});setTimeout(function(){zk.Draggable._restorePos(f,b)},e*1000+10)}});
zEffect={fade:function(b,c){b=zDom.$(b);var a=b.style.opacity||"";c=zk.$default(c,{to:0});if(!c.from){c.from=zDom.getOpacity(b)||1}if(!c.afterFinishInternal){c.afterFinishInternal=function(d){if(d.opts.to==0){var f=d.node;zDom.hide(f);zDom.setStyle(f,{opacity:a})}}}return new zk.eff.Opacity(b,c)},appear:function(a,b){a=zDom.$(a);b=zk.$default(b,{to:1});if(!b.from){b.from=zDom.getStyle(a,"display")=="none"?0:zDom.getOpacity(a)||0}if(!b.afterFinishInternal){b.afterFinishInternal=function(c){zDom.rerender(c.node)}}if(!b.beforeSetup){b.beforeSetup=function(c){var d=c.node;zDom.setOpacity(d,c.opts.from);zDom.show(d)}}return new zk.eff.Opacity(a,b)},puff:function(b,c){b=zDom.$(b);var a={opacity:b.style.opacity||"",position:zDom.getStyle(b,"position"),top:b.style.top,left:b.style.left,width:b.style.width,height:b.style.height};c=zk.$default(c,{duration:1});if(!c.beforeSetupInternal){c.beforeSetupInternal=function(d){zDom.absolutize(d._effects[0].node)}}if(!c.afterFinishInternal){c.afterFinishInternal=function(d){var f=d._effects[0].node;zDom.hide(f);zDom.setStyle(f,a)}}return new zk.eff.Parallel([new zk.eff.Scale(b,200,{sync:true,scaleFromCenter:true,scaleContent:true,restoreAfterFinish:true}),new zk.eff.Opacity(b,{sync:true,to:0})],c)},blindUp:function(a,b){a=zDom.$(a);zDom.makeClipping(a);b=zk.$default(b,{scaleContent:false,scaleX:false,restoreAfterFinish:true});if(!b.afterFinishInternal){b.afterFinishInternal=function(c){var d=c.node;zDom.hide(d);zDom.undoClipping(d)}}return new zk.eff.Scale(a,0,b)},blindDown:function(b,c){b=zDom.$(b);var a=zDom.getDimension(b);c=zk.$default(c,{scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:a.height,originalWidth:a.width},restoreAfterFinish:true});if(!c.afterSetup){c.afterSetup=function(d){var f=d.node;zDom.makeClipping(f);zDom.setStyle(f,{height:"0px"});zDom.show(f)}}if(!c.afterFinishInternal){afterFinishInternal=function(d){zDom.undoClipping(d.node)}}return new zk.eff.Scale(b,100,c)},switchOff:function(b,c){b=zDom.$(b);var a=b.style.opacity||"";c=zk.$default(c,{duration:0.4,from:0,transition:zEffect._Tranx.flicker});if(!c.afterFinishInternal){c.afterFinishInternal=function(d){new zk.eff.Scale(d.node,1,{duration:0.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(f){var g=f.node;zDom.makePositioned(g);zDom.makeClipping(g)},afterFinishInternal:function(f){var g=f.node;zDom.hide(g);zDom.undoClipping(g);zDom.undoPositioned(g);zDom.setStyle(g,{opacity:a})}})}}return appear(b,c)},dropOut:function(b,c){b=zDom.$(b);var a={top:zDom.getStyle(b,"top"),left:zDom.getStyle(b,"left"),opacity:b.style.opacity||""};c=zk.$default(c,{duration:0.5});if(!c.beforeSetup){c.beforeSetup=function(d){zDom.makePositioned(d._effects[0].node)}}if(!c.afterFinishInternal){c.afterFinishInternal=function(d){var f=d._effects[0].node;zDom.hide(f);zDom.undoPositioned(f);zDom.setStyle(f,a)}}return new zk.eff.Parallel([new zk.eff.Move(b,{x:0,y:100,sync:true}),new zk.eff.Opacity(b,{sync:true,to:0})],c)},slideOut:function(f,g){var d=g?g.anchor||"t":"t";f=zDom.$(f);var b,c=f.style;switch(d){case"t":b={x:0,y:-zk.parseInt(c.height),sync:true};break;case"b":b={x:0,y:zk.parseInt(c.height),sync:true};break;case"l":b={x:-zk.parseInt(c.width),y:0,sync:true};break;case"r":b={x:zk.parseInt(c.width),y:0,sync:true};break}var a={top:zDom.getStyle(f,"top"),left:zDom.getStyle(f,"left"),opacity:f.style.opacity||""};g=zk.$default(g,{duration:0.5});if(!g.beforeSetup){g.beforeSetup=function(h){zDom.makePositioned(h._effects[0].node)}}if(!g.beforeFinishInternal){g.beforeFinishInternal=function(h){zDom.hide(h._effects[0].node)}}if(!g.afterFinishInternal){g.afterFinishInternal=function(h){var i=h._effects[0].node;zDom.undoPositioned(i);zDom.setStyle(i,a)}}return new zk.eff.Parallel([new zk.eff.Move(f,b)],g)},slideIn:function(f,a){var g=a?a.anchor||"t":"t";f=zDom.$(f);var d={top:zDom.getStyle(f,"top"),left:zDom.getStyle(f,"left"),opacity:f.style.opacity||""};var b,m=f.style;switch(g){case"t":var k=zk.parseInt(m.top),i=zk.parseInt(m.height);m.top=k-i+"px";b={x:0,y:i,sync:true};break;case"b":var k=zk.parseInt(m.top),i=zk.parseInt(m.height);m.top=k+i+"px";b={x:0,y:-i,sync:true};break;case"l":var c=zk.parseInt(m.left),j=zk.parseInt(m.width);m.left=c-j+"px";b={x:j,y:0,sync:true};break;case"r":var c=zk.parseInt(m.left),j=zk.parseInt(m.width);m.left=c+j+"px";b={x:-j,y:0,sync:true};break}a=zk.$default(a,{duration:0.5});if(!a.beforeSetup){a.beforeSetup=function(h){var l=h._effects[0].node;zDom.show(l);zDom.makePositioned(l)}}if(!a.afterFinishInternal){a.afterFinishInternal=function(h){var l=h._effects[0].node;zDom.undoPositioned(l);zDom.setStyle(l,d)}}return new zk.eff.Parallel([new zk.eff.Move(f,b)],a)},slideDown:function(c,d){var b=d?d.anchor||"t":"t";c=zDom.$(c);zDom.cleanWhitespace(c);var g={t:zDom.getStyle(c,"top"),l:zDom.getStyle(c,"left")},a=b=="t"||b=="b",f=zDom.getDimension(c);d=zk.$default(d,{scaleContent:false,scaleX:!a,scaleY:a,scaleFrom:zk.opera?0:1,scaleMode:{originalHeight:f.height,originalWidth:f.width},restoreAfterFinish:true});if(!d.afterSetup){d.afterSetup=function(h){var i=h.node;zDom.makePositioned(i);switch(b){case"t":zDom.makeClipping(i);zDom.setStyle(i,{height:"0px"});zDom.show(i);break;case"b":g.ot=f.top+f.height;zDom.makeClipping(i);zDom.setStyle(i,{height:"0px",top:g.ot+"px"});zDom.show(i);break;case"l":zDom.makeClipping(i);zDom.setStyle(i,{width:"0px"});zDom.show(i);break;case"r":g.ol=f.left+f.width;zDom.makeClipping(i);zDom.setStyle(i,{width:"0px",left:g.ol+"px"});zDom.show(i);break}}}if(!d.afterUpdateInternal){d.afterUpdateInternal=function(h){var i=h.node;if(b=="b"){zDom.setStyle(i,{top:(g.ot-zk.parseInt(h.node.style.height))+"px"})}else{if(b=="r"){zDom.setStyle(i,{left:(g.ol-zk.parseInt(h.node.style.width))+"px"})}}}}if(!d.afterFinishInternal){d.afterFinishInternal=function(h){var i=h.node;zDom.undoClipping(i);zDom.undoPositioned(i);zDom.setStyle(i,{top:g.t,left:g.l})}}return new zk.eff.Scale(c,100,d)},slideUp:function(c,d){var b=d?d.anchor||"t":"t";c=zDom.$(c);zDom.cleanWhitespace(c);var f={t:zDom.getStyle(c,"top"),l:zDom.getStyle(c,"left")},a=b=="t"||b=="b";d=zk.$default(d,{scaleContent:false,scaleX:!a,scaleY:a,scaleMode:"box",scaleFrom:100,restoreAfterFinish:true});if(!d.beforeStartInternal){d.beforeStartInternal=function(g){var h=g.node;zDom.makePositioned(h);zDom.makeClipping(h);zDom.show(h);f.ot=h.offsetTop;f.oh=h.offsetHeight;f.ol=h.offsetLeft;f.ow=h.offsetWidth}}if(!d.afterUpdateInternal){d.afterUpdateInternal=function(g){var h=g.node;if(b=="b"){zDom.setStyle(h,{top:(f.ot+f.oh-zk.parseInt(g.node.style.height))+"px"})}else{if(b=="r"){zDom.setStyle(h,{left:(f.ol+f.ow-zk.parseInt(g.node.style.width))+"px"})}}}}if(!d.beforeFinishInternal){d.beforeFinishInternal=function(g){zDom.hide(g.node)}}if(!d.afterFinishInternal){d.afterFinishInternal=function(g){var h=g.node;zDom.undoClipping(h);zDom.undoPositioned(h);zDom.setStyle(h,{top:f.t,left:f.l})}}return new zk.eff.Scale(c,zk.opera?0:1,d)}};zk.eff={};zk.eff.Base_=zk.$extends(zk.Object,{position:null,start:function(a){this.opts=zk.$default(a,zEffect._defOpts);this.name=this.opts.name||"Base";this.currentFrame=0;this.state="idle";this.startOn=this.opts.delay*1000;this.finishOn=this.startOn+(this.opts.duration*1000);this.event("beforeStart");if(!this.opts.sync){zEffect._Queue.add(this)}},loop:function(c){if(c>=this.startOn){if(c>=this.finishOn){this.render(1);this.cancel();this.event("beforeFinish");if(this.finish){this.finish()}this.event("afterFinish");return}var b=(c-this.startOn)/(this.finishOn-this.startOn);var a=Math.round(b*this.opts.fps*this.opts.duration);if(a>this.currentFrame){this.render(b);this.currentFrame=a}}},render:function(a){if(this.state=="idle"){this.state="running";this.event("beforeSetup");if(this.setup){this.setup()}this.event("afterSetup")}if(this.state=="running"){if(this.opts.transition){a=this.opts.transition(a)}a*=(this.opts.to-this.opts.from);a+=this.opts.from;this.position=a;this.event("beforeUpdate");if(this.update){this.update(a)}this.event("afterUpdate")}},cancel:function(){if(!this.opts.sync){zEffect._Queue.remove(this)}this.state="finished"},event:function(a){if(this.opts[a+"Internal"]){this.opts[a+"Internal"](this)}if(this.opts[a]){this.opts[a](this)}}});zk.eff.Parallel=zk.$extends(zk.eff.Base_,{$init:function(b,a){this._effects=b||[];this.start(a)},update:function(b){for(var c=0,d=this._effects,a=d.length;c<a;){d[c++].render(b)}},finish:function(c){for(var d=0,f=this._effects,b=f.length;d<b;){var a=f[d++];a.render(1);a.cancel();a.event("beforeFinish");if(a.finish){a.finish(c)}a.event("afterFinish")}}});zk.eff.Opacity=zk.$extends(zk.eff.Base_,{$init:function(a,b){var c=this.node=zDom.$(a);if(zk.ie&&(!c.currentStyle.hasLayout)){zDom.setStyle(c,{zoom:1})}b=zk.$default(b,{to:1});if(!b.from){b.from=zDom.getOpacity(c)||0,this.start(b)}},update:function(a){zDom.setOpacity(this.node,a)}});zk.eff.Move=zk.$extends(zk.eff.Base_,{$init:function(a,b){this.node=zDom.$(a);b=zk.$default(b,{x:0,y:0,mode:"relative"});this.start(b)},setup:function(){var a=this.node;zDom.makePositioned(a);this.originalLeft=parseFloat(zDom.getStyle(a,"left")||"0");this.originalTop=parseFloat(zDom.getStyle(a,"top")||"0");if(this.opts.mode=="absolute"){this.opts.x-=this.originalLeft;this.opts.y-=this.originalTop}},update:function(a){zDom.setStyle(this.node,{left:Math.round(this.opts.x*a+this.originalLeft)+"px",top:Math.round(this.opts.y*a+this.originalTop)+"px"})}});zk.eff.Scale=zk.$extends(zk.eff.Base_,{$init:function(a,c,b){this.node=zDom.$(a);b=zk.$default(b,{scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:"box",scaleFrom:100,scaleTo:c});this.start(b)},setup:function(){var g=this.node;this.restoreAfterFinish=this.opts.restoreAfterFinish||false;this.nodePositioning=zDom.getStyle(g,"position");this.originalStyle={};for(var b=0,h=["top","left","width","height","fontSize"],a=h.length;b<a;){var f=h[b++];this.originalStyle[f]=g.style[f]}this.originalTop=g.offsetTop;this.originalLeft=g.offsetLeft;var i=zDom.getStyle(g,"font-size")||"100%";for(var b=0,d=["em","px","%","pt"],a=d.length;b<a;){var c=d[b++];if(i.indexOf(c)>0){this.fontSize=parseFloat(i);this.fontSizeType=c}}this.factor=(this.opts.scaleTo-this.opts.scaleFrom)/100;this.dims=null;if(this.opts.scaleMode=="box"){this.dims=[g.offsetHeight,g.offsetWidth]}if(/^content/.test(this.opts.scaleMode)){this.dims=[g.scrollHeight,g.scrollWidth]}if(!this.dims){this.dims=[this.opts.scaleMode.originalHeight,this.opts.scaleMode.originalWidth]}},update:function(a){var b=(this.opts.scaleFrom/100)+(this.factor*a);if(this.opts.scaleContent&&this.fontSize){zDom.setStyle(this.node,{fontSize:this.fontSize*b+this.fontSizeType})}this.setDimensions(this.dims[0]*b,this.dims[1]*b)},finish:function(a){if(this.restoreAfterFinish){zDom.setStyle(this.node,this.originalStyle)}},setDimensions:function(a,f){var g={};if(this.opts.scaleX){g.width=Math.round(f)+"px"}if(this.opts.scaleY){g.height=Math.round(a)+"px"}if(this.opts.scaleFromCenter){var c=(a-this.dims[0])/2;var b=(f-this.dims[1])/2;if(this.nodePositioning=="absolute"){if(this.opts.scaleY){g.top=this.originalTop-c+"px"}if(this.opts.scaleX){g.left=this.originalLeft-b+"px"}}else{if(this.opts.scaleY){g.top=-c+"px"}if(this.opts.scaleX){g.left=-b+"px"}}}zDom.setStyle(this.node,g)}});zk.eff.ScrollTo=zk.$extends(zk.eff.Base_,{$init:function(a,b){this.node=zDom.$(a);this.start(b||{})},setup:function(){var b=zDom.innerY(),c=zDom.cmOffset(this.node);if(this.opts.offset){c[1]+=this.opts.offset}var a=window.innerHeight?window.height-window.innerHeight:document.body.scrollHeight-(document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight);this.scrollStart=b;this.delta=(c[1]>a?a:c[1])-this.scrollStart},update:function(a){window.scrollTo(zDom.innerX(),this.scrollStart+(a*this.delta))}});zEffect._Tranx={sinoidal:function(a){return(-Math.cos(a*Math.PI)/2)+0.5},flicker:function(a){return((-Math.cos(a*Math.PI)/4)+0.75)+Math.random()/4},pulse:function(b,a){a=a||5;return Math.round((b%(1/a))*a)==0?((b*a*2)-Math.floor(b*a*2)):1-((b*a*2)-Math.floor(b*a*2))},none:function(a){return 0},full:function(a){return 1}};zEffect._Queue={_effects:[],_interval:null,add:function(k){var g=zUtl.now(),d=typeof k.opts.queue=="string"?k.opts.queue:k.opts.queue.position,i=zEffect._Queue,a=i._effects;switch(d){case"front":for(var b=0,f=a.length;b<f;){var c=a[b++];if(c.state=="idle"){e.startOn+=k.finishOn;e.finishOn+=k.finishOn}}break;case"with-last":for(var b=0,f=a.length;b<f;){var h=a[b++].startOn;if(h>g){g=h}}break;case"end":for(var b=0,f=a.length;b<f;){var h=a[b++].finishOn;if(h>g){g=h}}break}k.startOn+=g;k.finishOn+=g;if(!k.opts.queue.limit||(a.length<k.opts.queue.limit)){a.push(k)}if(!i._interval){i._interval=setInterval(i.loop,15)}},remove:function(b){var c=zEffect._Queue,a=c._effects;a.$remove(b);if(!a.length){clearInterval(c._interval);c._interval=null}},loop:function(){var d=zUtl.now(),c=zEffect._Queue._effects;for(var b=0,a=c.length;b<a;b++){if(c[b]){c[b].loop(d)}}}};zEffect._defOpts={transition:zEffect._Tranx.sinoidal,duration:1,fps:60,sync:false,from:0,to:1,delay:0,queue:"parallel"};zk.eff.Shadow=zk.$extends(zk.Object,{_HTML:zk.ie6Only?'" class="z-shadow"></div>':'" class="z-shadow"><div class="z-shadow-tl"><div class="z-shadow-tr"></div></div><div class="z-shadow-cl"><div class="z-shadow-cr"><div class="z-shadow-cm">&#160;</div></div></div><div class="z-shadow-bl"><div class="z-shadow-br"></div></div></div>',$init:function(b,c){c=this.opts=zk.$default(c,{left:4,right:4,top:3,bottom:3});if(zk.ie6Only){c.left-=1;c.right-=8;c.top-=2;c.bottom-=6}this.node=b;var a=b.id+"$sdw";zDom.insertHTMLBefore(b,'<div id="'+a+this._HTML);this.shadow=zDom.$(a)},destroy:function(){zDom.remove(this.shadow);zDom.remove(this.stackup);this.node=this.shadow=this.stackup=null},hide:function(){this.shadow.style.display="none";if(this.stackup){this.stackup.style.display="none"}},sync:function(){var g=this.node,o=this.shadow;if(!g||!zDom.isVisible(g,true)){this.hide();return false}for(var m=o;;){if(!(m=m.nextSibling)||m.tagName){if(m!=g){g.parentNode.insertBefore(o,g)}break}}o.style.zIndex=zk.parseInt(zDom.getStyle(g,"zIndex"));var a=this.opts,i=g.offsetLeft,q=g.offsetTop,n=g.offsetWidth,j=g.offsetHeight,f=Math.max(0,n-a.left+a.right),d=Math.max(0,j-a.top+a.bottom),p=o.style;p.left=(i+a.left)+"px";p.top=(q+a.top)+"px";p.width=f+"px";p.display="block";if(zk.ie6Only){p.height=d+"px"}else{var b=o.childNodes;b[1].style.height=Math.max(0,d-b[0].offsetHeight-b[2].offsetHeight)+"px"}var k=this.stackup;if(a.stackup&&g){if(!k){k=this.stackup=zDom.makeStackup(g,g.id+"$sdwstk",o)}p=k.style;p.left=i+"px";p.top=q+"px";p.width=n+"px";p.height=j+"px";p.zIndex=zk.parseInt(zDom.getStyle(g,"zIndex"));p.display="block"}return true},getBottomElement:function(){return this.stackup||this.shadow}});zk.eff.FullMask=zk.$extends(zk.Object,{$init:function(d){d=d||{};var b=this.mask=d.mask;if(this.mask){if(d.anchor){d.anchor.parentNode.insertBefore(b,d.anchor)}if(d.id){b.id=d.id}if(d.zIndex!=null){b.style.zIndex=d.zIndex}if(d.visible==false){b.style.display="none"}}else{var a=d.id||"z_mask",c='<div id="'+a+'" class="z-modal-mask"';if(d.zIndex!=null||d.visible==false){c+=' style="';if(d.zIndex!=null){c+="z-index:"+d.zIndex}if(d.visible==false){c+=";display:none"}c+='"'}c+="></div>";if(d.anchor){d.anchor.insertAdjacentHTML("beforeBegin",c)}else{document.body.insertAdjacentHTML("beforeEnd",c)}b=this.mask=zDom.$(a)}if(d.stackup){this.stackup=zDom.makeStackup(b,b.id+"$mkstk")}this._syncPos();zEvt.listen(b,"mousemove",zEvt.stop);zEvt.listen(b,"click",zEvt.stop);zEvt.listen(window,"resize",this.proxy(this._syncPos,"_pxSyncPos"));zEvt.listen(window,"scroll",this._pxSyncPos)},destroy:function(){var a=this.mask;zEvt.unlisten(a,"mousemove",zEvt.stop);zEvt.unlisten(a,"click",zEvt.stop);zEvt.unlisten(window,"resize",this._pxSyncPos);zEvt.unlisten(window,"scroll",this._pxSyncPos);zDom.remove(a);zDom.remove(this.stackup);this.mask=this.stackup=null},hide:function(){this.mask.style.display="none";if(this.stackup){this.stackup.style.display="none"}},sync:function(b){if(!zDom.isVisible(b,true)){this.hide();return}if(this.mask.nextSibling!=b){var c=b.parentNode;c.insertBefore(this.mask,b);if(this.stackup){c.insertBefore(this.stackup,this.mask)}}var a=this.mask.style;a.display="block";a.zIndex=b.style.zIndex;if(this.stackup){a=this.stackup.style;a.display="block";a.zIndex=b.style.zIndex}},_syncPos:function(){var c=this.mask;var b=zDom.toStyleOffset(c,zDom.innerX(),zDom.innerY()),a=c.style;a.left=b[0]+"px";a.top=b[1]+"px";a.width=zDom.innerWidth()+"px";a.height=zDom.innerHeight()+"px";a.display="block";c=this.stackup;if(c){c=c.style;c.left=a.left;c.top=a.top;c.width=a.width;c.height=a.height}}});zk.eff.Mask=zk.$extends(zk.Object,{$init:function(a){a=a||{};var f=(typeof a.anchor=="string")?zDom.$(a.anchor):a.anchor;if(!f||!zDom.isRealVisible(f,true)){return}var j=a.id||"z_applymask",k=zDom.$(j);if(k){return this}var c=a.msg||(window.mesg?mesg.LOADING:"Loading..."),b=document.createElement("DIV");document.body.appendChild(b);var o=a.offset||zDom.revisedOffset(f),l=a.width||zDom.offsetWidth(f),i=a.height||zDom.offsetHeight(f),g='<div id="'+j+'" style="visibility:hidden"><div class="z-apply-mask" style="display:block;top:'+o[1]+"px;left:"+o[0]+"px;width:"+l+"px;height:"+i+'px;"></div><div id="'+j+'$z_loading" class="z-apply-loading"><div class="z-apply-loading-indicator"><span class="z-apply-loading-icon"></span> '+c+"</div></div></div>";zDom.setOuterHTML(b,g);var d=zDom.$(j+"$z_loading"),m=this.mask=zDom.$(j);if(d){if(d.offsetHeight>i){d.style.height=zDom.revisedHeight(d,i)+"px"}if(d.offsetWidth>l){d.style.width=zDom.revisedWidth(d,l)+"px"}d.style.top=(o[1]+((i-d.offsetHeight)/2))+"px";d.style.left=(o[0]+((l-d.offsetWidth)/2))+"px"}m.style.visibility=""},destroy:function(){var a=this.mask;zDom.remove(a);this.mask=null}});zk.eff.Tooltip=zk.$extends(zk.Object,{beforeBegin:function(b){var a=this._tip==b;if(a){this._clearClosing()}return !a},begin:function(b,a){if(this._tip!=b){this.close_();this._inf={tip:b,ref:a,timer:setTimeout(this.proxy(this.open_,"_pxopen"),zk.tipDelay)}}else{this._clearClosing()}},end:function(a){if(this._ref==a||this._tip==a){this._tmClosing=setTimeout(this.proxy(this.close_,"_pxclose"),100)}else{this._clearOpening()}},open_:function(){var a=this._inf;if(a){var c=this._tip=a.tip,b=this._ref=a.ref;this._inf=null;c.open(b,zk.currentPointer,null,{sendOnOpen:true})}},close_:function(){this._clearOpening();this._clearClosing();var a=this._tip;if(a){this._tip=this._ref=null;a.close({sendOnOpen:true})}},_clearOpening:function(){var a=this._inf;if(a){this._inf=null;clearTimeout(a.timer)}},_clearClosing:function(){var a=this._tmClosing;if(a){this._tmClosing=null;clearTimeout(a)}}});zTooltip=new zk.eff.Tooltip();
zAnima={count:0,isAnimating:function(a){return a&&a._$animating},appear:function(b,c,a){c=zDom.$(c);if(c){if(c._$animating){zAnima._addAniQue(c,function(){zAnima.appear(b,c,a)})}else{c._$animating="show";zEffect.appear(c,zAnima._mergeOpts(b,a,{duration:0.6}))}}},moveDown:function(b,c,a){zAnima.moveBy(b,c,zk.$defaut(a,{dir:"t"}))},moveRight:function(b,c,a){zAnima.moveBy(b,c,zk.$defaut(a,{dir:"l"}))},moveDiagonal:function(b,c,a){zAnima.moveBy(b,c,a)},moveBy:function(c,d,b){d=zDom.$(d);if(d){if(d._$animating){zAnima._addAniQue(d,function(){zAnima.moveBy(c,d,b)})}else{d._$animating="show";var a=b?b.dir:0;if(!a){a="lt"}new zk.eff.Move(d,0,0,zAnima._mergeOpts(c,b,{duration:0.6,afterSetup:function(e){if(a.indexOf("l")>=0){e.opts.x=e.originalLeft;e.originalLeft=0}if(a.indexOf("t")>=0){e.opts.y=e.originalTop;e.originalTop=0}zDom.show(e.node)}}))}}},slideIn:function(b,c,a){c=zDom.$(c);if(c){if(c._$animating){zAnima._addAniQue(c,function(){zAnima.slideIn(b,c,a)})}else{c._$animating="show";zEffect.slideIn(c,zAnima._mergeOpts(b,a,{duration:0.4}))}}},slideOut:function(b,c,a){c=zDom.$(c);if(c){if(c._$animating){zAnima._addAniQue(c,function(){zAnima.slideOut(b,c,a)})}else{c._$animating="hide";zEffect.slideOut(c,zAnima._mergeOpts(b,a,{duration:0.4}))}}},slideDown:function(b,c,a){c=zDom.$(c);if(c){if(c._$animating){zAnima._addAniQue(c,function(){zAnima.slideDown(b,c,a)})}else{c._$animating="show";zEffect.slideDown(c,zAnima._mergeOpts(b,a,{duration:0.4,y:0}))}}},slideUp:function(b,c,a){c=zDom.$(c);if(c){if(c._$animating){zAnima._addAniQue(c,function(){zAnima.slideUp(b,c,a)})}else{c._$animating="hide";zEffect.slideUp(c,zAnima._mergeOpts(b,a,{duration:0.4}))}}},fade:function(b,c,a){c=zDom.$(c);if(c){if(c._$animating){zAnima._addAniQue(c,function(){zAnima.fade(b,c,a)})}else{c._$animating="hide";zEffect.fade(c,zAnima._mergeOpts(b,a,{duration:0.55}))}}},puff:function(b,c,a){c=zDom.$(c);if(c){if(c._$animating){zAnima._addAniQue(c,function(){zAnima.puff(b,c,a)})}else{c._$animating="hide";zEffect.puff(c,zAnima._mergeOpts(b,a,{duration:0.6}))}}},dropOut:function(b,c,a){c=zDom.$(c);if(c){if(c._$animating){zAnima._addAniQue(c,function(){zAnima.dropOut(b,c,a)})}else{c._$animating="hide";zEffect.dropOut(c,zAnima._mergeOpts(b,a,{duration:0.6}))}}},_mergeOpts:function(c,b,a){b=zk.$default(b,{animaWidget:c});if(b.duration){b.duration/=1000}return zk.$default(zk.$default(b,a),zAnima._defOpts)},_defOpts:{beforeStart:function(a){var d=a.node||a._effects[0].node;if(d){++zAnima.count;var b=a.opts,c=b.animaWidget;if(b.beforeAnima){b.beforeAnima.call(c,d)}}},afterFinish:function(a){var d=a.node||a._effects[0].node;if(d){--zAnima.count;d._$animating=null;if(zk.ie&&zDom.isVisible(d)){zDom.redoDOM(d)}zAnima._doAniQue(d);var b=a.opts,c=b.animaWidget;if(b.afterAnima){b.afterAnima.call(c,d)}}}},_aniQue:{},_addAniQue:function(e,b){var d=zAnima._aniQue,c=e.id?e.id:e,a=d[c];if(!a){a=d[c]=[]}a.push(b)},_doAniQue:function(e){var d=zAnima._aniQue,c=e.id?e.id:e,a=d[c],b;if(a){while(!e._$animating&&(b=a.shift())){b()}if(!a.length){delete d[c]}}}};
zk.Widget=zk.$extends(zk.Object,{_visible:true,nChildren:0,bindLevel:-1,_mold:"default",className:"zk.Widget",$init:function(b){this._asaps={};this._lsns={};this._$lsns={};this._subnodes={};if(b){var a=b.mold;if(a!=null){if(a){this._mold=a}delete b.mold}this.set(b)}if(!this.uuid){this.uuid=zk.Widget.nextUuid()}},getMold:function(){return this._mold},setMold:function(a){if(a!=this._mold){this._mold=a;this.rerender()}},getSpaceOwner:function(){for(var a=this;a;a=a.parent){if(a._fellows){return a}}return null},getFellow:function(d,b){var a=this.getSpaceOwner();if(!a){return null}var c=a._fellows[d];return c||!b?c:zk.Widget._global[d]},getId:function(){return this.id},setId:function(c){var b=zk.Widget,a=this.id;if(a){delete zk.Widget._global[c];b._rmIdSpace(this)}this.id=c;if(c){zk.Widget._global[c]=this;b._addIdSpace(this)}},set:function(b,c,a){if(arguments.length==1){for(var d in b){this._set(d,b[d])}return}this._set(b,c,a)},_set:function(c,e,a){if(c.length>4&&c.startsWith("$$on")){var b=this.$class,d=b._importantEvts;(d||(b._importantEvts={}))[c.substring(2)]=true}else{if(c.length>3&&c.startsWith("$on")){this._asaps[c.substring(1)]=e}else{zk.set(this,c,e,a)}}},getChildAt:function(b){if(b>=0){for(var a=this.firstChild;a;a=a.nextSibling){if(--b<0){return a}}}return null},getChildIndex:function(){var a=this.parent,b=0;if(a){for(a=a.firstChild;a;a=a.nextSibling,++b){if(a==this){return b}}}return 0},setChildren:function(c){if(c){for(var b=0,a=c.length;b<a;){this.appendChild(c[b++])}}},appendChild:function(d){if(d==this.lastChild){return false}var a=d.parent;if(a!=this){d.beforeParentChanged_(this)}if(a){if(this._moveChild(d)){return true}a.removeChild(d)}d.parent=this;var c=this.lastChild;if(c){c.nextSibling=d;d.previousSibling=c;this.lastChild=d}else{this.firstChild=this.lastChild=d}++this.nChildren;zk.Widget._addIdSpaceDown(d);var b=this.desktop;if(b){this.insertChildHTML_(d,null,b)}this.onChildAdded_(d);return true},insertBefore:function(d,a){if(!a||a.parent!=this){return this.appendChild(d)}if(d==a||d.nextSibling==a){return false}if(d.parent!=this){d.beforeParentChanged_(this)}if(d.parent){if(this._moveChild(d,a)){return true}d.parent.removeChild(d)}d.parent=this;var c=a.previousSibling;if(c){d.previousSibling=c;c.nextSibling=d}else{this.firstChild=d}a.previousSibling=d;d.nextSibling=a;++this.nChildren;zk.Widget._addIdSpaceDown(d);var b=this.desktop;if(b){this.insertChildHTML_(d,a,b)}this.onChildAdded_(d);return true},removeChild:function(c){if(!c.parent){return false}if(this!=c.parent){return false}c.beforeParentChanged_(null);var a=c.previousSibling,b=c.nextSibling;if(a){a.nextSibling=b}else{this.firstChild=b}if(b){b.previousSibling=a}else{this.lastChild=a}c.nextSibling=c.previousSibling=c.parent=null;--this.nChildren;zk.Widget._rmIdSpaceDown(c);if(c.desktop){this.removeChildHTML_(c,a)}this.onChildRemoved_(c);return true},_replaceWgt:function(c){var b=this.getNode(),d=c.parent=this.parent,a=c.previousSibling=this.previousSibling;if(a){a.nextSibling=c}else{if(d){d.firstChild=c}}a=c.nextSibling=this.nextSibling;if(a){a.previousSibling=c}else{if(d){d.lastChild=c}}if(this.desktop){if(!c.desktop){c.desktop=this.desktop}if(b){c.replaceHTML(b,c.desktop)}zk.Widget._fixBindLevel(c,d?d.bindLevel+1:0);zWatch.fire("onBindLevelMove",null,c)}if(d){d.onChildRemoved_(this);d.onChildAdded_(c)}},beforeParentChanged_:function(){},domMovable_:function(){return true},_moveChild:function(f,e){if(f._floating||!f.domMovable_()||!this.domMovable_()||!this.desktop||!f.desktop){return false}var c=null;if(e&&!(c=e.getNode())){return false}var d=this.getNode(),b=f.getNode();dt=this.desktop,kiddt=f.desktop,oldpt=f.parent;f._node=this._node=f.desktop=this.desktop=null;try{oldpt.removeChild(f);this.insertBefore(f,e);zDom.remove(b);d.parentNode.insertBefore(b,c);var a=this.bindLevel+1;if(f.bindLevel!=a){zk.Widget._fixBindLevel(f,a);zWatch.fire("onBindLevelMove",null,f)}}finally{this.desktop=dt;f.desktop=kiddt;this._node=d;f._node=b}oldpt.onChildRemoved_(f);this.onChildAdded_(f);return true},isRealVisible:function(){for(var a=this;a;a=a.parent){if(!a.isVisible()){return false}var b=a.getNode();if(b&&!zDom.isVisible(b)){return false}}return true},isVisible:function(a){var b=this._visible;if(!a||!b){return b}var c=this.getNode();return !c||zDom.isVisible(c)},setVisible:function(c,a){if(this._visible!=c){this._visible=c;var b=this.parent;if(b&&c){b.onChildVisible_(this,true)}if(this.desktop){this._setVisible(c)}if(b&&!c){b.onChildVisible_(this,false)}}},_setVisible:function(b){var l=this.parent,g=!l||l.isRealVisible(),c=this.getNode(),f=this._floating;if(!g){if(!f){this.setDomVisible_(c,b)}return}if(b){var m;if(f){this._setZIndex(m=this._topZIndex(),true)}this.setDomVisible_(c,true);for(var e=zk.Widget._floating,d=0,k=e.length;d<k;++d){var i=e[d].widget;if(this!=i&&this._floatVisibleDependent(i)){m=m>=0?++m:i._topZIndex();var a=e[d].node;if(a!=i.getNode()){i.setFloatZIndex_(a,m)}else{i._setZIndex(m,true)}i.setDomVisible_(a,true,{visibility:1})}}zWatch.fireDown("onVisible",{visible:true},this)}else{zWatch.fireDown("onHide",{visible:true},this);for(var e=zk.Widget._floating,d=e.length,h=this.bindLevel;--d>=0;){var i=e[d].widget;if(h>=i.bindLevel){break}if(this._floatVisibleDependent(i)){i.setDomVisible_(e[d].node,false,{visibility:1})}}this.setDomVisible_(c,false)}},_floatVisibleDependent:function(a){for(;a;a=a.parent){if(a==this){return true}else{if(!a.isVisible()){break}}}return false},setDomVisible_:function(c,b,a){if(!a||a.display){c.style.display=b?"":"none"}if(a&&a.visibility){c.style.visibility=b?"visible":"hidden"}},onChildAdded_:function(a){},onChildRemoved_:function(a){},onChildVisible_:function(b,a){},setTopmost:function(){var f=this.getNode();if(f&&this._floating){var d=this._topZIndex();this._setZIndex(d,true);for(var a=zk.Widget._floating,c=0,e=a.length;c<e;++c){var b=a[c].widget;if(this!=b&&zUtl.isAncestor(this,b)&&b.isVisible()){var f=a[c].node;if(f!=b.getNode()){b.setFloatZIndex_(f,++d)}else{b._setZIndex(++d,true)}}}}},_topZIndex:function(){var d=0;for(var a=zk.Widget._floating,c=a.length;--c>=0;){var b=a[c].widget;if(b._zIndex>=d&&!zUtl.isAncestor(this,b)&&b.isVisible()){d=b._zIndex+1}}return d},isFloating_:function(){return this._floating},setFloating_:function(f,e){if(this._floating!=f){var a=zk.Widget._floating;if(f){var d={widget:this,node:e&&e.node?e.node:this.getNode()},b=this.bindLevel;for(var c=a.length;;){if(--c<0){a.unshift(d);break}if(b>=a[c].widget.bindLevel){a.$addAt(c+1,d);break}}this._floating=true}else{for(var c=a.length;--c>=0;){if(a[c].widget==this){a.$removeAt(c)}}this._floating=false}}},getWidth:function(){return this._width},setWidth:function(a){this._width=a;var b=this.getNode();if(b){b.style.width=a?a:""}},getHeight:function(){return this._height},setHeight:function(a){this._height=a;var b=this.getNode();if(b){b.style.height=a?a:""}},getZIndex:_zkf=function(){return this._zIndex},getZindex:_zkf,setZIndex:_zkf=function(a){this._setZIndex(a)},setZindex:_zkf,_setZIndex:function(c,a){if(this._zIndex!=c){this._zIndex=c;var b=this.getNode();if(b){b.style.zIndex=c>=0?c:"";if(a){this.fire("onZIndex",c,{ignorable:true})}}}},getLeft:function(){return this._left},setLeft:function(a){this._left=a;var b=this.getNode();if(b){b.style.left=a?a:""}},getTop:function(){return this._top},setTop:function(a){this._top=a;var b=this.getNode();if(b){b.style.top=a?a:""}},getTooltiptext:function(){return this._tooltiptext},setTooltiptext:function(a){this._tooltiptext=a;var b=this.getNode();if(b){b.title=a?a:""}},getStyle:function(){return this._style},setStyle:function(a){if(this._style!=a){this._style=a;this.updateDomStyle_()}},getSclass:function(){return this._sclass},setSclass:function(a){if(this._sclass!=a){this._sclass=a;this.updateDomClass_()}},getZclass:function(){return this._zclass},setZclass:function(a){if(this._zclass!=a){this._zclass=a;this.updateDomClass_()}},redraw:function(a){var c=this.prolog;if(c){a.push(c)}for(var e=this,b=this._mold;e;e=e.superclass){var d=e.$class.molds[b];if(d){return d.apply(this,arguments)}}throw"mold "+b+" not found in "+this.className},updateDomClass_:function(){if(this.desktop){var a=this.getNode();if(a){a.className=this.domClass_()}}},updateDomStyle_:function(){if(this.desktop){zDom.setStyle(this.getNode(),zDom.parseStyle(this.domStyle_()))}},domStyle_:function(c){var b="";if(!this.isVisible()&&(!c||!c.visible)){b="display:none;"}if(!c||!c.style){var a=this.getStyle();if(a){b+=a;if(a.charAt(a.length-1)!=";"){b+=";"}}}if(!c||!c.width){var a=this.getWidth();if(a){b+="width:"+a+";"}}if(!c||!c.height){var a=this.getHeight();if(a){b+="height:"+a+";"}}if(!c||!c.left){var a=this.getLeft();if(a){b+="left:"+a+";"}}if(!c||!c.top){var a=this.getTop();if(a){b+="top:"+a+";"}}if(!c||!c.zIndex){var a=this.getZIndex();if(a>=0){b+="z-index:"+a+";"}}return b},domClass_:function(c){var b="";if(!c||!c.sclass){var a=this.getSclass();if(a){b=a}}if(!c||!c.zclass){var a=this.getZclass();if(a){b+=(b?" ":"")+a}}return b},domAttrs_:function(c){var a=!c||!c.id?' id="'+this.uuid+'"':"";if(!c||!c.domStyle){var b=this.domStyle_();if(b){a+=' style="'+b+'"'}}if(!c||!c.domclass){var b=this.domClass_();if(b){a+=' class="'+b+'"'}}if(!c||!c.tooltiptext){var b=this._tooltiptext;if(b){a+=' title="'+b+'"'}}return a},replaceHTML:function(e,d,c){if(!d){d=this.desktop;if(!zk.Desktop._ndt){zkboot("z_auto")}}var a=zk.currentFocus;if(a&&zUtl.isAncestor(this,a,true)){zk.currentFocus=null}else{a=null}var b=this.parent;if(b){b.replaceChildHTML_(this,e,d,c)}else{if(e.z_wgt){e.z_wgt.unbind_(c)}zDom.setOuterHTML(e,this._redrawHTML(c));this.bind_(d,c)}if(a&&!zk.currentFocus){a.focus()}if(!c){zWatch.fireDown("beforeSize",null,this);zWatch.fireDown("onSize",null,this)}},insertHTML:function(c,a,b){c.insertAdjacentHTML(a,this._redrawHTML());this.bind_(b)},_redrawHTML:function(b){var a=[];this.redraw(a,b);return a.join("")},rerender:function(b){if(this.desktop){var c=this.getNode();if(c){if(b){var a=b.skip(this);if(a){this.replaceHTML(c,null,b);b.restore(this,a);zWatch.fireDown("beforeSize",null,this);zWatch.fireDown("onSize",null,this);return}}this.replaceHTML(c)}}},replaceChildHTML_:function(d,c,b,a){if(c.z_wgt){c.z_wgt.unbind_(a)}zDom.setOuterHTML(c,d._redrawHTML(a));d.bind_(b,a)},insertChildHTML_:function(g,d,f){var e,c;if(d){e=d._getBeforeNode();if(!e){d=null}}if(!d){for(var b=this;;){c=b.getSubnode("cave")||b.getNode();if(c){break}var a=b.nextSibling;if(a){e=a._getBeforeNode();if(e){break}}if(!(b=b.parent)){c=document.body;break}}}if(e){zDom.insertHTMLBefore(e,g._redrawHTML())}else{zDom.insertHTMLBeforeEnd(c,g._redrawHTML())}g.bind_(f)},_getBeforeNode:function(){for(var a=this;a;a=a.nextSibling){var b=a._getFirstNodeDown();if(b){return b}}},_getFirstNodeDown:function(){var b=this.getNode();if(b){return b}for(var a=this.firstChild;a;a=a.nextSibling){b=a._getFirstNodeDown();if(b){return b}}},removeChildHTML_:function(d,b){var c=d.getNode();if(!c){d._prepareRemove(c=[])}d.unbind_();if(c.$array){for(var a=c.length;--a>=0;){zDom.remove(c[a])}}else{zDom.remove(c)}},_prepareRemove:function(b){for(var a=this.firstChild;a;a=a.nextSibling){var c=a.getNode();if(c){b.push(c)}else{a._prepareRemove(b)}}},getSubnode:function(a){var b=this._subnodes[a];if(!b&&this.desktop){b=this._subnodes[a]=zDom.$(this.uuid,a)}return b},getNode:function(){var a=this._node;if(!a&&this.desktop&&!this._nodeSolved){a=zDom.$(this.uuid);if(a){a.z_wgt=this;this._node=a}this._nodeSolved=true}return a},bind_:function(d,b){zk.Widget._binds[this.uuid]=this;if(!d){d=zk.Desktop.$(this.uuid)}this.desktop=d;var a=this.parent;this.bindLevel=a?a.bindLevel+1:0;for(var c=this.firstChild;c;c=c.nextSibling){if(!b||!b.skipped(this,c)){c.bind_(d)}}},unbind_:function(b){delete zk.Widget._binds[this.uuid];var d=this._node;if(d){d.z_wgt=null;this._node=null}for(var a in this._subnodes){this._subnodes[a]=null}this.desktop=null;this._nodeSolved=false;this.bindLevel=-1;for(var c=this.firstChild;c;c=c.nextSibling){if(!b||!b.skipped(this,c)){c.unbind_()}}},focus:function(c){var b=this.getNode();if(b&&this.isVisible()&&this.canActivate({checkOnly:true})){if(zDom.focus(b,c)){zk.currentFocus=this;this.setTopmost();return true}for(var a=this.firstChild;a;a=a.nextSibling){if(a.isVisible()&&a.focus(c)){return true}}}return false},canActivate:function(b){var a=zk.currentModal;if(a&&!zUtl.isAncestor(a,this)){if(!b||!b.checkOnly){var c=zk.currentFocus;if(c&&zUtl.isAncestor(a,c)){c.focus(0)}else{a.focus(0)}}return false}return true},fireX:function(k,i){k.currentTarget=this;var h=k.name,f=this._lsns[h],g=f?f.length:0;if(g){for(var d=0;d<g;){var b=f[d++],c=b[1];(b[2]||c[h]).call(c,k);if(k.stopped){return k}}}if(this.inServer&&this.desktop){var a=this._asaps[h];if(a==null){var e=this.$class._importantEvts;if(e&&e[h]){a=false}}if(a!=null){zAu.send(k,a?i>=0?i:38:-1)}}return k},fire:function(d,c,a,b){return this.fireX(new zk.Event(this,d,c,a),b)},listen:function(g,f,e,c){if(!c){c=0}var d=[c,f,e],a=this._lsns[g];if(!a){a=this._lsns[g]=[d]}else{for(var b=a.length;--b>=0;){if(a[b][0]>=c){a.$addAt(b+1,d);break}}}},unlisten:function(e,d,c){var a=this._lsns[e];for(var b=a?a.length:0;--b>=0;){if(a[b][1]==d&&a[b][2]==c){a.$removeAt(b);return true}}return false},isListen:function(d,c){var b=this._asaps[d];if(b){return true}if(c){if(b!=null){return true}b=this.$class._importantEvts;if(b&&b[d]){return true}}var a=this._lsns[d];return a&&a.length},setListeners:function(a){for(var b in a){this._setListener(b,a[b])}},setListener:function(a){this._setListener(a[0],a[1])},_setListener:function(d,c){var b=this._$lsns,a=b[d];if(a){delete b[d];this.unlisten(d,this,a)}if(c){if(typeof c!="function"){c=new Function(c)}this.listen(d,this,b[d]=c)}},setMethods:function(a){for(var b in a){this._setMethod(b,a[b])}},setMethod:function(a){this._setMethod(a[0],a[1])},_setMethod:function(mtdnm,fn){if(fn){if(typeof fn!="function"){fn=eval(fn)}var oldnm="$"+mtdnm;if(!this[oldnm]){this[oldnm]=this[mtdnm]}this[mtdnm]=fn}else{var oldnm="$"+mtdnm;this[mtdnm]=this[oldnm];delete this[oldnm]}},doClick_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doClick_(a)}}},doDoubleClick_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doDoubleClick_(a)}}},doRightClick_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doRightClick_(a)}}},doMouseOver_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doMouseOver_(a)}}},doMouseOut_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doMouseOut_(a)}}},doMouseDown_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doMouseDown_(a)}}},doMouseUp_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doMouseUp_(a)}}},doMouseMove_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doMouseMove_(a)}}},doKeyDown_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doKeyDown_(a)}}},doKeyUp_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doKeyUp_(a)}}},doKeyPress_:function(a){if(!this.fireX(a).stopped){var b=this.parent;if(b){b.doKeyPress_(a)}}},domFocus_:function(){if(!this.canActivate()){return false}zk.currentFocus=this;zWatch.fire("onFloatUp",null,this);if(this.isListen("onFocus")){this.fire("onFocus")}return true},domBlur_:function(){if(zk.currentFocus==this){zk.currentFocus=null}if(this.isListen("onBlur")){this.fire("onBlur")}}},{_floating:[],$:function(g,a){var d=zk.Widget._binds;if(typeof g=="string"){var b=g.indexOf("$");return d[b>=0?g.substring(0,b):g]}if(!g||zk.Widget.isInstance(g)){return g}else{g=g.z_target||g.target||g.srcElement||g}for(;g;g=zDom.parentNode(g)){var e=g.z_wgt;if(e){return e}var f=g.id;if(f){var b=f.indexOf("$");if(b>=0){f=f.substring(0,b);if(a){e=d[f];if(e){var c=e.getNode();if(c&&zDom.isAncestor(c,g)){return e}continue}}}e=d[f];if(e){return e}}}return null},_binds:{},domMouseDown:function(c){var a=zk.currentModal;if(a&&!c){var b=zk.currentFocus;if(b&&zUtl.isAncestor(a,b)){b.focus(0)}else{a.focus(0)}}else{if(!c||c.canActivate()){zk.currentFocus=c;if(c){zWatch.fire("onFloatUp",null,c)}}}},uuid:function(c){var b=typeof c=="object"?c.id||"":c,a=b.indexOf("$");return a>=0?b.substring(0,a):c},nextUuid:function(){return"_z_"+zk.Widget._nextUuid++},_nextUuid:0,isAutoId:function(a){return !a||a.startsWith("_z_")||a.startsWith("z_")},_fixBindLevel:function(c,a){var b=zk.Widget;c.bindLevel=a++;for(c=c.firstChild;c;c=c.nextSibling){b._fixBindLevel(c,a)}},_addIdSpace:function(b){if(b._fellows){b._fellows[b.id]=b}var a=b.parent;if(a){a=a.getSpaceOwner();if(a){a._fellows[b.id]=b}}},_rmIdSpace:function(b){if(b._fellows){delete b._fellows[b.id]}var a=b.parent;if(a){a=a.getSpaceOwner();if(a){delete a._fellows[b.id]}}},_addIdSpaceDown:function(c){var a=c.parent;a=a?a.getSpaceOwner():null;if(a){var b=zk.Widget._addIdSpaceDown0;b(c,a,b)}},_addIdSpaceDown0:function(c,a,b){if(c.id){a._fellows[c.id]=c}for(c=c.firstChild;c;c=c.nextSibling){b(c,a,b)}},_rmIdSpaceDown:function(c){var a=c.parent;a=a?a.getSpaceOwner():null;if(a){var b=zk.Widget._rmIdSpaceDown0;b(c,a,b)}},_rmIdSpaceDown0:function(c,a,b){if(c.id){delete a._fellows[c.id]}for(c=c.firstChild;c;c=c.nextSibling){b(c,a,b)}},_global:{}});zk.Page=zk.$extends(zk.Widget,{_style:"width:100%;height:100%",className:"zk.Page",$init:function(b,a){this._fellows={};this.$super("$init",b);if(a){zk.Page.contained.push(this)}},redraw:function(b,c){b.push('<div id="',this.uuid,'" style="',this.getStyle(),'">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b,c)}b.push("</div>")}},{contained:[]});zk.Desktop=zk.$extends(zk.Widget,{bindLevel:0,className:"zk.Desktop",$init:function(d,a){this.$super("$init",{uuid:d});this._aureqs=[];var c=zk.Desktop,b=c.all,e=b[d];if(!e){this.id=d;this.updateURI=a;b[d]=this;++c._ndt;if(!c._dt){c._dt=this}}else{if(a){e.updateURI=a}}c.sync()},_exists:function(){var a=this._pguid;return !a||zDom.$(a)},bind_:zk.$void,unbind_:zk.$void,setId:zk.$void},{$:function(d){var c=zk.Desktop,b=c.all,a;if(c._ndt>1){if(typeof d=="string"){a=b[d];if(a){return a}}a=zk.Widget.$(d);if(a){for(;a;a=a.parent){if(a.desktop){return a.desktop}if(a.$instanceof(c)){return a}}}}if(a=c._dt){return a}for(d in b){return b[d]}},all:{},_ndt:0,sync:function(){var b=zk.Desktop,a=b.all;if(b._dt&&!b._dt._exists()){b._dt=null}for(var c in a){var d=a[c];if(!d._exists()){delete a[c];--b._ndt}else{if(!b._dt){b._dt=d}}}}});zk.Skipper=zk.$extends(zk.Object,{skipped:function(a,b){return a.caption!=b},skip:function(c,b){var a=zDom.$(b||(c.uuid+"$cave"));if(a&&a.firstChild){zDom.remove(a);return a}return null},restore:function(d,b){if(b){var c=zDom.$(b.id);for(var a;a=b.firstChild;){b.removeChild(a);c.appendChild(a)}}}});zk.Skipper.nonCaptionSkipper=new zk.Skipper();zk.Native=zk.$extends(zk.Widget,{className:"zk.Native",redraw:function(b){var c=this.prolog;if(c){b.push(c)}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}c=this.epilog;if(c){b.push(c)}}});zk.Macro=zk.$extends(zk.Widget,{className:"zk.Macro",redraw:function(b){b.push("<span",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</span>")}});zk.RefWidget=zk.$extends(zk.Widget,{bind_:function(){var a=zk.Widget.$(this.uuid);if(!a||!a.desktop){throw"illegal: "+a}var d=a.parent,c;if(d){var b=a.desktop,e=a._node;a.desktop=a._node=null;d.removeChild(a);a.desktop=b;a._node=e}d=a.parent=this.parent,c=a.previousSibling=this.previousSibling;if(c){c.nextSibling=a}else{if(d){d.firstChild=a}}c=a.nextSibling=this.nextSibling;if(c){c.previousSibling=a}else{if(d){d.lastChild=a}}}});
zPkg={loading:0,end:function(a){if(!zPkg._lding.$remove(a)){zPkg._lded[a]=true}var e=zPkg._afld2[a];if(e){delete zPkg._afld2[a];for(var d,c=zPkg._aflds;d=e.pop();){c.unshift(d)}}if(!zPkg._updCnt()){try{zEvt.enableESC();zUtl.destroyProgressbox("zk_loadprog")}catch(b){}for(var d,c=zPkg._aflds;d=c.shift();){d()}}},isLoaded:function(a){return zPkg._lded[a]},load:function(b,f){var g=zPkg._lded;if(!b||g[b]){return !zPkg.loading}g[b]=true;var i=zPkg._deps[b];if(i){delete zPkg._deps[b];for(var a;a=i.unshift();){zPkg.load(a)}}zPkg._lding.unshift(b);if(zPkg._updCnt()==1){zEvt.disableESC();setTimeout(zPkg._pgbox,380)}var d=b.indexOf(".");if(d){d=zPkg.getVersion(b.substring(0,d))}if(!d){d=zk.build}var h=document.createElement("script"),c=b.replace(/\./g,"/")+"/zk.wpd";h.type="text/javascript";h.charset="UTF-8";if(c.charAt(0)!="/"){c="/"+c}if(d){c="/web/_zv"+d+"/js"+c}else{c="/web/js"+c}h.src=zAu.comURI(c,f);document.getElementsByTagName("HEAD")[0].appendChild(h)},_lded:{zk:true},_lding:[],_aflds:[],_afld2:{},_deps:{},_ldmsg:function(){var c="";for(var a=zPkg._lding,b=a.length;--b>=0;){if(c){c+=", "}c+=a[b]}return c},_updCnt:function(){zPkg.loading=zPkg._lding.length;try{var b=zDom.$("zk_loadcnt");if(b){b.innerHTML=zPkg._ldmsg()}}catch(a){}return zPkg.loading},_pgbox:function(){if(zPkg.loading||window.dbg_progressbox){var a=zDom.$("zk_loadprog");if(!a){zUtl.progressbox("zk_loadprog",'Loading <span id="zk_loadcnt">'+zPkg._ldmsg()+"</span>",true)}}},getVersion:function(a){return zPkg._pkgVers[a]},setVersion:function(b,a){zPkg._pkgVers[b]=a},depends:function(d,c){if(d&&c){if(zPkg._lded[d]){zPkg.load(c)}else{var e=zPkg._deps;if(e[d]){e[d].push(c)}else{e[d]=[c]}}}},_pkgVers:{}};zk.afterLoad=function(d,c){if(typeof d=="string"){if(!c){return}if(zPkg._lded[d]){d=c}else{var e=zPkg._afld2;if(e[d]){e[d].push(c)}else{e[d]=[c]}return}}if(zPkg.loading){zPkg._aflds.push(d);return true}d()};
var _zkmt=zUtl.now();function zkboot(c,a,e){if(!zk.sysInited){zkm.sysInit()}var b=zk.Desktop,d;if(!e){if(c){d=b.all[c];if(d){if(!d.updateURI){d.updateURI=a}return d}}else{d=b._dt}}return d||new b(c,a)}function zkblbg(b){zk.mounting=true;zkm.binding=b;var a=390-(zUtl.now()-_zkmt);zk.startProcessing(a>0?a:0)}function zkpgbg(c,f,e,b,a){var d={};if(f){d.style=f}if(e){zkdtbg(e,a)._pguid=c}zkm.push({type:"#p",uuid:c,contained:b,props:d})}function zkbg(d,c,a,b){zkm.push({type:d,uuid:c,mold:a,props:b})}function zkb2(c,b,a){zkm.push({type:b||"zhtml.Widget",uuid:c,props:a})}function zkdtbg(b,a){var c=zk.Desktop.$(b);if(c==null){c=new zk.Desktop(b,a)}else{if(a){c.updateURI=a}}zkm.curdt=c;return c}function zkver(){var c=arguments,a=c.length;zk.version=c[0];zk.build=c[1];for(var b=2;b<a;b+=2){zPkg.setVersion(c[b],c[b+1])}}function zkopt(b){for(var a in b){var c=b[a];switch(a){case"pd":zk.procDelay=c;break;case"td":zk.tipDelay=c;break;case"rd":zk.resendDelay=c;break;case"dj":zk.debugJS=c;break;case"kd":zk.keepDesktop=c;break;case"pf":zk.pfmeter=c;break;case"cd":zk.clickFilterDelay=c;break}}}function zkmld(b,e){if(!b.superclass){zk.afterLoad(function(){zkmld(b,e)});return}var c=b.molds={};for(var a in e){var d=e[a];c[a]=typeof d=="function"?d:d[0].molds[d[1]]}}function zkam(a){if(zk.mounting||!zk.sysInited){zkm._afMts.push(a);return true}setTimeout(a,0)}zk.afterMount=zkam;zkm={push:function(a){a.children=[];if(zkm._wgts.length>0){zkm._wgts[0].children.push(a)}zkm._wgts.unshift(a)},pop:function(){var a=zkm._wgts.shift();if(!zkm._wgts.length){var b=zkm._crInf0;b.push([zkm.curdt,a,zkm.binding]);b.stub=zAu.stub;zAu.stub=null;zkm.exec(zkm.mount)}},top:function(){return zkm._wgts[0]},end:function(){zkm._wgts=[];zkm._curdt=null;zkm.binding=false},sysInit:function(){zk.sysInited=true;zkm.sysInit=null;var a=zk.xbodyClass;if(a){zk.xbodyClass=null;var b=document.body;cn=b.className;if(cn.length){cn+=" "}b.className=cn+a}zEvt.listen(document,"keydown",zkm.docKeyDown);zEvt.listen(document,"keyup",zkm.docKeyUp);zEvt.listen(document,"keypress",zkm.docKeyPress);zEvt.listen(document,"mousedown",zkm.docMouseDown);zEvt.listen(document,"mouseup",zkm.docMouseUp);zEvt.listen(document,"mousemove",zkm.docMouseMove);zEvt.listen(document,"mouseover",zkm.docMouseOver);zEvt.listen(document,"mouseout",zkm.docMouseOut);zEvt.listen(document,"click",zkm.docClick);zEvt.listen(document,"dblclick",zkm.docDblClick);zEvt.listen(document,"contextmenu",zkm.docCtxMenu);zEvt.listen(window,"resize",zkm.docResize);zEvt.listen(window,"scroll",zkm.docScroll);zkm._oldUnload=window.onunload;window.onunload=zkm.wndUnload;zkm._oldBfUnload=window.onbeforeunload;window.onbeforeunload=zkm.wndBfUnload},mount:function(){var e=zkm._crInf0;for(var a=e.length;--a>=0;){var b=e[a];if(!b.jsLoad){b.jsLoad=true;zkm.pkgLoad(b[1]);zkm.exec(zkm.mount);return}}var d=e.stub;if(d){e.stub=null;zkm.mtAU(d)}else{zk.bootstrapping=true;if(zk.sysInited){zkm.mtBL()}else{if(document.readyState){var c=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(c);zkm.mtBL()}},50)}else{setTimeout(zkm.mtBL,120)}}}},mtBL:function(){if(!zk.sysInited){zkm.sysInit()}if(zPkg.loading){zk.afterLoad(zkm.mtBL);return}var b=zkm._crInf0,a=b.shift();if(a){zkm._crInf1.push([a[0],zkm.create(a[0],a[1]),a[2]]);if(b.length){return zkm.exec(zkm.mtBL)}}zkm.mtBL0()},mtBL0:function(){if(zkm._crInf0.length){return}if(zPkg.loading){zk.afterLoad(zkm.mtBL0);return}var b=zkm._crInf1,a=b.shift();if(a){var c=a[1];if(a[2]){c.bind_(a[0])}else{c.replaceHTML(c.uuid,a[0])}return zkm.exec(zkm.mtBL0)}setTimeout(zkm.mtBL1,0)},mtBL1:function(){if(zkm._crInf0.length||zkm._crInf1.length){return}for(var a;a=zkm._afMts.shift();){a();if(zPkg.loading){zk.afterLoad(zkm.mtBL1);return}}zk.mounting=zk.bootstrapping=false;zk.endProcessing()},mtAU:function(c){if(zPkg.loading){zk.afterLoad(function(){zkm.mtAU(c)});return}var b=zkm._crInf0,a=b.shift();if(a){c(zkm.create(null,a[1]));if(b.length){return zkm.exec(function(){zkm.mtAU(c)})}}zkm.mtAU0()},mtAU0:function(){if(zAu._moreCmds()){zk.mounting=false;zAu.doCmds();return}for(var a;a=zkm._afMts.shift();){a();if(zPkg.loading){zk.afterLoad(zkm.mtAU0);return}}zk.mounting=false;zAu.doCmds()},create:function(k,m){var o,i=m.props||{};if(m.type=="#p"){o=new zk.Page({uuid:m.uuid},m.contained);o.inServer=true;if(k){k.appendChild(o)}}else{var n=zk.$import(m.type),a=m.uuid,e={uuid:a},l=m.mold;if(l){e.mold=l}var o=new n(e);o.inServer=true;if(k){k.appendChild(o)}l=i.z_ea;if(l){delete i.z_ea;var g=zDom.$(a);if(g){var c=g.innerHTML;if(l.charAt(0)=="$"){l=l.substring(1);c=zUtl.decodeXML(c)}i[l]=c}}l=i.z_al;if(l){delete i.z_al;for(var b in l){i[b]=l[b]()}}}o.set(i);for(var d=0,h=m.children,f=h.length;d<f;++d){zkm.create(o,h[d])}return o},pkgLoad:function(c){var f=c.type;d=f.lastIndexOf(".");if(d>=0){zPkg.load(f.substring(0,d),zkm.curdt)}var g=c.z_pk;if(g){delete c.z_pk;g=g.split(",");for(var d=0,b=g.length;d<b;){zPkg.load(g[d++].trim())}}for(var e=c.children,a=e.length,d=0;d<a;++d){zkm.pkgLoad(e[d])}},exec:function(b){var a=zUtl.now(),c=a-_zkmt;if(c>300){_zkmt=a;c>>=4;setTimeout(b,c<35?c:35)}else{b()}},_wgts:[],_crInf0:[],_crInf1:[],_afMts:[],docMouseDown:function(a){a=a||window.event;var c=zEvt.target(a),e=zk.Widget,d=e.$(a,true);zk.lastPointer[0]=zEvt.x(a);zk.lastPointer[1]=zEvt.y(a);if(c!=document.body&&c!=document.body.parentNode){e.domMouseDown(d)}if(d){var b=new zk.Event(d,"onMouseDown",zkm._mouseData(a,d),null,a);d.doMouseDown_(b);if(b.stopped){zEvt.stop(a)}}},_mouseData:function(a,b){var c=zEvt.target(a);if(!c||!c.id||c.id.indexOf("$")>=0){c=b.getNode()}return zEvt.mouseData(a,c)},docMouseUp:function(a){a=a||window.event;var c=zk.mouseCapture;if(c){zk.mouseCapture=null}else{c=zk.Widget.$(a,true)}if(c){var b=new zk.Event(c,"onMouseUp",zkm._mouseData(a,c),null,a);c.doMouseUp_(b);if(b.stopped){zEvt.stop(a)}}},docMouseMove:function(a){a=a||window.event;zk.currentPointer[0]=zEvt.x(a);zk.currentPointer[1]=zEvt.y(a);var b=zk.mouseCapture;if(!b){b=zk.Widget.$(a,true)}if(b){b.doMouseMove_(new zk.Event(b,"onMouseMove",zkm._mouseData(a,b),null,a))}},docMouseOver:function(a){a=a||window.event;zk.currentPointer[0]=zEvt.x(a);zk.currentPointer[1]=zEvt.y(a);var b=zk.Widget.$(a,true);if(b){b.doMouseOver_(new zk.Event(b,"onMouseOver",zkm._mouseData(a,b),null,a))}},docMouseOut:function(a){a=a||window.event;var b=zk.Widget.$(a,true);if(b){b.doMouseOut_(new zk.Event(b,"onMouseOut",zkm._mouseData(a,b),null,a))}},docKeyDown:function(a){a=a||window.event;var c=zk.Widget.$(a,true);if(c){var b=new zk.Event(c,"onKeyDown",zEvt.keyData(a),null,a);c.doKeyDown_(b);if(b.stopped){zEvt.stop(a)}}if(zEvt.keyCode(a)==27&&zAu.shallIgnoreESC()){zEvt.stop(a)}},docKeyUp:function(a){a=a||window.event;var c=zk.keyCapture;if(c){zk.keyCapture=null}else{c=zk.Widget.$(a,true)}if(c){var b=new zk.Event(c,"onKeyUp",zEvt.keyData(a),null,a);c.doKeyUp_(b);if(b.stopped){zEvt.stop(a)}}},docKeyPress:function(a){a=a||window.event;var c=zk.keyCapture;if(!c){c=zk.Widget.$(a,true)}if(c){var b=new zk.Event(c,"onKeyPress",zEvt.keyData(a),null,a);c.doKeyPress_(b);if(b.stopped){zEvt.stop(a)}}},docClick:function(a){if(zk.processing){return}a=a||window.event;if(a.which==1||(a.button==0||a.button==1)){var c=zk.Widget.$(a,true);if(c){var b=new zk.Event(c,"onClick",zkm._mouseData(a,c),{ctl:true},a);c.doClick_(b);if(b.stopped){zEvt.stop(a)}}}},docDblClick:function(a){if(zk.processing){return}a=a||window.event;var c=zk.Widget.$(a,true);if(c){var b=new zk.Event(c,"onDoubleClick",zkm._mouseData(a,c),{ctl:true},a);c.doDoubleClick_(b);if(b.stopped){zEvt.stop(a);return false}}},docCtxMenu:function(a){if(zk.processing){return}a=a||window.event;zk.lastPointer[0]=zEvt.x(a);zk.lastPointer[1]=zEvt.y(a);var c=zk.Widget.$(a,true);if(c){var b=new zk.Event(c,"onRightClick",zkm._mouseData(a,c),{ctl:true},a);c.doRightClick_(b);if(b.stopped){zEvt.stop(a);return false}}return !zk.ie||a.returnValue},docScroll:function(){zWatch.fire("onScroll")},docResize:function(){if(!zk.sysInited||zk.mounting){return}var b=zUtl.now(),c=zkm._resz;if((c.lastTime&&b<c.lastTime)||c._inResize){return}var a=zk.ie?250:50;c.time=b+a-1;setTimeout(zkm.docDidResize,a)},docDidResize:function(){var b=zkm._resz;if(!b.time){return}var a=zUtl.now();if(zk.mounting||zPkg.loading||zAnima.count||a<b.time){setTimeout(zkm.docDidResize,10);return}b.time=null;b.lastTime=a+1000;zAu._onClientInfo();b._inResize=true;try{zWatch.fire("beforeSize");zWatch.fire("onSize");b.lastTime=zUtl.now()+8}finally{b._inResize=false}},_resz:{},wndUnload:function(){zk.unloading=true;var a=!zk.opera&&!zk.keepDesktop;if(a||zk.pfmeter){try{var b=zk.Desktop.all;for(var c in b){var h=zUtl.newAjax(),g="dtid="+c+"&cmd.0="+(a?"rmDesktop":"dummy"),f=b[c],d=zAu.comURI(null,f);h.open("POST",zk.ie?d+"?"+g:d,true);h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");if(zk.pfmeter){zAu._pfsend(c,h,true)}if(zk.ie){h.send(null)}else{h.send(g)}}}catch(i){}}if(zkm._oldUnload){zkm._oldUnload.apply(window,arguments)}},wndBfUnload:function(){if(!zk.skipBfUnload){if(zk.confirmClose){return zk.confirmClose}for(var b=zkm._bfs,a=0;a<b.length;++a){var c=b[a]();if(c){return c}}}if(zkm._oldBfUnload){var c=zkm._oldBfUnload.apply(window,arguments);if(c){return c}}zk.unloading=true},_bfs:[]};zkble=zkm.end;zke=zkpge=zkm.pop;zk.beforeUnload=function(a,b){if(b&&b.remove){zkm._bfs.$remove(a)}else{zkm._bfs.push(a)}};
zHistory={bookmark:function(a){if(zHistory._curbk!=a){zHistory._curbk=a;var b=encodeURIComponent(a);location.hash=zk.safari||!b?b:"#"+b;zHistory._bkIframe(a);zHistory.onURLChange()}},checkBookmark:function(){var a=zHistory.getBookmark();if(a!=zHistory._curbk){zHistory._curbk=a;zAu.send(new zk.Event(null,"onBookmarkChange",a),50);zHistory.onURLChange()}},getBookmark:function(){var a=location.hash;var b=a.indexOf("#");return b>=0?decodeURIComponent(a.substring(b+1)):""},_bkIframe:zk.ie?function(a){var b=zAu.comURI("/web/js/zk/html/history.html",null,true),c=$e("zk_histy");if(!c){c=zk.newFrame("zk_histy",b,"display:none")}if(a){b+="?"+encodeURIComponent(a)}c.src=b}:zk.$void,onHistoryLoaded:zk.ie?function(c){var b=c.indexOf("?");var a=b>=0?c.substring(b+1):"";location.hash=a?"#"+a:"";zHistory.checkBookmark()}:zk.$void,onURLChange:function(){}};zHistory._curbk="";zk.afterMount(function(){zHistory.checkBookmark();setInterval("zHistory.checkBookmark()",250)});
zAu={comURI:function(c,b,h){var a=zk.Desktop.$(b).updateURI;if(!c){return a}if(c.charAt(0)!="/"){c="/"+c}var f=a.lastIndexOf(";"),e=a.lastIndexOf("?");if(f<0&&e<0){return a+c}if(e>=0&&(f<0||e<f)){f=e}var g=a.substring(0,f);if(h){return g+c}var i=a.substring(f);var d=c.indexOf("?");return d>=0?e>=0?g+c.substring(0,d)+i+"&"+c.substring(d+1):g+c.substring(0,d)+i+c.substring(d):g+c+i},_onClientInfo:function(){if(zAu._cInfoReg){setTimeout(zAu._fireClientInfo,20)}},_fireClientInfo:function(){zAu.cmd0.clientInfo()},confirmRetry:function(a,b){var c=mesg[a];return zDom.confirm((c?c:a)+"\n"+mesg.TRY_AGAIN+(b?"\n\n("+b+")":""))},showError:function(a,c,d,b){var e=mesg[a];zk.error((e?e:a)+"\n"+(c?c:"")+(d?d:"")+(b?"\n"+b.message:""))},getErrorURI:function(a){return zAu._eru["e"+a]},setErrorURI:function(c,b){if(len>2){for(var a=0;a<len;a+=2){zAu.setErrorURI(args[a],args[a+1])}return}zAu._eru["e"+c]=b},_eru:{},processing:function(){return zk.mounting||zAu._cmdsQue.length||zAu._areq||zAu._preqInf},_ckProcessng:function(){if(!zAu.processing()){zk.endProcessing();zAu.doneTime=zUtl.now()}},send:function(e,f){if(f<0){var d=e.opts;if(!d){d=e.opts={}}d.implicit=true}var b=e.target;if(b){zAu._send(b.className=="zk.Desktop"?b:b.desktop,e,f)}else{var a=zk.Desktop.all;for(var c in a){zAu._send(a[c],e,f)}}},sendAhead:function(e,f){var b=e.target;if(b){var d=b.className=="zk.Desktop"?b:b.desktop;d._aureqs.unshift(e);zAu._send2(d,f)}else{var a=zk.Desktop.all;for(var c in a){d._aureqs.unshift(e);zAu._send2(a[c],f)}return}},pushXmlResp:function(b,m){var i=m.responseXML;if(!i){if(zk.pfmeter){zAu.pfdone(b,zAu._pfGetIds(m))}return false}var a=[],f=i.getElementsByTagName("r"),n=i.getElementsByTagName("rid");if(zk.pfmeter){a.dt=b;a.pfIds=zAu._pfGetIds(m)}if(n&&n.length){n=zk.parseInt(zUtl.getElementValue(n[0]));if(!isNaN(n)){a.rid=n}}for(var g=0,l=f?f.length:0;g<l;++g){var d=f[g].getElementsByTagName("c")[0],h=f[g].getElementsByTagName("d");if(!d){zk.error(mesg.ILLEGAL_RESPONSE+"Command required");continue}a.push(d={cmd:zUtl.getElementValue(d)});d.data=[];for(var c=d.data,e=h?h.length:0;--e>=0;){c.unshift(zAu._decodeData(zUtl.getElementValue(h[e])))}}zAu._cmdsQue.push(a);return true},_decodeData:function(g){var e=g.substring(1);switch(g.charAt(0).toLowerCase()){case"c":case"s":return e;case"n":return null;case"1":case"3":return true;case"0":case"2":return false;case"i":case"l":case"b":case"h":return parseInt(e);case"d":case"f":return parseFloat(e);case"t":return new Date(parseInt(e));case"j":return new zk.BigInteger(e);case"k":return new zk.BigDecimal(e);case"[":g=e;e=[];var b;for(var a=g.length,f=0,c=0;;++f){if(f>=a){if(a){e.push(zAu._decodeData(b||g.substring(c,f)))}return e}var h=g.charAt(f);if(h=="\\"){if(!b){b=g.substring(c,f)}b+=g.charAt(++f)}else{if(h==","){e.push(zAu._decodeData(b||g.substring(c,f)));c=f+1;b=null}else{if(b){b+=h}}}}}return e},process:function(d,a){var c=[];for(var b=arguments.length;--b>0;){c.unshift(zAu._decodeData(arguments[b]))}zAu._process(d,c)},_process:function(c,b){var a=zAu.cmd0[c];if(a){a.apply(zAu,b);return}if(!b||!b.length){zAu.showError("ILLEGAL_RESPONSE","uuid is required for ",c);return}a=zAu.cmd1[c];if(a){b.splice(1,0,zk.Widget.$(b[0]));a.apply(zAu,b);return}zAu.showError("ILLEGAL_RESPONSE","Unknown command: ",c)},shallIgnoreESC:function(){return zAu._areq},_cmdsQue:[],_seqId:1,_areqTmout:function(){var b=zAu._areq,a=zAu._areqInf;if(b&&b.readyState<3){zAu._areq=zAu._areqInf=null;try{if(typeof b.abort=="function"){b.abort()}}catch(c){}if(a.tmout<60000){a.tmout+=3000}zAu._areqResend(a)}},_areqResend:function(a,b){if(zAu._seqId==a.sid){zAu._preqInf=a;setTimeout(zAu._areqResend2,b?b:0)}},_areqResend2:function(){var a=zAu._preqInf;if(a){zAu._preqInf=null;if(zAu._seqId==a.sid){zAu._sendNow2(a)}}},_onRespReady:function(){try{var i=zAu._areq,j=zAu._areqInf;if(i&&i.readyState==4){zAu._areq=zAu._areqInf=null;if(j.tfn){clearTimeout(j.tfn)}if(zk.pfmeter){zAu.pfrecv(j.dt,zAu._pfGetIds(i))}if(zAu._revertpending){zAu._revertpending()}var a=i.getResponseHeader("ZK-SID");if(i.status==200){if(a&&a!=zAu._seqId){zAu._errcode="ZK-SID "+(a?"mismatch":"required");return}if(zAu.pushXmlResp(j.dt,i)){if(a&&++zAu._seqId>999){zAu._seqId=1}zAu._areqTry=0;zAu._preqInf=null}}else{if(!a||a==zAu._seqId){zAu._errcode=i.status;var c=zAu._eru["e"+i.status];if(typeof c=="string"){zUtl.go(c)}else{switch(i.status){default:if(!zAu._areqTry){break}case 12002:case 12030:case 12031:case 12152:case 12159:case 13030:case 503:if(!zAu._areqTry){zAu._areqTry=3}if(--zAu._areqTry){zAu._areqResend(j,200);return}}if(!zAu._ignorable&&!zk.unloading){var b=i.statusText;if(zAu.confirmRetry("FAILED_TO_RESPONSE",i.status+(b?": "+b:""))){zAu._areqTry=2;zAu._areqResend(j);return}}zAu._cleanupOnFatal(zAu._ignorable)}}}}}catch(g){if(!window.zAu){return}zAu._areq=zAu._areqInf=null;try{if(i&&typeof i.abort=="function"){i.abort()}}catch(h){}if(!zAu._ignorable&&!zk.unloading){var b=g.message;zAu._errcode="[Receive] "+b;if(zAu.confirmRetry("FAILED_TO_RESPONSE",(b&&b.indexOf("NOT_AVAILABLE")<0?b:""))){zAu._areqResend(j);return}}zAu._cleanupOnFatal(zAu._ignorable)}if(zAu._sendPending&&!zAu._areq&&!zAu._preqInf){zAu._sendPending=false;var f=zk.Desktop.all;for(var d in f){zAu._send2(f[d],0)}}zAu.doCmds()},_send:function(e,d,f){var c=d.opts,a=zk.clickFilterDelay;if(a>0&&c&&c.ctl){if(zAu._areqInf&&zAu._areqInf.ctli==d.uuid&&zAu._areqInf.ctlc==d.cmd){return}var b=zUtl.now();if(zAu._ctli==d.uuid&&zAu._ctlc==d.cmd&&b-zAu._ctlt<a){return}zAu._ctlt=b;zAu._ctli=d.uuid;zAu._ctlc=d.cmd}e._aureqs.push(d);zAu._send2(e,f)},_send2:function(a,b){if(!b){b=0}if(a&&b>=0){setTimeout(function(){zAu.sendNow(a)},b)}},sendNow:function(l){var t=l._aureqs;if(t.length==0){return false}if(zk.mounting){zk.afterMount(function(){zAu.sendNow(l)});return true}if(zAu._areq||zAu._preqInf){zAu._sendPending=true;return true}try{zWatch.fire("onSend",null,u)}catch(r){zk.error(r.message)}var u=true,h=true,f,i;for(var q=t.length;--q>=0;){var c=t[q],g=c.opts;if(u&&(!g||!g.ignorable)){h=false;if(!g||!g.implicit){u=false}}if(g&&g.ctl&&!f){f=c.target.uuid;i=c.name}}zAu._ignorable=h;var n="",m=zk.Event;for(var q=0,a=t.length;a;++q,--a){var c=t.shift(),b=c.name,v=c.target;n+="&cmd."+q+"="+b;if(v&&v.className!="zk.Desktop"){n+="&uuid."+q+"="+v.uuid}var w=c.data;if(w&&w.marshal){w=w.marshal()}if(w!=null){if(!w.$array){w=[w]}for(var o=0,p=w.length;o<p;++o){var s=w[o];n+="&data."+q+"="+(s!=null?encodeURIComponent(s):"_z~nil")}}}if(n){zAu._sendNow2({sid:zAu._seqId,uri:zAu.comURI(null,l),dt:l,content:"dtid="+l.id+n,ctli:f,ctlc:i,implicit:u,ignorable:h,tmout:0})}return true},_sendNow2:function(a){var c=zUtl.newAjax(),b=zAu._useQS(a)?a.uri+"?"+a.content:null;zAu.sentTime=zUtl.now();try{c.onreadystatechange=zAu._onRespReady;c.open("POST",b?b:a.uri,true);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");c.setRequestHeader("ZK-SID",a.sid);if(zAu._errcode){c.setRequestHeader("ZK-Error-Report",zAu._errcode);delete zAu._errcode}if(zk.pfmeter){zAu._pfsend(a.dt,c)}zAu._areq=c;zAu._areqInf=a;if(zk.resendDelay>0){zAu._areqInf.tfn=setTimeout(zAu._areqTmout,zk.resendDelay+a.tmout)}if(b){c.send(null)}else{c.send(a.content)}if(!a.implicit){zk.startProcessing(zk.procDelay)}}catch(f){try{if(typeof c.abort=="function"){c.abort()}}catch(d){}if(!a.ignorable&&!zk.unloading){var g=f.message;zAu._errcode="[Send] "+g;if(zAu.confirmRetry("FAILED_TO_SEND",g)){zAu._areqResend(a);return}}zAu._cleanupOnFatal(a.ignorable)}},_useQS:zk.ie?function(a){var c=a.content,b=c.length,d,e;if(b+a.uri.length<2000){while(--b>=0){e=c.charAt(b);if(e=="%"&&d>="8"){return false}d=e}return true}return false}:zk.$void,doCmds:function(){_zkmt=zUtl.now();for(var g;g=zAu._dcfns.shift();){g()}var d,c=0,i=zAu._cmdsQue,f=zAu._resId;for(;c<i.length;++c){if(zk.mounting){return}var a=i[c];if(f==a.rid||!f||!a.rid||zAu._dtids.length>1){i.splice(c,1);var b=f;if(a.rid){if((f=a.rid+1)>=1000){f=1}zAu._resId=f}try{if(zAu._doCmds1(a)){c=-1;if(zk.pfmeter){var g=function(){zAu.pfdone(a.dt,a.pfIds)};if(zk.mounting){zAu._dcfns.push(g)}else{g()}}}else{zAu._resId=b;i.splice(c,0,a);return}}catch(h){if(!d){d=h}c=-1}}}if(i.length){setTimeout(function(){if(i.length&&f==zAu._resId){var k=i[0].rid;for(c=1;c<i.length;++c){var e=i[c].rid,j=e-k;if(j>500||(j<0&&j>-500)){k=e}}zAu._resId=k;zAu.doCmds()}},3600)}else{zAu._ckProcessng()}if(d){throw d}},_dcfns:[],_doCmds1:function(a){var d;try{while(a&&a.length){if(zk.mounting){return false}d=true;var b=a.shift();try{zAu._process(b.cmd,b.data)}catch(c){zAu.showError("FAILED_TO_PROCESS",null,b.cmd,c);throw c}}}finally{if(d&&(!a||!a.length)){zWatch.fire("onResponse",{timeout:0})}}return true},_moreCmds:function(){return zAu._cmdsQue.length},_cleanupOnFatal:function(c){for(var a in zAu._metas){var b=zAu._metas[a];if(b&&b.cleanupOnFatal){b.cleanupOnFatal(c)}}}};zAu.cmd0={bookmark:function(a){zHistory.bookmark(a)},obsolete:function(b,a){zAu._cleanupOnFatal();zk.error(a)},alert:function(a){zDom.alert(a)},redirect:function(a,c){try{zUtl.go(a,false,c)}catch(b){if(!zk.confirmClose){throw b}}},title:function(a){document.title=a},script:function(dt0){eval(dt0)},echo:function(a){zAu.send(new zk.Event(zk.Desktop.$(a),"dummy",null,{ignorable:true}))},clientInfo:function(a){zAu._cInfoReg=true;zAu.send(new zk.Event(zk.Desktop.$(a),"onClientInfo",[new Date().getTimezoneOffset(),screen.width,screen.height,screen.colorDepth,zDom.innerWidth(),zDom.innerHeight(),zDom.innerX(),zDom.innerY()]))},download:function(a){if(a){var c=zDom.$("zk_download");if(c){c.src=a}else{var b='<iframe src="'+a+'" id="zk_download" name="zk_download" style="visibility:hidden;width:0;height:0;border:0" frameborder="0"></iframe>';zDom.insertHTMLBeforeEnd(document.body,b)}}},print:function(){window.print()},scrollBy:function(a,b){window.scrollBy(a,b)},scrollTo:function(a,b){window.scrollTo(a,b)},resizeBy:function(a,b){window.resizeBy(a,b)},resizeTo:function(a,b){window.resizeTo(a,b)},moveBy:function(a,b){window.moveBy(a,b)},moveTo:function(a,b){window.moveTo(a,b)},cfmClose:function(a){zk.confirmClose=a},showBusy:function(b,a){zDom.remove("zk_showBusy");if(a){zUtl.destroyProgressbox("zk_loadprog");zUtl.progressbox("zk_showBusy",b||mesg.PLEASE_WAIT,true)}},closeErrbox:function(){for(var a=arguments.length;--a>=0;){var b=zk.Widget.$(arguments[a]);if(b&&b.clearErrorMessage){b.clearErrorMessage()}}},wrongValue:function(){for(var b=0,a=arguments.length-1;b<a;b+=2){var c=arguments[b],e=arguments[b+1],d=zk.Widget.$(c);if(d){if(d.showErrorMessage){d.showErrorMessage(e)}else{zDom.alert(e)}}else{if(!c){zDom.alert(e)}}}},submit:function(a){setTimeout(function(){var b=zDom.$(a);if(b&&b.submit){b.submit()}},50)}};zAu.cmd1={setAttr:function(b,d,a,c){d.set(a,c,true)},outer:function(uuid,wgt,code){zAu.stub=function(newwgt){wgt._replaceWgt(newwgt)};zk.mounting=true;eval(code)},addAft:function(uuid,wgt,code){if(!wgt){var j=uuid.indexOf(":");if(j>=0){wgt=zk.Widget.$(uuid.substring(0,j));if(!wgt){uuid=uuid.substring(j+1);wgt=zk.Widget.$(uuid);if(wgt){zAu.cmd1.addChd(uuid,wgt,code)}else{zAu.stub=zAu.cmd1._asBodyChild;zk.mounting=true;eval(code)}return}}}zAu.stub=function(child){var p=wgt.parent;p.insertBefore(child,wgt.nextSibling);if(p.$instanceof(zk.Desktop)){zAu.cmd1._asBodyChild(child)}};zk.mounting=true;eval(code)},addBfr:function(uuid,wgt,code){zAu.stub=function(child){wgt.parent.insertBefore(child,wgt)};zk.mounting=true;eval(code)},addChd:function(uuid,wgt,code){zAu.stub=function(child){wgt.appendChild(child)};zk.mounting=true;eval(code)},_asBodyChild:function(a){a.insertHTML(document.body,"beforeEnd")},rm:function(a,c){if(c){var b=c.parent;if(b){b.removeChild(c)}else{b=c.getNode();c.unbind_();zDom.remove(b)}}},focus:function(a,b){setTimeout(function(){b.focus()},5)},invoke:function(d,f,e,c){var b=[];for(var a=arguments.length;--a>2;){b.unshift(arguments[a])}f[e].apply(f,b)},echo2:function(a,d,c,b){zAu.send(new zk.Event(d,"echo",b!=null?[c,b]:[c],{ignorable:true}))}};
zNumFormat={format:function(a,b){if(!b){return""}return""+b},unformat:function(b,a){if(!a){return{raw:a,divscale:0}}var h=0,d,k,c,i;for(var f=0,g=a.length;f<g;++f){c=a.charAt(f);i=true;if(c==zk.PERCENT){h+=2}else{if(c==zk.PER_MILL){h+=3}else{if(c=="("){d=true}else{if(c!="+"){i=false}}}}if(!i){i=(c<"0"||c>"9")&&c!=zk.DECIMAL&&c!=zk.MINUS&&c!="+"&&(zk.isWhitespace(c)||c==zk.GROUPING||c==")"||(b&&b.indexOf(c)>=0))}if(i){if(!k){k=a.substring(0,f)}}else{var e=c==zk.MINUS?"-":c==zk.DECIMAL?".":c;if(c!=e&&!k){k=a.substring(0,f)}if(k){k+=e}}}if(d){if(!k){k=a}if(k.length){if(k.charAt(0)=="-"){k=k.substring(1)}else{k="-"+k}}}return{raw:k||a,divscale:h}}};
zMsgFormat={format:function(e){var d=0,g="";for(var c=0,a=e.length,f,b;c<a;++c){f=e.charAt(c);if(f=="\\"){if(++c>=a){break}g+=e.substring(d,c);f=e.charAt(c);switch(f){case"n":f="\n";break;case"t":f="\t";break;case"r":f="\r";break}g+=f;d=c+1}else{if(f=="{"){b=e.indexOf("}",c+1);if(b<0){break}g+=e.substring(d,c)+arguments[zk.parseInt(e.substring(c+1,b))+1];d=c=b+1}}}if(g){g+=e.substring(d)}return g||e}};
_z='zul';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zul.Widget=zk.$extends(zk.Widget,{getContext:function(){return this._context},setContext:function(a){if(zk.Widget.isInstance(a)){a="uuid("+a.uuid+")"}this._context=a},getPopup:function(){return this._popup},setPopup:function(a){if(zk.Widget.isInstance(a)){a="uuid("+a.uuid+")"}this._popup=a},getTooltip:function(){return this._tooltip},setTooltip:function(a){if(zk.Widget.isInstance(a)){a="uuid("+a.uuid+")"}this._tooltip=a},getCtrlKeys:function(){return this._ctrlKeys},setCtrlKeys:function(i){if(this._ctrlKeys!=i){if(!i){this._ctrlKeys=this._parsedCtlKeys=null;return}var g=["","","","",""],c=0;for(var e=0,f=i.length;e<f;++e){var a=i.charAt(e);switch(a){case"^":case"$":case"@":if(c){throw"Combination of Shift, Alt and Ctrl not supported: "+i}c=a=="^"?1:a=="@"?2:3;break;case"#":var b=e+1;for(;b<f;++b){var d=i.charAt(b);if((d>"Z"||d<"A")&&(d>"z"||d<"a")&&(d>"9"||d<"0")){break}}if(b==e+1){throw"Unexpected character "+a+" in "+i}var l=i.substring(e+1,b).toLowerCase();if("pgup"==l){a="A"}else{if("pgdn"==l){a="B"}else{if("end"==l){a="C"}else{if("home"==l){a="D"}else{if("left"==l){a="E"}else{if("up"==l){a="F"}else{if("right"==l){a="G"}else{if("down"==l){a="H"}else{if("ins"==l){a="I"}else{if("del"==l){a="J"}else{if(l.length>1&&l.charAt(0)=="f"){var h=zk.parseInt(l.substring(1));if(h==0||h>12){throw"Unsupported function key: #f"+h}a="O".$inc(h)}else{throw"Unknown #"+l+" in "+i}}}}}}}}}}}g[c]+=a;c=0;e=b-1;break;default:if(!c||((a>"Z"||a<"A")&&(a>"z"||a<"a")&&(a>"9"||a<"0"))){throw"Unexpected character "+a+" in "+i}if(c==3){throw"$a - $z not supported (found in "+i+"). Allowed: $#f1, $#home and so on."}if(a<="Z"&&a>="A"){a=a.$inc("a".$sub("A"))}g[c]+=a;c=0;break}}this._parsedCtlKeys=g;this._ctrlKeys=i}},doClick_:function(b){if(!b._popuped){var a=this._smartFellow(this._popup);if(a){b._popuped=true;a.open(this,[b.data.pageX,b.data.pageY],null,{sendOnOpen:true});b.stop()}}this.$supers("doClick_",arguments)},doRightClick_:function(b){if(!b._ctxed){var a=this._smartFellow(this._context);if(a){b._ctxed=true;a.open(this,[b.data.pageX,b.data.pageY],null,{sendOnOpen:true});b.stop()}}this.$supers("doRightClick_",arguments)},doMouseOver_:function(a){if(!a._tiped&&zTooltip.beforeBegin(this)){var b=this._smartFellow(this._tooltip);if(b){a._tiped=true;zTooltip.begin(b,this)}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){zTooltip.end(this);this.$supers("doMouseOut_",arguments)},_smartFellow:function(a){return a?a.startsWith("uuid(")&&a.endsWith(")")?zk.Widget.$(a.substring(5,a.length-1)):this.getFellow(a,true):null}});
(_zkwg=_zkpk.Widget).prototype.className='zul.Widget';zul.LabelImageWidget=zk.$extends(zul.Widget,{getLabel:function(){var a=this._label;return a?a:""},setLabel:function(a){if(a==null){a=""}if(this._label!=a){this._label=a;this.updateDomContent_()}},getImage:function(){return this._image},setImage:function(a){if(this._image!=a){this._image=a;this.updateDomContent_()}},getHoverImage:function(){return this._himg},setHoverImage:function(a){this._himg=a},updateDomContent_:function(){this.rerender()},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this._image;if(!a){return b}a='<img src="'+a+'" align="absmiddle" />';return b?a+" "+b:a},doMouseOver_:function(){var b=this._himg;if(b){var a=this.getImageNode_();if(a){a.src=b}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(){if(this._himg){var a=this.getImageNode_();if(a){a.src=this._image}}this.$supers("doMouseOut_",arguments)},getImageNode_:function(){if(!this._eimg&&this._image){this._eimg=zDom.firstChild(this.getNode(),"IMG",true)}return this._eimg},unbind_:function(){this._eimg=null;this.$supers("unbind_",arguments)}});
(_zkwg=_zkpk.LabelImageWidget).prototype.className='zul.LabelImageWidget';
}finally{zPkg.end(_z);}}_z='zul.wgt';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zul.wgt.Div=zk.$extends(zul.Widget,{});
(_zkwg=_zkpk.Div).prototype.className='zul.wgt.Div';_zkmd={};
_zkmd['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
zkmld(_zkwg,_zkmd);zul.wgt.Include=zk.$extends(zul.Widget,{getContent:function(){var a=this._content;return a?a:""},setContent:function(a){if(a==null){a=""}if(this._content!=a){this._content=a;var b=this.getNode();if(b){b.innerHTML=a}}},redraw:function(b){b.push('<div id="',this.uuid,'"');if(this.style){b.push(' style="',this.style,'"')}b.push(">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push(this._content,"</div>")}});
(_zkwg=_zkpk.Include).prototype.className='zul.wgt.Include';zul.wgt.Label=zk.$extends(zul.Widget,{_value:"",getValue:function(){return this._value},setValue:function(a){if(!a){a=""}if(this._value!=a){this._value=a;var b=this.getNode();if(b){b.innerHTML=this.getEncodedText()}}},isMultiline:function(){return this._multiline},setMultiline:function(a){if(a!=this._multiline){this._multiline=a;var b=this.getNode();if(b){b.innerHTML=this.getEncodedText()}}},isPre:function(){return this._pre},setPre:function(a){if(a!=this._pre){this._pre=a;var b=this.getNode();if(b){b.innerHTML=this.getEncodedText()}}},getEncodedText:function(){return zUtl.encodeXML(this._value,{multiline:this._multiline,pre:this._pre})},getZclass:function(){var a=this._zclass;return a!=null?a:"z-label"}});
(_zkwg=_zkpk.Label).prototype.className='zul.wgt.Label';_zkmd={};
_zkmd['default']=function(a){a.push("<span",this.domAttrs_(),">",this.getEncodedText(),"</span>")};
zkmld(_zkwg,_zkmd);zul.wgt.Button=zk.$extends(zul.LabelImageWidget,{_orient:"horizontal",_dir:"normal",_tabindex:-1,getOrient:function(){return this._orient},setOrient:function(a){if(this._orient!=a){this._orient=a;this.updateDomContent_()}},getDir:function(){return this._dir},setDir:function(a){if(this._dir!=a){this._dir=a;this.updateDomContent_()}},isDisabled:function(){return this._disabled},setDisabled:function(a){if(this._disabled!=a){this._disabled=a;if(this.desktop){if(this._mold=="os"){this.getNode().disabled=true}else{this.rerender()}}}},getTabindex:function(){return this._tabindex},setTabindex:function(a){if(this._tabindex!=a){this._tabindex=a;var b=this.getNode();if(b){(this.getSubnode("btn")||b).tabIndex=a}}},getHref:function(){return this._href},setHref:function(a){this._href=a},getTarget:function(){return this._target},setTarget:function(a){this._target=a},focus:function(a){if(this.isVisible()&&this.canActivate({checkOnly:true})){zDom.focus(this.getSubnode("btn")?this.getSubnode("btn"):this.getNode(),a);return true}return false},updateDomContent_:function(){if(this.desktop){var a=this.getSubnode("box");if(a){a.tBodies[0].rows[1].cells[1].innerHTML=this.domContent_()}else{this.getNode().innertHTML=this.domContent_()}}},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this.getImage();if(!a){return b}a='<img src="'+a+'" align="absmiddle" />';var c="vertical"==this.getOrient()?"<br/>":" ";return this.getDir()=="reverse"?b+c+a:a+c+b},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(this._disabled&&(!c||!c.zclass)){var a=this.getZclass();if(a){b+=(b?" ":"")+a+"-disd"}}return b},getZclass:function(){var a=this._zclass;return a!=null?a:this._mold=="os"?"z-button-os":"z-button"},bind_:function(){this.$supers("bind_",arguments);var a=zul.wgt.Button,b;if(this._mold=="os"){b=this.getNode()}else{if(this._disabled){return}zDom.disableSelection(this.getSubnode("box"));b=this.getSubnode("btn")}zEvt.listen(b,"focus",a._doFocus);zEvt.listen(b,"blur",a._doBlur)},unbind_:function(){var a=zul.wgt.Button,b=this._mold=="os"?this.getNode():this.getSubnode("btn");if(b){zEvt.unlisten(b,"focus",a._doFocus);zEvt.unlisten(b,"blur",a._doBlur)}this.$supers("unbind_",arguments)},doClick_:function(b){if(!this._disabled){this.fireX(b);if(!b.stopped){var a=this._href;if(a){zUtl.go(a,false,this.getTarget(),"target")}}}},doMouseOver_:function(){zDom.addClass(this.getSubnode("box"),this.getZclass()+"-over");this.$supers("doMouseOver_",arguments)},doMouseOut_:function(){if(this!=zul.wgt.Button._curdn){zDom.rmClass(this.getSubnode("box"),this.getZclass()+"-over")}this.$supers("doMouseOut_",arguments)},doMouseDown_:function(){var a=this.getSubnode("box"),b=this.getZclass();zDom.addClass(a,b+"-clk");zDom.addClass(a,b+"-over");zDom.focus(this.getSubnode("btn"),30);zk.mouseCapture=this;this.$supers("doMouseDown_",arguments)},doMouseUp_:function(){var a=this.getSubnode("box"),b=this.getZclass();zDom.rmClass(a,b+"-clk");zDom.rmClass(a,b+"-over");this.$supers("doMouseUp_",arguments)}},{_doFocus:function(a){var b=zk.Widget.$(a);if(b&&b.domFocus_()&&b._mold!="os"){zDom.addClass(b.getSubnode("box"),b.getZclass()+"-focus")}},_doBlur:function(a){var b=zk.Widget.$(a);if(b._mold!="os"){zDom.rmClass(b.getSubnode("box"),b.getZclass()+"-focus")}b.domBlur_()}});
(_zkwg=_zkpk.Button).prototype.className='zul.wgt.Button';_zkmd={};
_zkmd['os']=function(b){b.push("<button",this.domAttrs_());var a=this._tabindex;if(this._disabled){b.push(' disabled="disabled"')}if(a>=0){b.push(' tabindex="',a,'"')}b.push(">",this.domContent_(),"</button>")};
_zkmd['default']=function(b){var e=this.getZclass(),a=this._tabindex;a=a>=0?' tabindex="'+a+'"':"";b.push("<span",this.domAttrs_({style:1,domclass:1}),' class="',e,'"');if(!this.isVisible()){b.push(' style="display:none"')}b.push('><table id="',this.uuid,'$box"',zUtl.cellps0);if(a&&!zk.gecko&&!zk.safari){b.push(a)}var d=this.domStyle_();if(d){b.push(' style="',d,'"')}d=this.domClass_();if(d){b.push(' class="',d,'"')}var c='<button id="'+this.uuid+'$btn" class="'+e+'"',d=this.isDisabled();if(d){c+=' disabled="disabled"'}if(a&&(zk.gecko||zk.safari)){c+=a}c+="></button>";b.push('><tr><td class="',e,'-tl">');if(!zk.ie){b.push(c)}b.push('</td><td class="',e,'-tm"></td>','<td class="',e,'-tr"></td></tr>');b.push('<tr><td class="',e,'-cl">');if(zk.ie){b.push(c)}b.push('</td><td class="',e,'-cm">',this.domContent_(),'</td><td class="',e,'-cr"><div></div></td></tr>','<tr><td class="',e,'-bl"></td>','<td class="',e,'-bm"></td>','<td class="',e,'-br"></td></tr></table></span>')};
zkmld(_zkwg,_zkmd);zul.wgt.Separator=zk.$extends(zul.Widget,{_orient:"horizontal",isVertical:function(){return this._orient=="vertical"},getOrient:function(){return this._orient},setOrient:function(a){if(this._orient!=a){this._orient=a;this.updateDomClass_()}},isBar:function(){return this._bar},setBar:function(a){if(this._bar!=a){this._bar=a;this.updateDomClass_()}},getSpacing:function(){return this._spacing},setSpacing:function(a){if(this._spacing!=a){this._spacing=a;this.updateDomStyle_()}},getZclass:function(){var b=this.zclass,a=this.isBar();return b?b:"z-separator"+(this.isVertical()?"-ver"+(a?"-bar":""):"-hor"+(a?"-bar":""))},domStyle_:function(){var b=this.$supers("domStyle_",arguments);if(!this._isPercentGecko()){return b}var a=zk.parseInt(_spacing.substring(0,_spacing.length()-1).trim());if(a<=0){return b}a=a>=2?(a/2)+"%":"1%";return"margin:"+(this.isVertical()?"0 "+a:a+" 0")+";"+b},getWidth:function(){var a=this.$supers("getWidth",arguments);return !this.isVertical()||(a!=null&&a.length()>0)||this._isPercentGecko()?a:this._spacing},getHeight:function(){var a=this.$supers("getHeight",arguments);return this.isVertical()||(a!=null&&a.length()>0)||this._isPercentGecko()?a:this._spacing},_isPercentGecko:function(){return zk.gecko&&this._spacing!=null&&this._spacing.endsWith("%")}});
(_zkwg=_zkpk.Separator).prototype.className='zul.wgt.Separator';_zkmd={};
_zkmd['default']=function(b){var a=this.isVertical()?"span":"div";b.push("<",a,this.domAttrs_(),">&nbsp;</",a,">")};
zkmld(_zkwg,_zkmd);zul.wgt.Space=zk.$extends(zul.wgt.Separator,{_orient:"vertical"});
(_zkwg=_zkpk.Space).prototype.className='zul.wgt.Space';_zkmd={};
_zkmd['default']=zul.wgt.Separator.molds["default"];
zkmld(_zkwg,_zkmd);zul.wgt.Caption=zk.$extends(zul.LabelImageWidget,{domDependent_:true,getZclass:function(){var a=this._zclass;return a!=null?a:"z-caption"},domContent_:function(){var b=this.getLabel(),a=this.getImage(),c=this.parent?this.parent.title:"";if(c){b=b?c+" - "+b:c}b=zUtl.encodeXML(b);if(!a){return b}a='<img src="'+a+'" align="absmiddle" />';return b?a+" "+b:a},unbind_:function(){var b=this.getNode(),a=this.parent;if(b&&a.$instanceof(zul.wgt.Groupbox)){zEvt.unlisten(b,"click",zul.wgt.Caption.ongbclk)}this.$supers("unbind_",arguments)},doClick_:function(){if(this.parent.$instanceof(zul.wgt.Groupbox)){this.parent.setOpen(!this.parent.isOpen())}this.$supers("doClick_",arguments)},_isCloseVisible:function(){var a=this.parent;return a.isClosable&&a.isClosable()},_isMinimizeVisible:function(){var a=this.parent;return a.isMinimizable&&a.isMinimizable()},_isMaximizeVisible:function(){var a=this.parent;return a.isMaximizable&&a.isMaximizable()}});
(_zkwg=_zkpk.Caption).prototype.className='zul.wgt.Caption';_zkmd={};
_zkmd['default']=function(b){var d=this.parent;if(d.isLegend&&d.isLegend()){b.push("<legend",this.domAttrs_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</legend>");return}var f=this.getZclass(),c=this.domContent_(),e=d.uuid,g=d.getZclass();b.push("<table",this.domAttrs_(),zUtl.cellps0,' width="100%"><tr valign="middle"><td align="left" class="',f,'-l">',(c?c:"&nbsp;"),'</td><td align="right" class="',f,'-r" id="',this.uuid,'$cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</td>");if(this._isMinimizeVisible()){b.push('<td width="16"><div id="',e,'$min" class="',g,"-tool ",g,'-minimize"></div></td>')}if(this._isMaximizeVisible()){b.push('<td width="16"><div id="',e,'$max" class="',g,"-tool ",g,"-maximize");if(d.isMaximized()){b.push(" ",g,"-maximized")}b.push('"></div></td>')}if(this._isCloseVisible()){b.push('<td width="16"><div id="',e,'$close" class="',g,"-tool ",g,'-close"></div></td>')}b.push("</tr></table>")};
zkmld(_zkwg,_zkmd);zul.wgt.Checkbox=zk.$extends(zul.LabelImageWidget,{_tabindex:-1,isDisabled:function(){return this._disabled},setDisabled:function(a){if(this._disabled!=a){this._disabled=a;if(this.getSubnode("real")){this.getSubnode("real").disabled=a}}},isChecked:function(){return this._checked},setChecked:function(a){if(this._checked!=a){this._checked=a;if(this.getSubnode("real")){this.getSubnode("real").checked=a}}},getName:function(){return this._name},setName:function(a){if(!a){a=null}if(this._name!=a){this._name=a;if(this.getSubnode("real")){this.getSubnode("real").name=a}}},getTabindex:function(){return this._tabindex},setTabindex:function(a){if(this._tabindex!=a){this._tabindex=a;if(this.getSubnode("real")){this.getSubnode("real").tabIndex=a}}},getZclass:function(){var a=this._zclass;return a!=null?a:"z-checkbox"},contentAttrs_:function(){var b="",a=this.getName();if(a){b+=' name="'+a+'"'}if(this._disabled){b+=' disabled="disabled"'}if(this._checked){b+=' checked="checked"'}a=this._tabindex;if(a>=0){b+=' tabindex="'+a+'"'}return b},labelAttrs_:function(){var a=zDom.getTextStyle(this.domStyle_());return a?' style="'+a+'"':""},bind_:function(c){this.$supers("bind_",arguments);var a=zul.wgt.Checkbox,b=this.getSubnode("real");if(zk.gecko2Only){zEvt.listen(b,"click",zul.wgt.Checkbox._doClick)}zEvt.listen(b,"focus",this.proxy(this.domFocus_,"_fxFocus"));zEvt.listen(b,"blur",this.proxy(this.domBlur_,"_fxBlur"))},unbind_:function(){var a=zul.wgt.Checkbox,b=this.getSubnode("real");if(zk.gecko2Only){zEvt.unlisten(b,"click",zul.wgt.Checkbox._doClick)}zEvt.unlisten(b,"focus",this._fxFocus);zEvt.unlisten(b,"blur",this._fxBlur);this.$supers("unbind_",arguments)},doClick_:function(){var b=this.getSubnode("real"),a=b.checked;if(a!=b.defaultChecked){this.setChecked(a);b.defaultChecked=a;this.fire("onCheck",a)}return this.$supers("doClick_",arguments)},updateDomStyle_:function(){var b=this.getNode();zDom.setStyle(b,zDom.parseStyle(this.domStyle_()));var a=zDom.firstChild(b,"LABEL",true);if(a){zDom.setStyle(a,zDom.parseStyle(zDom.getTextStyle(this.domStyle_())))}}});if(zk.gecko2Only){zul.wgt.Checkbox._doClick=function(a){a.z_target=a.currentTarget}};
(_zkwg=_zkpk.Checkbox).prototype.className='zul.wgt.Checkbox';_zkmd={};
_zkmd['default']=function(a){var b=this.uuid,c=this.getZclass();a.push("<span",this.domAttrs_(),">",'<input type="checkbox" id="',b,'$real"',this.contentAttrs_(),'/><label for="',b,'$real"',this.labelAttrs_(),' class="',c,'-cnt">',this.domContent_(),"</label></span>")};
zkmld(_zkwg,_zkmd);zul.wgt.Groupbox=zk.$extends(zul.Widget,{_open:true,_closable:true,isLegend:function(){return this._mold=="default"},isOpen:function(){return this._open},setOpen:function(c,b){if(this._open!=c){this._open=c;var d=this.getNode();if(d){var a=this.getSubnode("panel");if(a){if(c){zAnima.slideDown(this,a,{afterAnima:this._afterSlideDown})}else{zAnima.slideUp(this,a,{beforeAnima:this._beforeSlideUp})}}else{zDom[c?"rmClass":"addClass"](d,this.getZclass()+"-colpsd");zWatch.fireDown(c?"onVisible":"onHide",{visible:true},this)}if(!b){this.fire("onOpen",c)}}}},isClosable:function(){return this._closable},setClosable:function(a){if(this._closable!=a){this._closable=a;this._updateDomOuter()}},getContentStyle:function(){return this._cntStyle},setContentStyle:function(a){if(this._cntStyle!=a){this._cntStyle=a;this._updateDomOuter()}},getContentSclass:function(){return this._cntSclass},setContentSclass:function(a){if(this._cntSclass!=a){this._cntSclass=a;this._updateDomOuter()}},_updateDomOuter:function(){this.rerender(zk.Skipper.nonCaptionSkipper)},_contentAttrs:function(){var a=' class="',b=this._cntSclass;if(b){a+=b+" "}a+=this.getZclass()+'-cnt"';b=this._cntStyle;if(!this.isLegend()&&this.caption){b="border-top:0;"+(b?b:"")}if(b){a+=' style="'+b+'"'}return a},onSize:_zkf=function(){var a=this.getNode().style.height;if(a&&a!="auto"){var b=this.getSubnode("cave");if(b){if(zk.ie6Only){b.style.height=""}b.style.height=zDom.revisedHeight(b,zDom.vflexHeight(b.parentNode),true)+"px"}}setTimeout(this.proxy(this._fixShadow),500)},onVisible:_zkf,_afterSlideDown:function(a){zWatch.fireDown("onVisible",{visible:true},this)},_beforeSlideUp:function(a){zWatch.fireDown("onHide",{visible:true},this)},_fixShadow:function(){var a=this.getSubnode("sdw");if(a){a.style.display=zk.parseInt(zDom.getStyle(this.getSubnode("cave"),"border-bottom-width"))?"":"none"}},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){this.onSize()}},focus:function(c){if(this.desktop){var b=this.caption;for(var a=this.firstChild;a;a=a.nextSibling){if(a!=b&&a.focus(c)){return true}}return b&&b.focus(c)}return false},getZclass:function(){var a=this._zclass;return a?a:this.isLegend()?"z-fieldset":"z-groupbox"},bind_:function(){this.$supers("bind_",arguments);if(!this.isLegend()){zWatch.listen("onSize",this);zWatch.listen("onVisible",this)}},unbind_:function(){if(!this.isLegend()){zWatch.unlisten("onSize",this);zWatch.unlisten("onVisible",this)}this.$supers("unbind_",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Caption)){this.caption=a}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.caption){this.caption=null}},domClass_:function(){var a=this.$supers("domClass_",arguments);if(!this._open){if(a){a+=" "}a+=this.getZclass()+"-colpsd"}return a}});
(_zkwg=_zkpk.Groupbox).prototype.className='zul.wgt.Groupbox';_zkmd={};
_zkmd['3d']=function(b,f){var e=this.getZclass(),d=this.uuid,c=this.caption;b.push("<div",this.domAttrs_(),">");if(c){b.push('<div class="',e,'-tl"><div class="',e,'-tr"></div></div><div class="',e,'-hl"><div class="',e,'-hr"><div class="',e,'-hm"><div class="',e,'-header">');c.redraw(b);b.push("</div></div></div></div>")}b.push('<div id="',d,'$panel" class="',e,'-body"');if(!this.isOpen()){b.push(' style="display:none"')}b.push('><div id="',d,'$cave"',this._contentAttrs(),">");if(!f){for(var a=this.firstChild;a;a=a.nextSibling){if(a!=c){a.redraw(b)}}}b.push("</div></div>",'<div id="',d,'$sdw" class="',e,'-bl"><div class="',e,'-br"><div class="',e,'-bm"></div></div></div></div>')};
_zkmd['default']=function(b,d){b.push("<fieldset",this.domAttrs_(),">");var c=this.caption;if(c){c.redraw(b)}b.push('<div id="',this.uuid,'$cave"',this._contentAttrs(),">");if(!d){for(var a=this.firstChild;a;a=a.nextSibling){if(a!=c){a.redraw(b)}}}b.push("</div></fieldset>")};
zkmld(_zkwg,_zkmd);zul.wgt.Html=zk.$extends(zul.Widget,{_content:"",getContent:function(){return this._content},setContent:function(a){if(!a){a=""}if(this._content!=a){this._content=a;var b=this.getNode();if(b){b.innerHTML=a}}}});
(_zkwg=_zkpk.Html).prototype.className='zul.wgt.Html';_zkmd={};
_zkmd['default']=function(a){a.push("<span",this.domAttrs_(),">",this._content,"</span>")};
zkmld(_zkwg,_zkmd);zul.wgt.Popup=zk.$extends(zul.Widget,{_visible:false,isOpen:function(){return this.isVisible()},open:function(e,f,b,d){var a=this._posInfo(e,f,b);var c=this.getNode();zDom.setStyle(c,{position:"absolute"});zDom.makeVParent(c);if(a){zDom.position(c,a.dim,a.pos,d)}this.setVisible(true);this.setFloating_(true);this.setTopmost();if(this.isListen("onOpen")){this.mask=new zk.eff.Mask({id:this.uuid+"$mask",anchor:c});zWatch.listen("onResponse",this)}if(zk.ie6Only){if(!this._stackup){this._stackup=zDom.makeStackup(c)}else{this._stackup.style.top=c.style.top;this._stackup.style.left=c.style.left;this._stackup.style.display="block"}}e=zk.Widget.$(e);if(d&&d.sendOnOpen){this.fire("onOpen",e?[true,e.uuid]:true)}zDom.cleanVisibility(c)},position:function(d,e,b,c){var a=this._posInfo(d,e,b);if(a){zDom.position(this.getNode(),a.dim,a.pos,c)}},_posInfo:function(c,g,a,b){var h,f;if(c&&a){if(typeof c=="string"){c=zk.Widget.$(c)}if(c){var e=zul.Widget.isInstance(c)?c.getNode():c,d=zDom.revisedOffset(e);h=a;f={top:d[0],left:d[1],width:zDom.offsetWidth(e),height:zDom.offsetHeight(e)}}}else{if(g&&g.$array){f={top:zk.parseInt(g[0]),left:zk.parseInt(g[1])}}}if(f){return{pos:h,dim:f}}},onResponse:function(){if(this.mask){this.mask.destroy()}zWatch.unlisten("onResponse",this);this.mask=null},close:function(a){if(this._stackup){this._stackup.style.display="none"}this.setVisible(false);zDom.undoVParent(this.getNode());this.setFloating_(false);if(a&&a.sendOnOpen){this.fire("onOpen",false)}},getZclass:function(){var a=this._zclass;return a!=null?a:"z-popup"},onFloatUp:function(b){if(!this.isVisible()){return}for(var a;b;b=b.parent){if(b==this){if(!a){this.setTopmost()}return}a=a||b.isFloating_()}this.close({sendOnOpen:true})},bind_:function(){this.$supers("bind_",arguments);zWatch.listen("onFloatUp",this);zWatch.listen("onVisible",this);this.setFloating_(true)},unbind_:function(){if(this._stackup){zDom.remove(this._stackup);this._stackup=null}zWatch.unlisten("onFloatUp",this);zWatch.unlisten("onVisible",this);this.setFloating_(false);this.$supers("unbind_",arguments)},onVisible:zk.ie7?function(f){var d=f.getNode(),a=d.style.width,c=zDom.firstChild(d,"DIV"),b=zDom.lastChild(zDom.lastChild(d,"DIV"),"DIV"),g=f.getSubnode("cave").parentNode;if(!a||a=="auto"){var e=zDom.padBorderWidth(g.parentNode)+zDom.padBorderWidth(g.parentNode.parentNode);if(c){c.firstChild.firstChild.style.width=Math.max(0,g.offsetWidth-(zDom.padBorderWidth(c)+zDom.padBorderWidth(c.firstChild)-e))+"px"}if(b){b.firstChild.firstChild.style.width=Math.max(0,g.offsetWidth-(zDom.padBorderWidth(b)+zDom.padBorderWidth(b.firstChild)-e))+"px"}}else{if(c){c.firstChild.firstChild.style.width=""}if(b){b.firstChild.firstChild.style.width=""}}}:zk.$void,setWidth:function(a){this.$supers("setWidth",arguments);zWatch.fireDown("onVisible",{visible:true},this)},prologHTML_:function(a){},epilogHTML_:function(a){}});
(_zkwg=_zkpk.Popup).prototype.className='zul.wgt.Popup';_zkmd={};
_zkmd['default']=function(b){var c=this.getZclass();b.push("<div",this.domAttrs_(),'><div class="',c,'-tl"><div class="',c,'-tr"><div class="',c,'-tm"></div></div></div>','<div id="',this.uuid,'$bwrap" class="',c,'-body"><div class="',c,'-cl"><div class="',c,'-cr"><div class="',c,'-cm">','<div id="',this.uuid,'$cave" class="',c,'-cnt">');this.prologHTML_(b);for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}this.epilogHTML_(b);b.push('</div></div></div></div><div class="',c,'-bl"><div class="',c,'-br"><div class="',c,'-bm"></div></div></div></div></div>')};
zkmld(_zkwg,_zkmd);zul.wgt.Radio=zk.$extends(zul.wgt.Checkbox,{_value:"",getRadiogroup:function(a){var b=a||this.parent;for(;b;b=b.parent){if(b.$instanceof(zul.wgt.Radiogroup)){return b}}return null},isSelected:function(){return this.isChecked()},setSelected:function(b,a){this.setChecked(b,a)},setChecked:function(d,b){if(d!=this.isChecked()){this.$supers("setChecked",arguments);if(this.getSubnode("real")){var e=this.getRadiogroup();if(d){for(var a=e.getItems(),c=a.length;--c>=0;){if(a[c]!=this){a[c].getSubnode("real").defaultChecked=false;a[c]._checked=false}}}if(e){e._fixSelectedIndex()}}}},getValue:function(){return this._value},setValue:function(a){if(a==null){a=""}if(this._value!=a){this._value=a}},getName:function(){var a=this.getRadiogroup();return a!=null?a.getName():this.uuid},contentAttrs_:function(){var a=this.$supers("contentAttrs_",arguments);a+=' value="'+this.getValue()+'"';return a},getZclass:function(){var a=this._zclass;return a!=null?a:"z-radio"},beforeParentChanged_:function(b){var a=this.getRadiogroup(),b=b?this.getRadiogroup(b):null;if(a!=b){if(a&&a.$instanceof(zul.wgt.Radiogroup)){a._fixOnRemove(this)}if(b&&b.$instanceof(zul.wgt.Radiogroup)){b._fixOnAdd(this)}}}});
(_zkwg=_zkpk.Radio).prototype.className='zul.wgt.Radio';_zkmd={};
_zkmd['default']=function(b){var c=this.uuid,d=this.getZclass(),a=this.getRadiogroup();b.push("<span",this.domAttrs_(),">",'<input type="radio" id="',c,'$real"',this.contentAttrs_(),'/><label for="',c,'$real"',this.labelAttrs_(),' class="',d,'-cnt">',this.domContent_(),"</label>",(a&&a.getOrient()=="vertical"?"<br/></span>":"</span>"))};
zkmld(_zkwg,_zkmd);zul.wgt.Radiogroup=zk.$extends(zul.Widget,{_orient:"horizontal",_jsel:-1,getOrient:function(){return this._orient},setOrient:function(a){if(this._orient!=a){this._orient=a;this.rerender()}},getItemAtIndex:function(a){if(a<0){return null}return this._getAt(this,{value:0},a)},getItemCount:function(){return this.getItems().length},getItems:function(){return this._concatItem(this)},getSelectedIndex:function(){return this._jsel},setSelectedIndex:function(a){if(a<0){a=-1}if(this._jsel!=a){if(a<0){getSelectedItem().setSelected(false)}else{getItemAtIndex(a).setSelected(true)}}},getSelectedItem:function(){return this._jsel>=0?this.getItemAtIndex(this._jsel):null},setSelectedItem:function(a){if(a==null){this.setSelectedIndex(-1)}else{if(a.$instanceof(zul.wgt.Radio)){a.setSelected(true)}}},appendItem:function(a,c){var b=new zul.wgt.Radio();b.setLabel(a);b.setValue(c);this.appendChild(b);return b},removeItemAt:function(a){var b=this.getItemAtIndex(a);this.removeChild(b);return b},getName:function(){return this._name},setName:function(b){if(!b){b=null}if(this._name!=b){this._name=b;for(var a=this.getItems(),c=a.length;--c>=0;){a[c].setName(b)}}},_fixSelectedIndex:function(){this._jsel=this._fixSelIndex(this,{value:0})},_concatItem:function(b){var a=[];for(var c=b.firstChild;c;c=c.nextSibling){if(c.$instanceof(zul.wgt.Radio)){a.push(c)}else{if(!c.$instanceof(zul.wgt.Radiogroup)){a=a.concat(this._concatItem(c))}}}return a},_getAt:function(d,f,a){for(var b=0,e=d.firstChild;e;e=e.nextSibling){if(e.$instanceof(zul.wgt.Radio)){if(b.value++==a){return e}}else{if(!e.$instanceof(zul.wgt.Radiogroup)){var c=this._getAt(e,f,a);if(c!=null){return c}}}}return null},_fixOnAdd:function(a){if(this._jsel>=0&&a.isSelected()){a.setSelected(false)}else{this._fixSelectedIndex()}},_fixOnRemove:function(a){if(a.isSelected()){this._jsel=-1}else{if(this._jsel>0){this._fixSelectedIndex()}}},_fixSelIndex:function(a,d){for(var c=a.firstChild;c;c=c.nextSibling){if(c.$instanceof(zul.wgt.Radio)){if(c.isSelected()){return d.value}++d.value}else{if(!c.$instanceof(zul.wgt.Radiogroup)){var b=this._fixSelIndex(c,d);if(b>=0){return b}}}}return -1}});
(_zkwg=_zkpk.Radiogroup).prototype.className='zul.wgt.Radiogroup';_zkmd={};
_zkmd['default']=function(b){b.push("<span",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</span>")};
zkmld(_zkwg,_zkmd);zul.wgt.Toolbar=zk.$extends(zul.Widget,{_orient:"horizontal",_align:"start",getAlign:function(){return this._align},setAlign:function(a){if(!a){a="start"}if(this._align!=a){this._align=a;this.rerender()}},getOrient:function(){return this._orient},setOrient:function(a){if(this._orient!=a){this._orient=a;this.rerender()}},getZclass:function(){var a=this._zclass;return a?a:"z-toolbar"+(this.inPanelMold()?"-panel":"")},inPanelMold:function(){return this._mold=="panel"},onChildAdded_:function(){this.$supers("onChildAdded_",arguments);if(this.inPanelMold()){this.rerender()}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);if(this.inPanelMold()){this.rerender()}}});
(_zkwg=_zkpk.Toolbar).prototype.className='zul.wgt.Toolbar';_zkmd={};
_zkmd['panel']=function(b){var c=this.getZclass();b.push("<div ",this.domAttrs_(),">",'<div class="',c,"-body ",c,"-",this.getAlign(),'" >','<table id="',this.uuid,'$cnt" class="',c,'-cnt"',zUtl.cellps0,"><tbody>");if("vertical"!=this.getOrient()){b.push("<tr>");for(var a=this.firstChild;a;a=a.nextSibling){b.push('<td class="',c,'-hor">');a.redraw(b);b.push("</td>")}b.push("</tr>")}else{for(var a=this.firstChild;a;a=a.nextSibling){b.push('<tr><td class="',c,'-ver">');a.redraw(b);b.push("</td></tr>")}}b.push('</tbody></table><div class="z-clear"></div></div></div>')};
_zkmd['default']=function(b){var d=this.getZclass(),c="vertical"!=this.getOrient()?"":"<br/>";b.push("<div ",this.domAttrs_(),">",'<div id="',this.uuid,'$cave"',' class="',d,"-body ",d,"-",this.getAlign(),'" >');for(var a=this.firstChild;a;a=a.nextSibling){b.push(c);a.redraw(b)}b.push('</div><div class="z-clear"></div></div>')};
zkmld(_zkwg,_zkmd);zul.wgt.Toolbarbutton=zk.$extends(zul.LabelImageWidget,{_orient:"horizontal",_dir:"normal",_tabindex:-1,_disabled:false,isDisabled:function(){return this._disabled},setDisabled:function(a){if(this._disabled!=a){this._disabled=a;this.updateDomClass_()}},getDir:function(){return this._dir},setDir:function(a){if(this._dir!=a){this._dir=a;var b=this.getNode();if(b){b.innerHTML=this.domContent_()}}},getHref:function(){return this._href},setHref:function(a){if(this._href!=a){this._href=a;var b=this.getNode();if(b){b.href=a}}},getOrient:function(){return this._orient},setOrient:function(a){if(this._orient!=a){this._orient=a;var b=this.getNode();if(b){b.innerHTML=this.domContent_()}}},getTarget:function(){return this._target},setTarget:function(a){if(this._target!=a){this._target=a;var b=this.getNode();if(b){b.target=a}}},getTabindex:function(){return this._tabindex==-1?"":this._tabindex},setTabindex:function(a){if(this._tabindex!=a){this._tabindex=a;var b=this.getNode();if(b){b.tabIndex=a<0?null:a}}},getZclass:function(){var a=this._zclass;return a?a:"z-toolbar-button"},bind_:function(){this.$supers("bind_",arguments);var a=this.getNode();if(!this._disabled){zEvt.listen(a,"focus",this.proxy(this.domFocus_,"_fxFocus"));zEvt.listen(a,"blur",this.proxy(this.domBlur_,"_fxBlur"))}},unbind_:function(){var a=this.getNode();zEvt.unlisten(a,"focus",this._fxFocus);zEvt.unlisten(a,"blur",this._fxBlur);this.$supers("unbind_",arguments)},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this.getImage();if(!a){return b}a='<img src="'+a+'" align="absmiddle" />';var c="vertical"==this.getOrient()?"<br/>":"";return this.getDir()=="reverse"?b+c+a:a+c+b},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(this._disabled&&(!c||!c.zclass)){var a=this.getZclass();if(a){b+=(b?" ":"")+a+"-disd"}}return b},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments);if(this.getTarget()){a+=' target="'+this.getTarget()+'"'}if(this.getTabindex()){a+=' tabIndex="'+this.getTabindex()+'"'}if(this.getHref()){a+=' href="'+this.getHref()+'"'}else{a+=' href="javascript:;"'}return a},doClick_:function(b,a){if(this._disabled){zEvt.stop(a)}else{this.fireX(b);if(b.stopped){zEvt.stop(a)}}}});
(_zkwg=_zkpk.Toolbarbutton).prototype.className='zul.wgt.Toolbarbutton';_zkmd={};
_zkmd['default']=function(a){a.push("<a ",this.domAttrs_(),">",this.domContent_(),"</a>")};
zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}_z='zul.box';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zul.box.Box=zk.$extends(zul.Widget,{_mold:"vertical",_align:"start",_pack:"start",isVertical:function(){return"vertical"==this._mold},getOrient:function(){return this._mold},getAlign:function(){return this._align},setAlign:function(a){if(this._align!=a){this._align=a}},getPack:function(){return this._pack},setPack:function(a){if(this._pack!=a){this._pack=a}},getZclass:function(){var a=this._zclass;return a!=null?a:this.isVertical()?"z-vbox":"z-hbox"},onChildVisible_:function(b,a){this.$supers("onChildVisible_",arguments);if(this.desktop){this._fixChildDomVisible(b,a)}},replaceChildHTML_:function(a){this.$supers("replaceChildHTML_",arguments);this._fixChildDomVisible(a,a._visible)},_fixChildDomVisible:function(c,a){var b=c.getSubnode("chdex");if(b){b.style.display=a?"":"none"}b=c.getSubnode("chdex2");if(b){b.style.display=a?"":"none"}if(this.lastChild==c){b=c.previousSibling;if(b){b=b.getSubnode("chdex2");if(b){b.style.display=a?"":"none"}}}},insertChildHTML_:function(d,a,c){if(a){zDom.insertHTMLBefore(a.getSubnode("chdex"),this.encloseChildHTML_(d))}else{var b=this.getNode();if(this.isVertical()){b=b.tBodies[0]}else{b=b.tBodies[0].rows[0]}zDom.insertHTMLBeforeEnd(b,this.encloseChildHTML_(d,true))}d.bind_(c)},removeChildHTML_:function(b,a){this.$supers("removeChildHTML_",arguments);zDom.remove(b.uuid+"$chdex");zDom.remove(b.uuid+"$chdex2");if(a&&this.lastChild==a){zDom.remove(a.uuid+"$chdex2")}},encloseChildHTML_:function(g,c,e){var b=[];if(this.isVertical()){b.push('<tr id="',g.uuid,'$chdex"',this._childOuterAttrs(g),"><td",this._childInnerAttrs(g),">");g.redraw(b);b.push("</td></tr>");if(g.nextSibling){b.push(this._spacingHTML(g))}else{if(c){var f=g.previousSibling;if(f){b.unshift(this._spacingHTML(f))}}}}else{b.push('<td id="',g.uuid,'$chdex"',this._childOuterAttrs(g),this._childInnerAttrs(g),">");g.redraw(b);b.push("</td>");if(g.nextSibling){b.push(this._spacingHTML(g))}else{if(c){var f=g.previousSibling;if(f){b.unshift(this._spacingHTML(f))}}}}if(!e){return b.join("")}for(var d=0,a=b.length;d<a;++d){e.push(b[d])}},_spacingHTML:function(g){var a=[],f=this.spacing,e=f&&f.startsWith("0")&&(f.length==1||zk.isDigit(f.charAt(1))),c=this.isVertical(),b=f?(c?"height:":"width:")+f:"";a.push("<t",c?"r":"d",' id="',g.uuid,'$chdex2" class="',this.getZclass(),'-sep"');var d=b;if(e||!g.isVisible()){d="display:none"+d}if(d){a.push(' style="',d,'"')}a.push(">",c?"<td>":"",zUtl.img0,c?"</td></tr>":"</td>");return a.join("")},_childOuterAttrs:function(c){var b="";if(c.$instanceof(zul.box.Splitter)){b=' class="'+c.getZclass()+'-outer"'}else{if(this.isVertical()){var a=this.getPack();if(a){b=' valign="'+zul.box.Box._toValign(a)+'"'}}else{return""}}if(!c.isVisible()){b+=' style="display:none"'}return b},_childInnerAttrs:function(b){var g="",h=this.isVertical(),d=zul.box.Splitter;if(b.$instanceof(d)){return h?' class="'+b.getZclass()+'-outer-td"':""}var l=h?this.getAlign():this.getPack();if(l){g+=' align="'+zul.box.Box._toHalign(l)+'"'}var a="",f=this._sizes;if(f){for(var e=0,i=f.length,k=this.firstChild;k&&e<i;k=k.nextSibling){if(b==k){a=(h?"height:":"width:")+f[e];break}if(!k.$instanceof(d)){++e}}}if(!h&&!b.isVisible()){a+=";display:none"}return a?g+' style="'+a+'"':g},_bindWatch:function(){if(!this._watchBound){this._watchBound=true;zWatch.listen("onSize",this);zWatch.listen("onVisible",this);zWatch.listen("onHide",this)}},unbind_:function(){if(this._watchBound){this._watchBound=false;zWatch.unlisten("onSize",this);zWatch.unlisten("onVisible",this);zWatch.unlisten("onHide",this)}this.$supers("unbind_",arguments)},onSize:_zkf=function(){if(!this.isRealVisible()){return}var b=zul.box.Splitter;for(var k=this.firstChild;;k=k.nextSibling){if(!k){return}if(k.$instanceof(b)){break}}var h=this.isVertical(),e=this.getNode();if(zk.ie){var a=e.parentNode;if(zDom.tag(a)=="TD"){var o=h?"height":"width",l=h?a.clientHeight:a.clientWidth;if((e.style[o]=="100%"||this._box100)&&l){e.style[o]=l+"px";this._box100=true}}}var f=h?e.rows:e.rows[0].cells,m=h?zDom.revisedHeight(e,e.offsetHeight):zDom.revisedWidth(e,e.offsetWidth);for(var g=f.length;--g>=0;){var j=f[g];if(zDom.isVisible(j)){if(h){var n=j.offsetHeight;if(j.id&&!j.id.endsWith("$chdex2")){if(j.cells.length){var k=j.cells[0];k.style.height=zDom.revisedHeight(k,g?n:m)+"px"}j.style.height=""}m-=n}else{var n=j.offsetWidth;if(j.id&&!j.id.endsWith("$chdex2")){j.style.width=zDom.revisedWidth(j,g?n:m)+"px"}m-=n}}}},onVisible:_zkf,onHide:_zkf},{_toValign:function(a){return a?"start"==a?"top":"center"==a?"middle":"end"==a?"bottom":a:null},_toHalign:function(a){return a?"start"==a?"left":"end"==a?"right":a:null}});
(_zkwg=_zkpk.Box).prototype.className='zul.box.Box';_zkmd={};
_zkmd['vertical']=function(b){b.push("<table",this.domAttrs_(),zUtl.cellps0,">");for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,false,b)}b.push("</table>")};
_zkmd['horizontal']=function(c){c.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");var b=this.getAlign();if(b){c.push(' valign="',zul.box.Box._toValign(b),'"')}c.push(">");for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,false,c)}c.push("</tr></table>")};
zkmld(_zkwg,_zkmd);zul.box.Splitter=zk.$extends(zul.Widget,{_collapse:"none",_open:true,isVertical:function(){var a=this.parent;return !a||a.isVertical()},getOrient:function(){var a=this.parent;return a?a.getOrient():"vertical"},isOpen:function(){return this._open},setOpen:function(g,k){if(this._open!=g){this._open=g;var e=this.getNode();if(!e){return}var n=this.getCollapse();if(!n||"none"==n){return}var f=this.getSubnode("chdex"),m=zDom.tag(f),h=this.isVertical(),d=this.$class,j=n=="before",c=j?d._prev(f,m):d._next(f,m),i=zk.Widget.$(c),b=h?"height":"width",l;if(c){i.setDomVisible_(c,g);i.parent._fixChildDomVisible(i,g);l=zk.parseInt(c.style[b]);if(!j&&i&&!i.nextSibling){var a=this.getSubnode("chdex2");if(a){a.style.display=g?"":"none";l+=zk.parseInt(a.style[b])}}}c=j?d._next(f,m):d._prev(f,m);if(c){l=zk.parseInt(c.style[b])+(g?-l:l);if(l<0){l=0}c.style[b]=l+"px";if(g){zWatch.fireDown("onSize",null,i)}}e.style.cursor=!g?"default":h?"s-resize":"e-resize";this._fixNSDomClass();this._fixbtn();this._fixszAll();if(!k){this.fire("onOpen",g)}}},getCollapse:function(){return this._collapse},setCollapse:function(a){if(this._collapse!=a){this._collapse=a;if(this.desktop){this._fixbtn();this._fixsz()}}},getZclass:function(){var a=this._zclass;return a?a:"z-splitter"+(this.isVertical()?"-ver":"-hor")},setZclass:function(){this.$supers("setZclass",arguments);if(this.desktop){this._fixDomClass(true)}},bind_:function(){this.$supers("bind_",arguments);var g=this.parent;if(g){g._bindWatch()}zWatch.listen("onSize",this);zWatch.listen("beforeSize",this);zWatch.listen("onVisible",this);this._fixDomClass();var f=this.getNode(),e=this.$class;vert=this.isVertical();btn=this.button=this.getSubnode("btn");f.style.cursor=this.isOpen()?vert?"s-resize":"e-resize":"default";btn.style.cursor="pointer";if(zk.ie){zEvt.listen(btn,"mouseover",e.onover);zEvt.listen(btn,"mouseout",e.onout)}zEvt.listen(btn,"click",e.onclick);this._fixbtn();this._drag=new zk.Draggable(this,f,{constraint:this.getOrient(),ignoredrag:e._ignoresizing,ghosting:e._ghostsizing,overlay:true,snap:e._snap,endeffect:e._endDrag});if(!this.isOpen()){var h=this.getSubnode("chdex"),a=zDom.tag(h),d=this.getCollapse();if(!d||"none"==d){return}var c=d=="before"?e._prev(h,a):e._next(h,a);zDom.hide(c);var b=zk.Widget.$(c);b.parent._fixChildDomVisible(b,false);this._fixNSDomClass()}},unbind_:function(){zWatch.unlisten("onSize",this);zWatch.unlisten("beforeSize",this);zWatch.unlisten("onVisible",this);var b=this.$class,a=this.button;if(a){if(zk.ie){zEvt.unlisten(a,"mouseover",b.onover);zEvt.unlisten(a,"mouseout",b.onout)}zEvt.unlisten(a,"click",b.onclick)}this._drag.destroy();this._drag=null;this.$supers("unbind_",arguments)},_fixDomClass:function(b){var c=this.getNode(),d=c.parentNode;if(d){var a=this.isVertical(),e=this.getZclass();if(a){d=d.parentNode}if(d&&d.id.endsWith("$chdex")){d.className=e+"-outer";if(a){c.parentNode.className=e+"-outer-td"}}}if(b){this._fixbtn()}},_fixNSDomClass:function(){var b=this.getNode(),c=this.getZclass(),a=this.isOpen();if(a&&zDom.hasClass(b,c+"-ns")){zDom.rmClass(b,c+"-ns")}else{if(!a&&!zDom.hasClass(b,c+"-ns")){zDom.addClass(b,c+"-ns")}}},_fixbtn:function(){var b=this.button,a=this.getCollapse();if(!a||"none"==a){b.style.display="none"}else{var d=this.getZclass(),c=a=="before";if(!this.isOpen()){c=!c}if(this.isVertical()){zDom.rmClass(b,d+"-btn-"+(c?"b":"t"));zDom.addClass(b,d+"-btn-"+(c?"t":"b"))}else{zDom.rmClass(b,d+"-btn-"+(c?"r":"l"));zDom.addClass(b,d+"-btn-"+(c?"l":"r"))}b.style.display=""}},_fixsz:_zkf=function(){if(!this.isRealVisible()){return}var d=this.getNode(),b=d.parentNode;if(b){var c=this.button,a="before"==this.getCollapse();if(this.isVertical()){if(a){b.vAlign="top";b.style.backgroundPosition="top left"}else{b.vAlign="bottom";b.style.backgroundPosition="bottom left"}d.style.width="";d.style.width=b.clientWidth+"px";c.style.marginLeft=((d.offsetWidth-c.offsetWidth)/2)+"px"}else{if(a){b.align="left";b.style.backgroundPosition="top left"}else{b.align="right";b.style.backgroundPosition="top right"}d.style.height="";d.style.height=(zk.safari?b.parentNode.clientHeight:b.clientHeight)+"px";c.style.marginTop=((d.offsetHeight-c.offsetHeight)/2)+"px"}}},onVisible:_zkf,onSize:_zkf,beforeSize:function(){this.getNode().style[this.isVertical()?"width":"height"]=""},_fixszAll:function(){var a=this.parent;if(a){this.$class._fixKidSplts(a.getNode())}else{this._fixsz()}}},{onclick:function(a){var b=zk.Widget.$(a);zDom.rmClass(b.button,b.getZclass()+"-btn-visi");b.setOpen(!b.isOpen())},_ignoresizing:function(i,a,f){var h=i.control;if(!h.isOpen()){return true}var d=i.run={},c=h.getNode();d.org=zDom.cmOffset(c);var e=h.getSubnode("chdex"),g=zDom.tag(e),b=zul.box.Splitter;d.prev=b._prev(e,g);d.next=b._next(e,g);d.prevwgt=h.previousSibling;d.nextwgt=h.nextSibling;d.z_offset=zDom.cmOffset(c);return false},_ghostsizing:function(a,e,b){var d=a.node;var c='<div id="zk_ddghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+e[1]+"px;left:"+e[0]+"px;width:"+zDom.offsetWidth(d)+"px;height:"+zDom.offsetHeight(d)+'px;"></div>';document.body.insertAdjacentHTML("afterBegin",c);return zDom.$("zk_ddghost")},_endDrag:function(i){var h=i.control,c=h.getNode(),b=zul.box.Splitter,e=b._fixLayout(h),d=i.run,f,a;if(h.isVertical()){f=d.z_point[1];a="height";if(d.next&&d.next.cells.length){d.next=d.next.cells[0]}if(d.prev&&d.prev.cells.length){d.prev=d.prev.cells[0]}}else{f=d.z_point[0];a="width"}if(!f){return}if(d.nextwgt){zWatch.fireDown("beforeSize",null,d.nextwgt)}if(d.prevwgt){zWatch.fireDown("beforeSize",null,d.prevwgt)}if(d.next){var g=zk.parseInt(d.next.style[a]);g-=f;if(g<0){g=0}d.next.style[a]=g+"px"}if(d.prev){var g=zk.parseInt(d.prev.style[a]);g+=f;if(g<0){g=0}d.prev.style[a]=g+"px"}if(d.nextwgt){zWatch.fireDown("onSize",null,d.nextwgt)}if(d.prevwgt){zWatch.fireDown("onSize",null,d.prevwgt)}b._unfixLayout(e);h._fixszAll();i.run=null},_snap:function(c,g){var d=c.run,e=c.control,b=g[0],f=g[1];if(e.isVertical()){if(f<=d.z_offset[1]-d.prev.offsetHeight){f=d.z_offset[1]-d.prev.offsetHeight}else{var a=d.z_offset[1]+d.next.offsetHeight-e.getNode().offsetHeight;if(f>a){f=a}}}else{if(b<=d.z_offset[0]-d.prev.offsetWidth){b=d.z_offset[0]-d.prev.offsetWidth}else{var a=d.z_offset[0]+d.next.offsetWidth-e.getNode().offsetWidth;if(b>a){b=a}}}d.z_point=[b-d.z_offset[0],f-d.z_offset[1]];return[b,f]},_next:function(b,a){return zDom.nextSibling(zDom.nextSibling(b,a),a)},_prev:function(b,a){return zDom.previousSibling(zDom.previousSibling(b,a),a)},_fixKidSplts:function(c){if(zDom.isVisible(c)){var b=c.z_wgt,a=zul.box.Splitter;if(b&&b.$instanceof(a)){b._fixsz()}for(c=c.firstChild;c;c=c.nextSibling){a._fixKidSplts(c)}}}});if(zk.ie){zul.box.Splitter.onover=function(a){var b=zk.Widget.$(a);zDom.addClass(b.button,b.getZclass()+"-btn-visi")};zul.box.Splitter.onout=function(a){var b=zk.Widget.$(a);zDom.rmClass(b.button,b.getZclass()+"-btn-visi")}}if(zk.opera){zul.box.Splitter._fixLayout=function(c){var a=c.parent.getNode();if(a.style.tableLayout!="fixed"){var b=[a,a.style.tableLayout];a.style.tableLayout="fixed";return b}};zul.box.Splitter._unfixLayout=function(a){if(a){a[0].style.tableLayout=a[1]}}}else{zul.box.Splitter._fixLayout=zul.box.Splitter._unfixLayout=zk.$void};
(_zkwg=_zkpk.Splitter).prototype.className='zul.box.Splitter';_zkmd={};
_zkmd['default']=function(a){a.push("<div",this.domAttrs_(),'><span id="',this.uuid,'$btn" style="display:none"></span></div>')};
zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}_z='zul.grid';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zul.grid.HeaderWidget=zk.$extends(zul.LabelImageWidget,{getAlign:function(){return this._align},setAlign:function(a){if(this._align!=a){this._align=a;this.invalidateWhole_()}},getValign:function(){return this._valign},setValign:function(a){if(this._valign!=a){this._valign=a;this.invalidateWhole_()}},invalidateWhole_:function(){var a=this.getOwner();if(wqt){a.rerender()}},getOwner:function(){return this.parent?this.parent.parent:null},isSortable_:function(){return false},getColAttrs:function(){return(this._align?' align="'+this._align+'"':"")+(this._valign?' valign="'+this._valign+'"':"")},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",arguments);this.invalidateWhole()}},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments);return a+this.getColAttrs()},bind_:function(){this.$supers("bind_",arguments);if(this.parent.isSizable()){this._initsz()}this._fixedFaker()},unbind_:function(){if(this._drag){this._drag.destroy();this._drag=null}this.$supers("unbind_",arguments)},_initsz:function(){var b=this.getNode();if(b&&!this._drag){var a=this.$class;this._drag=new zk.Draggable(this,null,{revert:true,constraint:"horizontal",ghosting:a._ghostsizing,endghosting:a._endghostsizing,snap:a._snapsizing,ignoredrag:a._ignoresizing,endeffect:a._aftersizing})}},_fixedFaker:function(){var f=this.getNode(),d=zDom.cellIndex(f),b=this.getOwner();for(var c,a=this.$class._faker,e=a.length;--e>=0;){c=b["e"+a[e]];if(c&&!this.getSubnode(a[e])){c[c.cells.length>d?"insertBefore":"appendChild"](this._createFaker(f,a[e]),c.cells[d])}}},_createFaker:function(e,c){var a=document.createElement("TH"),b=document.createElement("DIV");a.id=e.id+"$"+c;a.className=e.className;a.style.cssText=e.style.cssText;b.style.overflow="hidden";a.appendChild(b);return a},doClick_:function(a){if(!zk.dragging&&zk.Widget.$(a.nativeTarget)==this&&this.isSortable_()&&zDom.tag(a.nativeTarget)!="INPUT"){this.fire("onSort");a.stop()}},doMouseMove_:function(a){if(zk.dragging||!this.parent.isSizable()){return}var c=this.getNode(),b=zDom.revisedOffset(c);if(this._insizer(a.data.pageX-b[0])){zDom.addClass(c,this.getZclass()+"-sizing")}else{zDom.rmClass(c,this.getZclass()+"-sizing")}},doMouseOut_:function(a){if(this.parent.isSizable()){var b=this.getNode();zDom.rmClass(b,this.getZclass()+"-sizing")}},_insizer:function(a){return a>=this.getNode().offsetWidth-10}},{_faker:["hdfaker","bdfaker","ftfaker"],_onSizingMarshal:function(){return[this.index,this.uuid,this.width,this.keys?this.keys.marshal():""]},_ghostsizing:function(d,c,a){var e=d.control,b=e.getOwner().eheadtbl;of=zDom.revisedOffset(b),n=e.getNode();c[1]=of[1];c[0]+=zDom.offsetWidth(n);document.body.insertAdjacentHTML("afterBegin",'<div id="zk_hdghost" style="position:absolute;top:'+c[1]+"px;left:"+c[0]+"px;width:3px;height:"+zDom.offsetHeight(b.parentNode.parentNode)+'px;background:darkgray"></div>');return zDom.$("zk_hdghost")},_endghostsizing:function(b,a){b._zszofs=zDom.revisedOffset(b.node)[0]-zDom.revisedOffset(a)[0]},_snapsizing:function(b,c){var d=b.control.getNode(),a=zDom.revisedOffset(d);c[0]+=zDom.offsetWidth(d);if(a[0]+b._zmin>=c[0]){c[0]=a[0]+b._zmin}return c},_ignoresizing:function(c,e,a){var d=c.control,f=d.getNode(),b=zDom.revisedOffset(f);if(d._insizer(e[0]-b[0])){c._zmin=10+zDom.padBorderWidth(f);return false}return true},_aftersizing:function(h,l){var q=h.control,c=q.getNode(),b=q.getOwner(),d=h._zszofs,o=b.eheadtbl,i=o.tBodies[0].rows[0],a=zDom.revisedWidth(c,d),m=i.cells,p=zDom.cellIndex(c),g=0;for(var f=m.length;--f>=0;){if(f!==p){g+=m[f].offsetWidth}}if(b.efoottbl){b.eftfaker.cells[p].style.width=d+"px"}var e;if(b.ebodytbl){if(zk.opera&&!b.ebodytbl.style.tableLayout){e="auto";b.ebodytbl.style.tableLayout="fixed"}b.ebdfaker.cells[p].style.width=d+"px"}i.cells[p].style.width=d+"px";c.style.width=a+"px";var j=c.firstChild;j.style.width=zDom.revisedWidth(j,a)+"px";o.style.width=g+d+"px";if(b.efoottbl){b.efoottbl.style.width=o.style.width}if(b.ebodytbl){b.ebodytbl.style.width=o.style.width}if(zk.opera&&e){b.ebodytbl.style.tableLayout=e}q.parent.fire("onColSize",{index:p,uuid:q.uuid,width:d+"px",keys:zEvt.keyMetaData(l),marshal:q.$class._onSizingMarshal},null,0)}});
(_zkwg=_zkpk.HeaderWidget).prototype.className='zul.grid.HeaderWidget';zul.grid.HeadersWidget=zk.$extends(zul.Widget,{$init:function(){this.$supers("$init",arguments);this.listen("onColSize",this,null,-1000)},onColSize:function(b){var a=this.parent;if(!a.isFixedLayout()){a.$class.adjustHeadWidth(a)}a.fire("onInnerWidth",a.eheadtbl.style.width);a.fireScrollRender(zk.gecko?200:60)},isSizable:function(){return this._sizable},setSizable:function(a){if(this._sizable!=a){this._sizable=a;this.rerender()}},unbind_:function(){if(this.hdfaker){zDom.remove(this.hdfaker)}if(this.bdfaker){zDom.remove(this.bdfaker)}if(this.ftfaker){zDom.remove(this.ftfaker)}this.$supers("unbind_",arguments)}});
(_zkwg=_zkpk.HeadersWidget).prototype.className='zul.grid.HeadersWidget';zul.grid.Column=zk.$extends(zul.grid.HeaderWidget,{_sortDir:"natural",_sortAsc:"none",_sortDsc:"none",$init:function(){this.$supers("$init",arguments);this.listen("onSort",this,null,-1000)},getGrid:function(){return this.getOwner()},setSort:function(a){if(a&&a.startsWith("client")){this.setSortAscending(a);this.setSortDescending(a)}else{this.setSortAscending("none");this.setSortDescending("none")}},getSortDirection:function(){return this._sortDir},setSortDirection:function(a){if(this._sortDir!=a){this._sortDir=a;var c=this.getNode();if(c){var b=this.getZclass();zDom.rmClass(c,b+"-sort-dsc");zDom.rmClass(c,b+"-sort-asc");switch(a){case"ascending":zDom.addClass(c,b+"-sort-asc");break;case"descending":zDom.addClass(c,b+"-sort-dsc");break;default:zDom.addClass(c,b+"-sort");break}}}},isSortable_:function(){return this._sortAsc!="none"||this._sortDsc!="none"},getSortAscending:function(){return this._sortAsc},setSortAscending:function(c){if(!c){c="none"}if(this._sortAsc!=c){this._sortAsc=c;var b=this.getNode(),a=this.getZclass();if(b){if(c=="none"){zDom.rmClass(b,a+"-sort-asc");if(this._sortDsc=="none"){zDom.rmClass(b,a+"-sort")}}else{zDom.addClass(b,a+"-sort")}}}},getSortDescending:function(){return this._sortDsc},setSortDescending:function(c){if(!c){c="none"}if(this._sortDsc!=c){this._sortDsc=c;var b=this.getNode(),a=this.getZclass();if(b){if(c=="none"){zDom.rmClass(b,a+"-sort-dsc");if(this._sortAsc=="none"){zDom.rmClass(b,a+"-sort")}}else{zDom.addClass(b,a+"-sort")}}}},sort:function(e,o){var c=this.getSortDirection();if(e){if("ascending"==c){return false}}else{if("descending"==c){return false}}var r=e?this._sortAsc:this._sortDsc;if(r=="fromServer"){return false}else{if(r=="none"){o.stop();return false}}var a=this.getGrid();if(!a||a.isModel()){return false}var s=a.rows;if(!s){return false}s.parent.removeChild(s);o.stop();var j=[],b=this.getChildIndex();for(var h=0,l=0,q=s.firstChild;q;q=q.nextSibling,l++){for(var f=0,n=q.firstChild;n;n=n.nextSibling,f++){if(f==b){j[h++]={wgt:n,index:l}}}}var g=c=="ascending"?1:-1,m=this.sorting,p=r=="client(number)";j.sort(function(i,d){var k=m(i.wgt,d.wgt,p)*g;if(k==0){k=(i.index<d.index?-1:1)}return k});for(var h=0,f=j.length;h<f;h++){s.appendChild(j[h].wgt.parent)}this._fixDirection(e);a.appendChild(s);return true},sorting:function(d,c,e){var g=d.getValue(),f=c.getValue();if(e){return g-f}return g>f?1:(g<f?-1:0)},_fixDirection:function(b){for(var a=this.parent.firstChild;a;a=a.nextSibling){a.setSortDirection(a!=this?"natural":b?"ascending":"descending")}},setLabel:function(a){this.$supers("setLabel",arguments)},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",arguments)}},onSort:function(a){var b=this.getSortDirection();if("ascending"==b){this.sort(false,a)}else{if("descending"==b){this.sort(true,a)}else{if(!this.sort(true,a)){this.sort(false,a)}}}},getZclass:function(){return this._zclass==null?"z-column":this._zclass},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a=this._sortAsc!="none"||this._sortDsc!="none"?this.getZclass()+"-sort":"";return b!=null?b+" "+a:a}return b}});
(_zkwg=_zkpk.Column).prototype.className='zul.grid.Column';_zkmd={};
_zkmd['default']=function(b){var c=this.getZclass();b.push("<th",this.domAttrs_(),'><div id="',this.uuid,'$cave" class="',c,'-cnt">',this.domContent_());if(this.parent.menupopup&&this.parent.menupopup!="none"){b.push('<a id="',this.uuid,'$btn"  href="javascript:;" class="',c,'-btn"></a>')}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></th>")};
zkmld(_zkwg,_zkmd);zul.grid.Columns=zk.$extends(zul.grid.HeadersWidget,{_mpop:"none",_columnshide:true,_columnsgroup:true,getGrid:function(){return this.parent},setColumnshide:function(a){if(this._columnshide!=a){this._columnshide=a}},isColumnshide:function(){return this._columnshide},setColumnsgroup:function(a){if(this._columnsgroup!=a){this._columnsgroup=a}},isColumnsgroup:function(){return this._columnsgroup},getMenupopup:function(){return this._mpop},setMenupopup:function(a){},rerender:function(){if(this.desktop){if(this.parent){this.parent.rerender()}else{this.$superts("rerender",arguments)}}},setPopup:function(a){if(zk.Widget.isInstance(a)){this._mpop=a}},_getMpopId:function(){},getZclass:function(){return this._zclass==null?"z-columns":this._zclass}});
(_zkwg=_zkpk.Columns).prototype.className='zul.grid.Columns';_zkmd={};
_zkmd['default']=function(b){b.push("<tr",this.domAttrs_(),' align="left">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
zkmld(_zkwg,_zkmd);zul.grid.Grid=zk.$extends(zul.Widget,{_pagingPosition:"bottom",_preloadsz:7,_innerWidth:"100%",_innerTop:"height:0px;display:none",_innerBottom:"height:0px;display:none",isVflex:function(){return this._vflex},setVflex:function(b){if(this._vflex!=b){this._vflex=b;var c=this.getNode();if(c){if(b){var a=c.style.height;if(!a||a=="auto"){c.style.height="99%"}}this.onSize()}}},setFixedLayout:function(a){if(this._fixedLayout!=a){this._fixedLayout=a;this.rerender()}},isFixedLayout:function(){return this._fixedLayout},getHeads:function(){var b=[];for(var a=this.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.grid.Auxhead)||a.$instanceof(zul.grid.Columns)){b.push(a)}}return b},getCell:function(b,a){if(!this.rows){return null}if(rows.nChildren<=b){return null}var b=rows.getChildAt(b);return b.nChildren<=a?null:b.getChildAt(a)},getAlign:function(){return this._align},setAlign:function(b){if(this._align!=b){this._align=b;var a=this.getNode();if(a){a.align=b}}},setPagingPosition:function(a){if(this._pagingPosition!=a){this._pagingPosition=a;this.rerender()}},getPagingPosition:function(){return this._pagingPosition},getPageSize:function(){return this.paging.getPageSize()},setPageSize:function(a){this.paging.setPageSize(a)},getPageCount:function(){return this.paging.getPageCount()},getActivePage:function(){return this.paging.getActivePage()},setActivePage:function(a){this.paging.setActivePage(a)},_inPagingMold:function(){return"paging"==this.getMold()},setInnerHeight:function(a){if(a==null){a="100%"}if(this._innerHeight!=a){this._innerHeight=a}},getInnerHeight:function(){return this._innerHeight},setInnerTop:function(a){if(a==null){a="height:0px;display:none"}if(this._innerTop!=a){this._innerTop=a}},getInnerTop:function(){return this._innerTop},setInnerBottom:function(a){if(a==null){a="height:0px;display:none"}if(this._innerBottom!=a){this._innerBottom=a}},getInnerBottom:function(){return this._innerBottom},isModel:function(){return this._model},setModel:function(a){if(this._model!=a){this._model=a}},getPreloadSize:function(){return this._preloadsz},setPreloadSize:function(a){if(a>=0){this._preloadsz=a}},setInnerWidth:function(a){if(a==null){a="100%"}if(this._innerWidth!=a){this._innerWidth=a;if(this.eheadtbl){this.eheadtbl.style.width=a}if(this.ebodytbl){this.ebodytbl.style.width=a}if(this.efoottbl){this.efoottbl.style.width=a}}},getInnerWidth:function(){return this._innerWidth},setHeight:function(a){this.$supers("setHeight",arguments);var b=this.getNode();if(b){if(zk.ie6Only&&this.ebody){this.ebody.style.height=a}this._setHgh(a);this.onSize()}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.eheadtbl){this.eheadtbl.style.width=""}if(this.efoottbl){this.efoottbl.style.width=""}},setStyle:function(a){if(this._style!=a){this.$supers("setStyle",arguments);this.onSize()}},getOddRowSclass:function(){return this._scOddRow==null?this.getZclass()+"-odd":this._scOddRow},setOddRowSclass:function(a){if(!a){a=null}if(this._scOddRow!=a){this._scOddRow=a;var b=this.getNode();if(b&&this.rows){this.rows.stripe()}}},getZclass:function(){return this._zclass==null?"z-grid":this._zclass},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.grid.Rows)){this.rows=a}else{if(a.$instanceof(zul.grid.Columns)){this.columns=a}else{if(a.$instanceof(zul.grid.Foot)){this.foot=a}else{if(a.$instanceof(zul.grid.Paging)){this.paging=a}}}}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.rows){this.rows=null}else{if(a==this.columns){this.columns=null}else{if(a==this.foot){this.foot=null}else{if(a==this.paging){this.paging=null}}}}},insertChildHTML_:function(c,a,b){if(c.$instanceof(zul.grid.Rows)){this.rows=c;if(this.ebodytbl){zDom.insertHTMLBeforeEnd(this.ebodytbl,c._redrawHTML());c.bind_(b);return}}this.rerender()},bind_:function(){this.$supers("bind_",arguments);if(this.isVflex()){var a=this.getNode().style.height;if(!a||a=="auto"){this.getNode().style.height="99%"}}this._bindDomNode();this._fixHeaders();if(this.ebody){zEvt.listen(this.ebody,"scroll",this.proxy(this.doScroll_,"_pxDoScroll"));this.ebody.style.overflow=""}zWatch.listen("onSize",this);zWatch.listen("onVisible",this);zWatch.listen("beforeSize",this)},unbind_:function(){if(this.ebody){zEvt.unlisten(this.ebody,"scroll",this._pxDoScroll)}this.ebody=this.ehead=this.efoot=this.ebodytbl=this.eheadtbl=this.efoottbl=null;zWatch.unlisten("onSize",this);zWatch.unlisten("onVisible",this);zWatch.unlisten("beforeSize",this);this.$supers("unbind_",arguments)},_fixHeaders:function(){if(this.columns&&this.ehead){var b=true;for(var a=this.columns.firstChild;a;a=a.nextSibling){if(a.getLabel()||a.getImage()){b=false;break}}this.ehead.style.display=b?"none":""}},_bindDomNode:function(){for(var a=this.getNode().firstChild;a;a=a.nextSibling){switch(a.id){case this.uuid+"$head":this.ehead=a;this.eheadtbl=zDom.firstChild(a,"TABLE");break;case this.uuid+"$body":this.ebody=a;this.ebodytbl=zDom.firstChild(a,"TABLE");break;case this.uuid+"$foot":this.efoot=a;this.efoottbl=zDom.firstChild(a,"TABLE");break}}if(this.ehead){this.ehdfaker=this.eheadtbl.tBodies[0].rows[0];this.ebdfaker=this.ebodytbl.tBodies[0].rows[0];if(this.efoottbl){this.eftfaker=this.efoottbl.tBodies[0].rows[0]}}},fireScrollRender:function(a){setTimeout(this.proxy(this.onScrollRender),a?a:100)},doScroll_:function(){if(this.ehead){this.ehead.scrollLeft=this.ebody.scrollLeft}if(this.efoot){this.efoot.scrollLeft=this.ebody.scrollLeft}if(!this.paging){this.fireScrollRender(zk.gecko?200:60)}},onScrollRender:function(){if(!this.isModel()||!this.rows||!this.rows.nChildren){return}var f="";var c=this.ebody.scrollTop,a=c+this.ebody.offsetHeight;for(var e=this.rows.getNode().rows,b=0,h=e.length;b<h;++b){var d=e[b];if(zDom.isVisible(d)){var g=zDom.offsetTop(d);if(g+zDom.offsetHeight(d)<c){continue}if(g>a){break}if(!zk.Widget.$(d)._loaded){f+=","+d.id}}}if(f){f=f.substring(1);this.fire("onRender",f)}},beforeSize:function(){var a=zk.ie6Only?this.getWidth():this.getNode().style.width;if(!a||a=="auto"||a.indexOf("%")>=0){if(this.ebody){this.ebody.style.width=""}if(this.ehead){this.ehead.style.width=""}if(this.efoot){this.efoot.style.width=""}}},onSize:_zkf=function(){if(this.isRealVisible()){var a=this.getNode();if(a._lastsz&&a._lastsz.height==a.offsetHeight&&a._lastsz.width==a.offsetWidth){return}this._calcSize();this.fireScrollRender(155);if(zk.ie7){zDom.redoCSS(this.getNode())}}},onVisible:_zkf,onRender:function(a){var b=a.data.marshal();this._curpos=b[0];this._visicnt=b[1];if(this.columns){this.setInnerWidth(b[2])}this.setInnerHeight(b[3]);this._onRender();a.stop()},_vflexSize:function(a){var b=this.getNode();if(zk.ie6Only){b.style.height="";b.style.height=a}return b.offsetHeight-2-(this.ehead?this.ehead.offsetHeight:0)-(this.efoot?this.efoot.offsetHeight:0)},_setHgh:function(a){if(this.isVflex()||(a&&a!="auto"&&a.indexOf("%")<0)){var b=this._vflexSize(a);if(this.paging){}if(b<0){b=0}this.ebody.style.height=b+"px";if(zk.ie&&this.ebody.offsetHeight){}}else{this.ebody.style.height="";this.getNode().style.height=a}},_calcSize:function(){var c=this.getNode();this._setHgh(c.style.height);var a=c.style.width;if(!a||a=="auto"||a.indexOf("%")>=0){a=zDom.revisedWidth(c,c.offsetWidth);if(a<0){a=0}if(a){a+="px"}}if(a){this.ebody.style.width=a;if(this.ehead){this.ehead.style.width=a}if(this.efoot){this.efoot.style.width=a}}var b=this.ebody.clientWidth;if(zk.ie){if(this.eheadtbl&&this.eheadtbl.offsetWidth!=this.ebodytbl.offsetWidth){this.ebodytbl.style.width=""}}if(b&&this.ebody.offsetWidth==this.ebodytbl.offsetWidth&&this.ebody.offsetWidth-b>11){if(--b<0){b=0}this.ebodytbl.style.width=b+"px"}if(this.ehead){if(b){this.ehead.style.width=b+"px"}if(!this.isFixedLayout()&&this.rows){this.$class.adjustHeadWidth(this)}}else{if(this.efoot){if(b){this.efoot.style.width=b+"px"}if(this.efoottbl.rows.length&&this.rows){this.$class.cpCellWidth(this)}}}c._lastsz={height:c.offsetHeight,width:c.offsetWidth}},domFaker_:function(c,a,d){c.push('<tbody style="visibility:hidden;height:0px"><tr id="',this.columns.uuid,a,'" class="',d,'-faker">');for(var b=this.columns.firstChild;b;b=b.nextSibling){c.push('<th id="',b.uuid,a,'"',b.domAttrs_(),'><div style="overflow:hidden"></div></th>')}c.push("</tr></tbody>")}},{adjustHeadWidth:function(q){var c=q.ehdfaker,l=q.ebdfaker,p=q.eftfaker,r=q.rows.getNode().rows;if(!c||!l||!c.cells.length||!l.cells.length||!zDom.isRealVisible(c)||!r.length){return}var b=q.ehead.firstChild,m=q.columns.getNode();if(!m){return}if(zk.opera){if(!b.style.width){var e=true,h=q.ehead.offsetWidth;for(var f=c.cells.length;--f>=0;){if(!c.cells[f].style.width||c.cells[f].style.width.indexOf("%")>=0){e=false;break}h-=zk.parseInt(c.cells[f].style.width)}if(!e||h>=0){b.style.tableLayout="auto"}}}var j=q.ebody.firstChild,k=Math.max(b.offsetWidth,j.offsetWidth),a=Math.min(j.parentNode.clientWidth,j.offsetWidth);if(k==q.ebody.offsetWidth&&q.ebody.offsetWidth>a&&q.ebody.offsetWidth-a<20){k=a}var g=k;b.style.width=k+"px";if(j){j.style.width=b.style.width}if(q.efoot){q.efoot.firstChild.style.width=b.style.width}for(var f=l.cells.length;--f>=0;){if(!zDom.isVisible(c.cells[f])){continue}var d=f!=0?l.cells[f].offsetWidth:g;l.cells[f].style.width=zDom.revisedWidth(l.cells[f],d)+"px";c.cells[f].style.width=l.cells[f].style.width;if(p){p.cells[f].style.width=l.cells[f].style.width}var n=zDom.revisedWidth(m.cells[f],zk.parseInt(c.cells[f].style.width));m.cells[f].style.width=n+"px";var o=m.cells[f].firstChild;o.style.width=zDom.revisedWidth(o,n)+"px";g-=d}if(k!=b.offsetWidth){k=b.offsetWidth;a=Math.min(q.ebody.clientWidth,j.offsetWidth);if(k==q.ebody.offsetWidth&&q.ebody.offsetWidth>a&&q.ebody.offsetWidth-a<20){k=a}b.style.width=k+"px";if(j){j.style.width=b.style.width}if(q.efoot){q.efoot.firstChild.style.width=b.style.width}}},cpCellWidth:function(i){var u=i.efoot.firstChild.rows[0],a=i.rows.getNode().rows;if(!u||!a.length||!u.cells.length){return}var h=u.cells.length,f,k=0,p=i._lastLoadIdx;for(var o=0,q=p||a.length;o<q;++o){var e=a[o];if(!zDom.isVisible(e)||!zk.Widget.$(e)._loaded){continue}var c=e.cells,g=zDom.ncols(c),n=c.length==g&&zDom.isVisible(e);if(n&&g>=h){k=h;f=e;break}if(g>k){f=n?e:null;k=g}else{if(g==k&&!f&&n){f=e}}}if(!k){return}var t=!f;if(t){f=document.createElement("TR");f.style.height="0px";for(var o=0;o<k;++o){f.appendChild(document.createElement("TD"))}a[0].parentNode.appendChild(f)}for(var o=k;--o>=0;){u.cells[o].style.width=""}var b=0;for(var o=k;--o>=0;){var r=u.cells[o],m=f.cells[o];if(zk.opera){b+=m.offsetWidth;r.style.width=zDom.revisedWidth(m,m.offsetWidth)}else{r.style.width=m.offsetWidth+"px";if(k>1){var l=m.offsetWidth-r.offsetWidth;if(l!=0){l+=m.offsetWidth;if(l<0){l=0}r.style.width=l+"px"}}}}if(zk.opera&&!i.isFixedLayout()){u.parentNode.parentNode.style.width=b+"px"}if(t){f.parentNode.removeChild(f)}}});
(_zkwg=_zkpk.Grid).prototype.className='zul.grid.Grid';_zkmd={};
_zkmd['paging']=function(g){var b=this.uuid,c=this.getZclass(),h=this.getInnerWidth(),d=h=="100%"?' width="100%"':"",e=h!="100%"?"width:"+h:"",a=this._inPagingMold();g.push("<div",this.domAttrs_(),(this.getAlign()?' align="'+this.getAlign()+'"':""),">");if(a&&this.paging&&(this.getPagingPosition()=="top"||this.getPagingPosition()=="both")){g.push('<div id="',b,'$pgit" class="',c,'-pgi-t">');this.paging.redraw(g);g.push("</div>")}if(this.columns){g.push('<div id="',b,'$head" class="',c,'-header">',"<table",d,zUtl.cellps0,' style="table-layout:fixed;',e,'">');this.domFaker_(g,"$hdfaker",c);for(var j=this.getHeads(),i=j.shift();i;i=j.shift()){i.redraw(g)}g.push("</table></div>")}g.push('<div id="',b,'$body" class="',c,'-body"');var f=this.getHeight();if(f){g.push(' style="height:',f,'"')}g.push("><table",d,zUtl.cellps0);if(this.isFixedLayout()){g.push(' style="table-layout:fixed;',e,'"')}g.push(">");if(this.columns){this.domFaker_(g,"$bdfaker",c)}if(this.rows){this.rows.redraw(g)}g.push("</table></div>");if(this.foot){g.push('<div id="',b,'$foot" class="',c,'-footer">',"<table",d,zUtl.cellps0,' style="table-layout:fixed;',e,'">');if(this.columns){this.domFaker_(g,"$ftfaker",c)}this.foot.redraw(g);g.push("</table></div>")}if(a&&this.paging&&(this.getPagingPosition()=="bottom"||this.getPagingPosition()=="both")){g.push('<div id="',b,'$pgib" class="',c,'-pgi-b">');this.paging.redraw(g);g.push("</div>")}g.push("</div>")};
_zkmd['default']=[_zkpk.Grid,'paging'];zkmld(_zkwg,_zkmd);zul.grid.Row=zk.$extends(zul.Widget,{getGrid:function(){return this.parent?this.parent.parent:null},getAlign:function(){return this._align},setAlign:function(b){if(this._align!=b){this._align=b;var a=this.getNode();if(a){a.align=b}}},isNowrap:function(){return this._nowrap},setNowrap:function(a){if(this._nowrap!=a){this._nowrap=a;var b=this.getNode();if(b){b.noWrap=a}}},getValign:function(){return this._valign},setValign:function(a){if(this._valign!=a){this._valign=a;var b=this.getNode();if(b){b.vAlign=a}}},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",arguments);if(this.isStripeable_()&&this.parent){this.parent.stripe()}}},getSpans:function(){return zUtl.intsToString(this._spans)},setSpans:function(a){if(this.getSpans()!=a){this._spans=zUtl.stringToInts(a,1);this.rerender()}},_getIndex:function(){return this.parent?this.getChildIndex():-1},getZclass:function(){return this._zclass!=null?this._zclass:"z-row"},getGroup:function(){},setStyle:function(a){if(this._style!=a){if(!zk._rowTime){zk._rowTime=zUtl.now()}this._style=a;this.rerender()}},getSclass:function(){var b=this.$supers("getSclass",arguments);if(b!=null){return b}var a=this.getGrid();return a?a.getSclass():b},insertChildHTML_:function(d,b,c){var a=this.getGrid().isFixedLayout()?"z-overflow-hidden":"";if(b){zDom.insertHTMLBefore(b.getSubnode("chdextr"),this.encloseChildHTML_({child:d,index:d.getChildIndex(),zclass:this.getZclass(),cls:a}))}else{zDom.insertHTMLBeforeEnd(this.getNode(),this.encloseChildHTML_({child:d,index:d.getChildIndex(),zclass:this.getZclass(),cls:a}))}d.bind_(c)},removeChildHTML_:function(b,a){this.$supers("removeChildHTML_",arguments);zDom.remove(b.uuid+"$chdextr")},encloseChildHTML_:function(b){var a=b.out||[],c=b.child;a.push('<td id="',c.uuid,'$chdextr"',this._childAttrs(c,b.index),">",'<div id="',c.uuid,'$cell" class="',b.zclass,"-cnt ",b.cls,'">');c.redraw(a);a.push("</div></td>");if(!b.out){return a.join("")}},_childAttrs:function(d,o){var i=o,r=1;if(this._spans){for(var n=0,l=this._spans.length;n<l;++n){if(n==o){r=this._spans[n];break}i+=this._spans[n]-1}}var m,h,g,a=this.getGrid();if(a){var q=a.columns;if(q){if(i<q.nChildren){var e=q.getChildAt(i);m=e.getColAttrs();h=e.isVisible()?"":"display:none";g=e.getHeight()}}}var b=this.domStyle_({visible:1,width:1,height:1}),c=d.$instanceof(zul.grid.Detail);if(c){var f=d.getWidth();if(f){b+="width:"+f+";"}}if(h||g){b+=h;if(g){b+="height:"+g+";"}}var p=c?d.getZclass()+"-outer":this.getZclass()+"-inner";if(!m&&!b&&r===1){return' class="'+p+'"'}var s=m?m:"";if(r!==1){s+=' colspan="'+r+'"'}return s+' style="'+b+'" class="'+p+'"'},isStripeable_:function(){return true},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.grid.Detail)){this.detail=a}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.detail){this.detail=null}}});
(_zkwg=_zkpk.Row).prototype.className='zul.grid.Row';_zkmd={};
_zkmd['default']=function(c){c.push("<tr",this.domAttrs_(),">");var d=this.getZclass(),e=this.getGrid().isFixedLayout()?"z-overflow-hidden":"";for(var b=0,a=this.firstChild;a;a=a.nextSibling,b++){this.encloseChildHTML_({child:a,index:b,zclass:d,cls:e,out:c})}c.push("</tr>")};
zkmld(_zkwg,_zkmd);zul.grid.Rows=zk.$extends(zul.Widget,{_visibleItemCount:0,$init:function(){this.$supers("$init",arguments);this._groupsInfo=[];this._groups=[]},getGrid:function(){return this.parent},getGroupCount:function(){return this._groupsInfo.length},getGroups:function(){return this._groups},hasGroup:function(){return this._groupsInfo.length!=0},getZclass:function(){return this._zclass==null?"z-rows":this._zclass},bind_:function(){this.$supers("bind_",arguments);zWatch.listen("onResponse",this);zk.afterMount(this.proxy(this.onResponse))},unbind_:function(){zWatch.unlisten("onResponse",this);this.$supers("unbind_",arguments)},onResponse:function(){if(this._shallStripe){this.stripe();this.getGrid().onSize()}},_syncStripe:function(){this._shallStripe=true;if(!this.inServer&&this.desktop){this.onResponse()}},stripe:function(){var a=this.getGrid().getOddRowSclass();if(!a){return}var e=this.getNode();for(var c=0,b=this.firstChild,d=true;b;b=b.nextSibling,++c){if(b.isVisible()&&b.isStripeable_()){zDom[d?"rmClass":"addClass"](e.rows[c],a);b.fire("onStripe");d=!d}}this._shallStripe=false},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);this._syncStripe()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);this._syncStripe()},getVisibleItemCount:function(){return this._visibleItemCount},_addVisibleItemCount:function(b){if(b){this._visibleItemCount+=b;if(this.parent!=null&&this.parent.inPagingMold()){var a=this.parent.getPaginal();a.setTotalSize(this._visibleItemCount)}}},_fixGroupIndex:function(a,c,b){},getGroup:function(a){if(!this._groupsInfo.length){return null}var b=this._getGroupsInfoAt(a);if(b!=null){return}return null},_getLastGroupsInfoAt:function(a){},_getGroupsInfoAt:function(a,b){}});
(_zkwg=_zkpk.Rows).prototype.className='zul.grid.Rows';_zkmd={};
_zkmd['default']=function(b){b.push("<tbody",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tbody>")};
zkmld(_zkwg,_zkmd);zul.grid.Foot=zk.$extends(zul.Widget,{getGrid:function(){return this.parent},getZclass:function(){return this._zclass==null?"z-foot":_zclass}});
(_zkwg=_zkpk.Foot).prototype.className='zul.grid.Foot';_zkmd={};
_zkmd['default']=function(b){b.push("<tr",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
zkmld(_zkwg,_zkmd);zul.grid.Footer=zk.$extends(zul.LabelImageWidget,{_span:1,getGrid:function(){return this.parent?this.parent.parent:null},getColumn:function(){var a=this.getGrid();if(a){var b=a.columns;if(b){return b.getChildAt(this.getChildIndex())}}return null},getSpan:function(){return this._span},setSpan:function(a){if(this._span!=a){this._span=a;var b=this.getNode();if(b){b.colspan=a}}},getZclass:function(){return this._zclass==null?"z-footer":this._zclass}});
(_zkwg=_zkpk.Footer).prototype.className='zul.grid.Footer';_zkmd={};
_zkmd['default']=function(b){b.push("<td",this.domAttrs_(),'><div id="',this.uuid,'$cave" class="',this.getZclass(),'">',this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
zkmld(_zkwg,_zkmd);zul.grid.Paging=zk.$extends(zul.Widget,{_pgsz:20,_ttsz:0,_npg:1,_actpg:0,_pginc:10,_autohide:10,replaceHTML:function(){if(this.isBothPaging()){this.parent.rerender()}else{this.$supers("replaceHTML",arguments)}},isBothPaging:function(){return this.parent&&this.parent.getPagingPosition&&"both"==this.parent.getPagingPosition()},getPageSize:function(){return this._pgsz},setPageSize:function(a){if(this._pgsz!=a){this._pgsz=a;this._updatePageNum()}},getTotalSize:function(){return this._ttsz},setTotalSize:function(a){if(this._ttsz!=a){this._ttsz=a;this._updatePageNum();if(this._detailed){rerender()}}},_updatePageNum:function(){var a=Math.floor((this._ttsz-1)/this._pgsz+1);if(a==0){a=1}if(a!=this._npg){this._npg=a;if(this._actpg>=this._npg){this._actpg=this._npg-1}}},getPageCount:function(){return this._npg},setPageCount:function(a){this._npg=a},getActivePage:function(){return this._actpg},setActivePage:function(a){if(this._actpg!=a){this._actpg=a}},getPageIncrement:function(){return this._pginc},setPageIncrement:function(a){if(_pginc!=a){_pginc=a;this.rerender()}},isDetailed:function(){return this._detailed},setDetailed:function(a){if(this._detailed!=a){this._detailed=a;this.rerender()}},isAutohide:function(){return this._autohide},setAutohide:function(a){if(this._autohide!=a){this._autohide=a;if(this._npg==1){this.rerender()}}},_infoTags:function(){if(this._ttsz==0){return""}var b=(this._actpg+1)*this._pgsz,a=[];a.push('<div class="',this.getZclass(),'-info">[ ',b+1," - ",b>this._ttsz?this._ttsz:b," / ",this._ttsz," ]</div>");return a.join("")},_innerTags:function(){var c=[];var f=this._pginc/2,d,b=this._actpg+f-1;if(b>=this._npg){b=this._npg-1;d=b-this._pginc+1;if(d<0){d=0}}else{d=this._actpg-f;if(d<0){d=0}b=d+this._pginc-1;if(b>=this._npg){b=this._npg-1}}var a=this.getZclass();if(this._actpg>0){if(d>0){this.appendAnchor(a,c,msgzul.FIRST,0)}this.appendAnchor(a,c,msgzul.PREV,this._actpg-1)}var e=this._actpg<this._npg-1;for(;d<=b;++d){if(d==this._actpg){this.appendAnchor(a,c,d+1,d,true)}else{this.appendAnchor(a,c,d+1,d)}}if(e){this.appendAnchor(a,c,msgzul.NEXT,this._actpg+1);if(b<this._npg-1){this.appendAnchor(a,c,msgzul.LAST,this._npg-1)}}if(this._detailed){c.push("<span>[",this._actpg*this._pgsz+1,"/",this._ttsz,"]</span>")}return c.join("")},appendAnchor:function(d,b,a,e,c){d+="-cnt"+(c?" "+d+"-seld":"");b.push('<a class="',d,'" href="javascript:;" onclick="zul.grid.Paging.go(this,',e,')">',a,"</a>&nbsp;")},getZclass:function(){var a="os"==this.getMold()?"-os":"";return this._zclass==null?"z-paging"+a:this._zclass},isVisible:function(){var a=this.$supers("isVisible",arguments);return a&&(this._npg>1||!this._autohide)},bind_:function(){this.$supers("bind_",arguments);if(this.getMold()=="os"){return}var a=this.uuid,g=zDom.$$(a,"real"),b=this.getZclass(),h=this.$class;for(var f=g.length;--f>=0;){zEvt.listen(g[f],"keydown",h._doKeyDown);zEvt.listen(g[f],"blur",h._doBlur)}for(var l=["first","prev","last","next"],d=l.length;--d>=0;){var c=zDom.$$(a,l[d]);for(var e=c.length;--e>=0;){zEvt.listen(c[e],"mouseover",h._doMouseOver);zEvt.listen(c[e],"mouseout",h._doMouseOut);zEvt.listen(c[e],"mousedown",h._doMouseDown);zEvt.listen(c[e],"click",h["_do"+l[d]+"Click"]);if(this._npg==1){zDom.addClass(c[e],b+"-btn-disd")}else{if(l[d]=="first"||l[d]=="prev"){if(this._actpg==0){zDom.addClass(c[e],b+"-btn-disd")}}else{if(this._actpg==this._npg-1){zDom.addClass(c[e],b+"-btn-disd")}}}}}},unbind_:function(){if(this.getMold()!="os"){var g=this.uuid,a=zDom.$$(g,"real"),c=this.$class;for(var f=a.length;--f>=0;){zEvt.unlisten(a[f],"keydown",c._doKeyDown);zEvt.unlisten(a[f],"blur",c._doBlur)}for(var h=["first","prev","last","next"],b=h.length;--b>=0;){var e=zDom.$$(g,h[b]);for(var d=e.length;--d>=0;){zEvt.unlisten(e[d],"mouseover",c._doMouseOver);zEvt.unlisten(e[d],"mouseout",c._doMouseOut);zEvt.unlisten(e[d],"mousedown",c._doMouseDown);zEvt.unlisten(e[d],"click",c["_do"+h[b]+"Click"])}}}this.$supers("unbind_",arguments)}},{go:function(a,c){var b=zk.Widget.isInstance(a)?a:zk.Widget.$(a);if(b&&b.getActivePage()!=c){b.fire("onPaging",c)}},_doKeyDown:function(a){if(!a){a=window.event}var c=zEvt.target(a),d=zk.Widget.$(c);if(c.disabled||c.readOnly){return}var b=zEvt.keyCode(a);switch(b){case 48:case 96:case 49:case 97:case 50:case 98:case 51:case 99:case 52:case 100:case 53:case 101:case 54:case 102:case 55:case 103:case 56:case 104:case 57:case 105:break;case 37:break;case 38:case 33:d.$class._increase(c,d,1);zEvt.stop(a);break;case 39:break;case 40:case 34:d.$class._increase(c,d,-1);zEvt.stop(a);break;case 36:d.$class.go(d,0);zEvt.stop(a);break;case 35:d.$class.go(d,d._npg-1);zEvt.stop(a);break;case 9:case 8:case 46:break;case 13:d.$class._increase(c,d,0);d.$class.go(d,c.value-1);zEvt.stop(a);break;default:if(!(b>=112&&b<=123)&&!a.ctrlKey&&!a.altKey){zEvt.stop(a)}}},_doBlur:function(a){if(!a){a=window.event}var b=zEvt.target(a),c=zk.Widget.$(b);if(b.disabled||b.readOnly){return}c.$class._increase(b,c,0);c.$class.go(c,b.value-1);zEvt.stop(a)},_increase:function(a,d,c){var b=zk.parseInt(a.value);b+=c;if(b<1){b=1}else{if(b>d._npg){b=d._npg}}a.value=b},_dofirstClick:function(a){if(!a){a=window.event}var g=zk.Widget.$(a),f=g.getZclass();if(g.getActivePage()!=0){g.$class.go(g,0);var e=g.uuid;for(var h=["first","prev"],b=h.length;--b>=0;){for(var d=zDom.$$(e,h[b]),c=d.length;--c>=0;){zDom.addClass(d[c],f+"-btn-disd")}}}},_doprevClick:function(g){if(!g){g=window.event}var j=zk.Widget.$(g),e=j.getActivePage(),b=j.getZclass();if(e>0){j.$class.go(j,e-1);if(e-1==0){var a=j.uuid;for(var h=["first","prev"],d=h.length;--d>=0;){for(var c=zDom.$$(a,h[d]),f=c.length;--f>=0;){zDom.addClass(c[f],b+"-btn-disd")}}}}},_donextClick:function(h){if(!h){h=window.event}var l=zk.Widget.$(h),e=l.getActivePage(),g=l.getPageCount(),b=l.getZclass();if(e<g-1){l.$class.go(l,e+1);if(e+1==g-1){var a=l.uuid;for(var j=["last","next"],d=j.length;--d>=0;){for(var c=zDom.$$(a,j[d]),f=c.length;--f>=0;){zDom.addClass(c[f],b+"-btn-disd")}}}}},_dolastClick:function(g){if(!g){g=window.event}var j=zk.Widget.$(g),f=j.getPageCount(),b=j.getZclass();if(j.getActivePage()<f-1){j.$class.go(j,f-1);var a=j.uuid;for(var h=["last","next"],d=h.length;--d>=0;){for(var c=zDom.$$(a,h[d]),e=c.length;--e>=0;){zDom.addClass(c[e],b+"-btn-disd")}}}},_doMouseOver:function(a){if(!a){a=window.event}var c=zEvt.target(a),b=zDom.parentByTag(c,"TABLE"),d=zk.Widget.$(c).getZclass();if(!zDom.hasClass(b,d+"-btn-disd")){zDom.addClass(b,d+"-btn-over")}},_doMouseOut:function(a){if(!a){a=window.event}var c=zEvt.target(a),b=zDom.parentByTag(c,"TABLE"),d=zk.Widget.$(c);zDom.rmClass(b,d.getZclass()+"-btn-over")},_doMouseDown:function(a){if(!a){a=window.event}var c=zEvt.target(a),b=zDom.parentByTag(c,"TABLE"),e=zk.Widget.$(c),d=e.getZclass();if(zDom.hasClass(b,d+"-btn-disd")){return}zDom.addClass(b,d+"-btn-clk");e.$class._downbtn=b;zEvt.listen(document.body,"mouseup",e.$class._doMouseUp)},_doMouseUp:function(a){if(!a){a=window.event}if(zul.grid.Paging._downbtn){var b=zk.Widget.$(zul.grid.Paging._downbtn).getZclass();zDom.rmClass(zul.grid.Paging._downbtn,b+"-btn-clk")}zul.grid.Paging._downbtn=null;zEvt.unlisten(document.body,"mouseup",zul.grid.Paging._doMouseUp)}});
(_zkwg=_zkpk.Paging).prototype.className='zul.grid.Paging';_zkmd={};
_zkmd['os']=function(a){if(this.getMold()=="os"){a.push("<div",this.domAttrs_(),">",this._innerTags(),"</div>");return}var b=this.uuid,c=this.getZclass();a.push('<div name="',b,'"',this.domAttrs_(),">","<table",zUtl.cellps0,'><tbody><tr><td><table id="',b,'$first" name="',b,'$first"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr>','<td class="',c,'-btn-l"><i>&#160;</i></td>','<td class="',c,'-btn-m"><em unselectable="on">','<button type="button" class="',c,'-first"> </button></em></td>','<td class="',c,'-btn-r"><i>&#160;</i></td></tr></tbody></table></td>','<td><table id="',b,'$prev" name="',b,'$prev"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr><td class="',c,'-btn-l"><i>&#160;</i></td>','<td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-prev"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>','</tr></tbody></table></td><td><span class="',c,'-sep"/></td>','<td><span class="',c,'-text"></span></td><td><input id="',b,'$real" name="',b,'$real" type="text" class="',c,'-inp" value="',this.getActivePage()+1,'" size="3"/></td>','<td><span class="',c,'-text">/ ',this.getPageCount(),"</span></td>",'<td><span class="',c,'-sep"/></td><td><table id="',b,'$next" name="',b,'$next"',zUtl.cellps0,' class="',c,'-btn">','<tbody><tr><td class="',c,'-btn-l"><i>&#160;</i></td><td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-next"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>','</tr></tbody></table></td><td><table id="',b,'$last" name="',b,'$last"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr>','<td class="',c,'-btn-l"><i>&#160;</i></td><td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-last"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>',"</tr></tbody></table></td></tr></tbody></table>");if(this.isDetailed()){a.push(this._infoTags())}a.push("</div>")};
_zkmd['default']=[_zkpk.Paging,'os'];zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}_z='zul.inp';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zul.inp.InputWidget=zk.$extends(zul.Widget,{_maxlength:0,_cols:0,_tabindex:-1,_type:"text",$init:function(){this._pxLateBlur=this.proxy(this._lateBlur);this.$supers("$init",arguments)},getType:function(){return this._type},isMultiline:function(){return false},getValue:function(){return this._value},setValue:function(b,a){if(a){this.clearErrorMessage(true)}else{if(b==this._lastRawValVld){return}else{b=this._validate(b)}}if((!b||!b.error)&&(a||this._value!=b)){this._value=b;if(this.einp){this.einp.value=b=this.coerceToString_(b);if(a){this.einp.defaultValue=b}}}},getName:function(){return this._name},setName:function(a){if(this._name!=a){this._name=a;if(this.einp){this.einp.name=a}}},isDisabled:function(){return this._disabled},setDisabled:function(a){if(this._disabled!=a){this._disabled=a;if(this.einp){this.einp.disabled=a;var b=this.getZclass(),c=a?"addClass":"rmClass";zDom[c](this.getNode(),b+"-disd");zDom[c](this.einp,b+"-text-disd")}}},isReadonly:function(){return this._readonly},setReadonly:function(a){if(this._readonly!=a){this._readonly=a;if(this.einp){this.einp.readOnly=a;zDom[a?"addClass":"rmClass"](this.einp,this.getZclass()+"-readonly")}}},getCols:function(){return this._cols},setCols:function(a){if(this._cols!=a){this._cols=a;if(this.einp){if(this.isMultiline()){this.einp.cols=a}else{this.einp.size=a}}}},getMaxlength:function(){return this._maxlength},setMaxlengths:function(a){if(this._maxlength!=a){this._maxlength=a;if(this.einp&&!this.isMultiline()){this.einp.maxLength=a}}},getTabindex:function(){return this._tabindex},setTabindex:function(a){if(this._tabindex!=a){this._tabindex=a;if(this.einp){this.einp.tabIndex=a}}},innerAttrs_:function(){var b="",a;if(this.isMultiline()){a=this._cols;if(a>0){b+=' cols="'+a+'"'}}else{b+=' value="'+this.coerceToString_(this.getValue())+'"';b+=' type="'+this._type+'"';a=this._cols;if(a>0){b+=' size="'+a+'"'}a=this._maxlength;if(a>0){b+=' maxlength="'+a+'"'}}a=this._tabindex;if(a>=0){b+=' tabindex="'+a+'"'}a=this._name;if(a){b+=' name="'+a+'"'}if(this._disabled){b+=' disabled="disabled"'}if(this._readonly){b+=' readonly="readonly"'}return b},_areaText:function(){return zUtl.encodeXML(this.coerceToString_(this._value))},setConstraint:function(a){if(typeof a=="string"){this._cst=new zul.inp.SimpleConstraint(a)}else{if(a==true){this._cst=true}else{this._cst=a}}if(this._cst){delete this._lastRawValVld}},getConstraint:function(){return this._cst},doFocus_:function(a){if(!zDom.tag(zEvt.target(a))||!this.domFocus_()){return}if(this.isListen("onChanging")){this._lastChg=this.einp.value;this._tidChg=setInterval(this.proxy(this._onChanging),500)}zDom.addClass(this.einp,this.getZclass()+"-focus")},doBlur_:function(a){this._stopOnChanging();zDom.rmClass(this.einp,this.getZclass()+"-focus");this.domBlur_();if(!zk.alerting){setTimeout(this._pxLateBlur,0)}},_doSelect:function(c){if(this.isListen("onSelection")){var f=this.einp,d=zDom.getSelectionRange(f),a=d[0],g=d[1];this.fire("onSelection",{start:a,end:g,selected:f.value.substring(a,g),marshal:this._onSelMarshal})}},_onSelMarshal:function(){return[this.start,this.end,this.selected]},_lateBlur:function(){if(this.shallUpdate_(zk.currentFocus)){this._updateChange()}},shallUpdate_:function(a){return !a||!zUtl.isAncestor(this,a)},getErrorMesssage:function(){return this._errmsg},showErrorMessage:function(a){this.clearErrorMessage(true,true);this._markError(a,null,true)},clearErrorMessage:function(c,b){var a=this._errbox;if(a){this._errbox=null;a.destroy()}if(!b){this._errmsg=null;zDom.rmClass(this.einp,this.getZclass()+"-text-invalid")}if(c){delete this._lastRawValVld}},coerceFromString_:function(a){return a},coerceToString_:function(a){return a||""},_markError:function(e,d,c){this._errmsg=e;if(this.desktop){zDom.addClass(this.einp,this.getZclass()+"-text-invalid");var a=this._cst,b;if(a){b=a.showCustomError;if(b){b=b.call(a,this,e)}}if(!b){this._errbox=this.showError_(e)}if(!c){this.fire("onError",{value:d,message:e,marshal:this._onErrMarshal})}}},validate_:function(a){if(this._cst){if(this._cst==true){return}return this._cst.validate(this,a)}},_validate:function(a){zul.inp.validating=true;try{var c=a;if(typeof c=="string"||c==null){c=this.coerceFromString_(c);if(c){var b=c.error;if(b){this.clearErrorMessage(true);this._markError(b,c);return c}}}if(!this.desktop){this._errmsg=null}else{this.clearErrorMessage(true);var b=this.validate_(c);if(b){this._markError(b,c);return{error:b}}else{this._lastRawValVld=a}}return c}finally{zul.inp.validating=false}},showError_:function(b){var a=new zul.inp.Errorbox();a.show(this,b);return a},_updateChange:function(){if(zul.inp.validating){return}var b=this.einp,c=b.value;if(c==this._lastRawValVld){return}var a=this._errmsg,d=this._validate(c);if(!d||!d.error){b.value=c=this.coerceToString_(d);if(a||c!=b.defaultValue){this._value=d;b.defaultValue=c;this.fire("onChange",this._onChangeData(c),null,150)}}},_onChanging:function(){var b=this.einp,c=this.valueEnter__||b.value;if(this._lastChg!=c){this._lastChg=c;var a=this.valueSel_;this.valueSel_=null;this.fire("onChanging",this._onChangeData(c,a==c),{ignorable:1},100)}},_onChangeData:function(b,a){return{value:b,bySelectBack:a,start:zDom.getSelectionRange(this.einp)[0],marshal:this._onChangeMarshal}},_onChangeMarshal:function(){return[this.value,this.bySelectBack,this.start]},_onErrMarshal:function(){return[this.vale,this.message]},_stopOnChanging:function(){if(this._tidChg){clearInterval(this._tidChg);this._tidChg=this._lastChg=this.valueEnter_=this.valueSel_=null}},focus:function(a){if(this.isVisible()&&this.canActivate({checkOnly:true})){zDom.focus(this.einp,a);return true}return false},domClass_:function(c){var b=this.$supers("domClass_",arguments),a=this.getZclass();if(!c||!c.zclass){if(this._disabled){b+=" "+a+"-disd"}}if(!c||!c.input){if(this._disabled){b+=" "+a+"-text-disd"}if(this._readonly){b+=" "+a+"-readonly"}}return b},bind_:function(){this.$supers("bind_",arguments);var a=this.einp=this.getSubnode("inp")||this.getNode();zEvt.listen(a,"focus",this.proxy(this.doFocus_,"_pxFocus"));zEvt.listen(a,"blur",this.proxy(this.doBlur_,"_pxBlur"));zEvt.listen(a,"select",this.proxy(this._doSelect,"_pxSelect"))},unbind_:function(){this.clearErrorMessage(true);var a=this.einp;zEvt.unlisten(a,"focus",this._pxFocus);zEvt.unlisten(a,"blur",this._pxBlur);zEvt.unlisten(a,"select",this._pxSelect);this.einp=null;this.$supers("unbind_",arguments)},doKeyDown_:function(a){var d=a.keyCode,c=a.keys;if(d==9&&!c.altKey&&!c.ctrlKey&&!c.shiftKey&&this._tabbable){var b=zDom.getSelectionRange(inp),e=inp.value;e=e.substring(0,b[0])+"\t"+e.substring(b[1]);inp.value=e;e=b[0]+1;zDom.setSelectionRange(inp,e,e);a.stop();return}if((d==13&&this.isListen("onOK"))||(d==27&&this.isListen("onCancel"))){this._stopOnChanging();this._updateChange()}},doKeyUp_:function(){if(this.isMultiline()){var a=this._maxlength;if(a>0){var b=this.einp,c=b.value;if(c!=b.defaultValue&&c.length>a){b.value=c.substring(0,a)}}}this.$supers("doKeyUp_",arguments)}});
(_zkwg=_zkpk.InputWidget).prototype.className='zul.inp.InputWidget';zul.inp.Errorbox=zk.$extends("zul.wgt.Popup",{$init:function(){this.$supers("$init",arguments);this.setWidth("260px");this.setSclass("z-errbox")},show:function(a,b){this.parent=a;this.msg=b;this.insertHTML(document.body,"beforeEnd");this.open(a,null,"end_before",{overflow:true})},destroy:function(){this.close();var a=this.getNode();this.unbind_();zDom.remove(a);this.parent=null},bind_:function(){this.$supers("bind_",arguments);var a=zul.inp.Errorbox;this._drag=new zk.Draggable(this,null,{starteffect:zk.$void,endeffect:a._enddrag,ignoredrag:a._ignoredrag,change:a._change});zWatch.listen("onScroll",this)},unbind_:function(){this._drag.destroy();zWatch.unlisten("onScroll",this);this.$supers("unbind_",arguments);this._drag=null},onScroll:function(a){if(a){this.position(this.parent,null,"end_before",{overflow:true});this._fixarrow()}},setDomVisible_:function(b,c){this.$supers("setDomVisible_",arguments);var a=this._stackup;if(a){a.style.display=c?"":"none"}},doMouseMove_:function(a){var c=a.nativeTarget;if(c==this.getSubnode("c")){var d=a.data.pageY,b=zk.parseInt(zDom.getStyle(c,"padding-right"));offs=zDom.revisedOffset(c);if(d>=offs[1]&&d<offs[1]+b){zDom.addClass(c,"z-errbox-close-over")}else{zDom.rmClass(c,"z-errbox-close-over")}}else{this.$supers("doMouseMove_",arguments)}},doMouseOut_:function(a){var b=a.nativeTarget;if(b==this.getSubnode("c")){zDom.rmClass(b,"z-errbox-close-over")}else{this.$supers("doMouseOut_",arguments)}},doClick_:function(a){var b=a.nativeTarget;if(b==this.getSubnode("c")&&zDom.hasClass(b,"z-errbox-close-over")){this.parent.clearErrorMessage(true,true)}else{this.$supers("doClick_",arguments);this.parent.focus(0)}},open:function(){this.$supers("open",arguments);this.setTopmost();this._fixarrow()},prologHTML_:function(a){var b=this.uuid;a.push('<div id="',b);a.push('$a" class="z-errbox-left z-arrow" title="');a.push(zUtl.encodeXML(mesg.GOTO_ERROR_FIELD));a.push('"><div id="',b,'$c" class="z-errbox-right z-errbox-close"><div class="z-errbox-center">');a.push(zUtl.encodeXML(this.msg,{multiline:true}));a.push("</div></div></div>")},onFloatUp:function(c){if(c==this){this.setTopmost();return}if(!c||c==this.parent||!this.isVisible()){return}var b=this,a=c;while((b=b.parent)&&!b.isFloating_()){}for(;a&&!a.isFloating_();a=a.parent){}if(b==a){var d=c.getNode();if(d){this._uncover(d)}}},_uncover:function(a){var h=zDom.cmOffset(a),e=this.getNode(),c=zDom.cmOffset(e);if(zDom.isOverlapped(h,[a.offsetWidth,a.offsetHeight],c,[e.offsetWidth,e.offsetHeight])){var j=this.parent.getNode(),i;var g=zDom.cmOffset(j),d=j.offsetHeight,b=g[1]+d;i=h[1]+a.offsetHeight<=b?b:g[1]-e.offsetHeight;var f=zDom.toStyleOffset(e,0,i);e.style.top=f[1]+"px";this._fixarrow()}},_fixarrow:function(){var e=this.parent.getNode(),f=this.getNode(),g=this.getSubnode("a"),b=zDom.revisedOffset(e),h=zDom.revisedOffset(f);var c=h[0]-b[0],a=h[1]-b[1],d;if(c>=e.offsetWidth-2){d=a<-10?"ld":a>=e.offsetHeight-2?"lu":"l"}else{if(c<0){d=a<-10?"rd":a>=e.offsetHeight-2?"ru":"r"}else{d=a<0?"d":"u"}}g.className="z-errbox-left z-arrow-"+d}},{_enddrag:function(b){var a=b.control;a.setTopmost();a._fixarrow()},_ignoredrag:function(b,c,a){return zEvt.target(a)==b.control.getSubnode("c")&&zDom.hasClass(b.control.getSubnode("c"),"z-errbox-close-over")},_change:function(d){var c=d.control,a=c._stackup;if(a){var b=c.getNode();a.style.top=b.style.top;a.style.left=b.style.left}c._fixarrow()}});
(_zkwg=_zkpk.Errorbox).prototype.className='zul.inp.Errorbox';zul.inp.SimpleConstraint=zk.$extends(zk.Object,{$init:function(e,d,f){if(typeof e=="string"){this._flags={};this._init(e)}else{if(e){this._flags=typeof e=="number"?this._cvtNum(e):e}this._regex=typeof d=="string"?new RegExp(d):d;this._errmsg=f}},_init:function(d){l_out:for(var c=0,b=0,a=d.length;b>=0;c=b+1){for(;;++c){if(c>=a){return}var f=d.charAt(c);if(f=="/"){for(b=++c;;++b){if(b>=a){b=-1;break}f=d.charAt(b);if(f=="/"){break}if(f=="\\"){++b}}this._regex=new RegExp(b>=0?d.substring(c,b):d.substring(c));continue l_out}if(f==":"){this._errmsg=d.substring(c+1).trim();return}if(!zk.isWhitespace(f)){break}}var e;for(b=c;;++b){if(b>=a){e=d.substring(c);b=-1;break}var f=d.charAt(b);if(f==","||f==":"||f==";"||f=="/"){e=d.substring(c,b);if(f==":"||f=="/"){--b}break}}this.parseConstraint_(e.trim().toLowerCase())}},parseConstraint_:function(a){var b=this._flags;if(a=="no positive"){b.NO_POSITIVE=true}else{if(a=="no negative"){b.NO_NEGATIVE=true}else{if(a=="no zero"){b.NO_ZERO=true}else{if(a=="no empty"){b.NO_EMPTY=true}else{if(a=="no future"){b.NO_FUTURE=true}else{if(a=="no past"){b.NO_PAST=true}else{if(a=="no today"){b.NO_TODAY=true}else{if(a=="strict"){b.STRICT=true}}}}}}}}},_cvtNum:function(a){var b={};if(a&1){b.NO_POSITIVE=b.NO_FUTURE=true}if(a&2){b.NO_NEGATIVE=b.NO_PAST=true}if(a&4){b.NO_ZERO=b.NO_TODAY=true}if(a&256){b.NO_EMPTY=true}if(a&512){b.STRICT=true}return b},validate:function(i,h){var e=this._flags,g=this._errmsg;switch(typeof h){case"string":if(e.NO_EMPTY&&(!h||!h.trim())){return msgzul.EMPTY_NOT_ALLOWED}var d=this._regex;if(d&&!d.test(h)){return g||msgzul.ILLEGAL_VALUE}if(e.STRICT&&h){}return;case"number":if(h>0){if(e.NO_POSITIVE){return g||this._msgNumDenied()}}else{if(h==0){if(e.NO_ZERO){return g||this._msgNumDenied()}}else{if(e.NO_NEGATIVE){return g||this._msgNumDenied()}}}return}if(h&&h.getFullYear){var c=zUtl.today(),h=new Date(h.getFullYear(),h.getMonth(),h.getDate());if(h>c){if(e.NO_FUTURE){return g||this._msgDateDenied()}}else{if(h==c){if(e.NO_TODAY){return g||this._msgDateDenied()}}else{if(e.NO_PAST){return g||this._msgDateDenied()}}}return}if(h&&h.compareTo){var a=h.compareTo(0);if(a>0){if(e.NO_POSITIVE){return g||this._msgNumDenied()}}else{if(a==0){if(e.NO_ZERO){return g||this._msgNumDenied()}}else{if(e.NO_NEGATIVE){return g||this._msgNumDenied()}}}return}if(!h&&e.NO_EMPTY){return g||msgzul.EMPTY_NOT_ALLOWED}},_msgNumDenied:function(){var a=this._flags;if(a.NO_POSITIVE){return a.NO_ZERO?a.NO_NEGATIVE?NO_POSITIVE_NEGATIVE_ZERO:msgzul.NO_POSITIVE_ZERO:a.NO_NEGATIVE?msgzul.NO_POSITIVE_NEGATIVE:msgzul.NO_POSITIVE}else{if(a.NO_NEGATIVE){return a.NO_ZERO?msgzul.NO_NEGATIVE_ZERO:msgzul.NO_NEGATIVE}else{if(a.NO_ZERO){return msgzul.NO_ZERO}}}return msgzul.ILLEGAL_VALUE},_msgDateDenied:function(){var a=this._flags;if(a.NO_FUTURE){return a.NO_TODAY?a.NO_PAST?NO_FUTURE_PAST_TODAY:msgzul.NO_FUTURE_TODAY:a.NO_PAST?msgzul.NO_FUTURE_PAST:msgzul.NO_FUTURE}else{if(a.NO_PAST){return a.NO_TODAY?msgzul.NO_PAST_TODAY:msgzul.NO_PAST}else{if(a.NO_TODAY){return msgzul.NO_TODAY}}}return msgzul.ILLEGAL_VALUE}});
zul.inp.Textbox=zk.$extends(zul.inp.InputWidget,{_value:"",_rows:1,isMultiline:function(){return this._multiline},setMultiline:function(a){if(this._multiline!=a){this._multiline=a;this.rerender()}},isTabbable:function(){return this._tabbable},setTabbable:function(a){this._tabbable=a},getRows:function(){return this._rows},setRows:function(a){if(this._rows!=a){this._rows=a;if(this.einp&&this.isMultiline()){this.einp.rows=a}}},setType:function(a){if(this._type!=a){this._type=a;if(this.einp){this.einp.type=a}}},innerAttrs_:function(){var a=this.$supers("innerAttrs_",arguments);if(this._multiline){a+=' rows="'+this._rows+'"'}return a},getZclass:function(){var a=this._zclass;return a!=null?a:"z-textbox"}});
(_zkwg=_zkpk.Textbox).prototype.className='zul.inp.Textbox';_zkmd={};
_zkmd['default']=function(a){if(this.isMultiline()){a.push("<textarea",this.domAttrs_(),this.innerAttrs_(),">",this._areaText(),"</textarea>")}else{a.push("<input",this.domAttrs_(),this.innerAttrs_(),"/>")}};
zkmld(_zkwg,_zkmd);zul.inp.FormatWidget=zk.$extends(zul.inp.InputWidget,{getFormat:function(){return this._format},setFormat:function(a){if(this._format!=a){this._format=a;if(this.einp){this.einp.value=this.coerceToString_(this._value)}}}});
(_zkwg=_zkpk.FormatWidget).prototype.className='zul.inp.FormatWidget';zul.inp.Intbox=zk.$extends(zul.inp.FormatWidget,{coerceFromString_:function(a){if(!a){return null}var b=zNumFormat.unformat(this._format,a),c=parseInt(b.raw);if(b.raw!=""+c){return{error:zMsgFormat.format(msgzul.INTEGER_REQUIRED,a)}}if(b.divscale){c=Math.round(c/Math.pow(10,b.divscale))}return c},coerceToString_:function(b){var a=this._format;return a?zNumFormat.format(a,b):b?""+b:""},getZclass:function(){var a=this._zclass;return a!=null?a:"z-intbox"}});
(_zkwg=_zkpk.Intbox).prototype.className='zul.inp.Intbox';_zkmd={};
_zkmd['default']=function(a){a.push("<input",this.domAttrs_(),this.innerAttrs_(),"/>")};
zkmld(_zkwg,_zkmd);zul.inp.Doublebox=zk.$extends(zul.inp.Intbox,{coerceFromString_:function(a){if(!a){return null}var b=zNumFormat.unformat(this._format,a),c=parseFloat(b.raw);if(b.raw!=""+c&&b.raw.indexOf("e")<0){return{error:zMsgFormat.format(msgzul.NUMBER_REQUIRED,a)}}if(b.divscale){c=Math.round(c/Math.pow(10,b.divscale))}return c},getZclass:function(){var a=this._zclass;return a!=null?a:"z-doublebox"}});
(_zkwg=_zkpk.Doublebox).prototype.className='zul.inp.Doublebox';_zkmd={};
_zkmd['default']=[_zkpk.Intbox,'default'];zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}_z='zul.menu';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zPkg.load("zul.wgt");zul.menu.Menubar=zk.$extends(zul.Widget,{_orient:"horizontal",getOrient:function(){return this._orient},setOrient:function(a){if(this._orient!=a){this._orient=a;this.rerender()}},isAutodrop:function(){return this._autodrop},setAutodrop:function(a){if(this._autodrop!=a){this._autodrop=a}},getZclass:function(){return this._zclass==null?"z-menubar"+("vertical"==this.getOrient()?"-ver":"-hor"):this._zclass},unbind_:function(){this._lastTarget=null;this.$supers("unbind_",arguments)},insertChildHTML_:function(c,a,b){if(a){zDom.insertHTMLBefore(a.getSubnode("chdextr"),this.encloseChildHTML_({child:c,vertical:"vertical"==this.getOrient()}))}else{zDom.insertHTMLBeforeEnd(this.getNode(),this.encloseChildHTML_({child:c,vertical:"vertical"==this.getOrient()}))}c.bind_(b)},removeChildHTML_:function(b,a){this.$supers("removeChildHTML_",arguments);zDom.remove(b.uuid+"$chdextr")},encloseChildHTML_:function(c){var b=c.out||[],d=c.child,a=c.vertical;if(a){b.push('<td id="',d.uuid,'$chdextr"');if(d.getHeight()){b.push(' height="',d.getHeight(),'"')}b.push(">")}d.redraw(b);if(a){b.push("</tr>")}if(!c.out){return b.join("")}}});
(_zkwg=_zkpk.Menubar).prototype.className='zul.menu.Menubar';_zkmd={};
_zkmd['default']=function(b){var c=this.uuid;if("vertical"==this.getOrient()){b.push("<div",this.domAttrs_(),'><table id="',c,'$cave"',zUtl.cellps0,">");for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_({out:b,child:a,vertical:true})}b.push("</table></div>")}else{b.push("<div",this.domAttrs_(),"><table",zUtl.cellps0,">",'<tr valign="bottom" id="',c,'$cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr></table></div>")}};
zkmld(_zkwg,_zkmd);zul.menu.Menu=zk.$extends(zul.LabelImageWidget,{domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this._image;if(!a){a=zAu.comURI("web/img/spacer.gif")}a='<img src="'+a+'" align="absmiddle" class="'+this.getZclass()+'-img"/>';return b?a+" "+b:a},isTopmost:function(){return this._topmost},beforeParentChanged_:function(a){this._topmost=a&&!(a.$instanceof(zul.menu.Menupopup))},getZclass:function(){return this._zclass==null?"z-menu":this._zclass},domStyle_:function(b){var a=this.$supers("domStyle_",arguments);return this.isTopmost()?a+"padding-left:4px;padding-right:4px;":a},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.menu.Menupopup)){this.menupopup=a}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.menupopup){this.menupopup=null}},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar)){return a}}return null},_fixBtn:function(){var a=this.getSubnode("b");if(!a||!a.innerHTML.trim()){return}a.style.width=zDom.getTextSize(a,a.innerHTML)[0]+zDom.frameWidth(a)+"px"},bind_:function(){this.$supers("bind_",arguments);if(!this.isTopmost()){var a=this.getSubnode("a"),b=this.getNode();zEvt.listen(a,"focus",this.proxy(this.domFocus_,"_fxFocus"));zEvt.listen(a,"blur",this.proxy(this.domBlur_,"_fxBlur"));zEvt.listen(b,"mouseover",this.proxy(this._doMouseOver,"_fxMouseOver"));zEvt.listen(b,"mouseout",this.proxy(this._doMouseOut,"_fxMouseOut"))}else{if(zk.ie){this._fixBtn()}var a=this.getSubnode("a");zEvt.listen(a,"mouseover",this.proxy(this._doMouseOver,"_fxMouseOver"));zEvt.listen(a,"mouseout",this.proxy(this._doMouseOut,"_fxMouseOut"))}},unbind_:function(){if(!this.isTopmost()){var a=this.getSubnode("a"),b=this.getNode();zEvt.unlisten(a,"focus",this._fxFocus);zEvt.unlisten(a,"blur",this._fxBlur);zEvt.unlisten(b,"mouseover",this._fxMouseOver);zEvt.unlisten(b,"mouseout",this._fxMouseOut)}else{var b=this.getNode();zEvt.unlisten(b,"mouseover",this._fxMouseOver);zEvt.unlisten(b,"mouseout",this._fxMouseOut)}this.$supers("unbind_",arguments)},doClick_:function(a){if(this.isTopmost()&&!zDom.isAncestor(this.getSubnode("a"),a.nativeTarget)){return}zDom.addClass(this.getSubnode("a"),this.getZclass()+"-btn-seld");if(this.menupopup){this.menupopup._shallClose=false;if(this.isTopmost()){this.getMenubar()._lastTarget=this}if(!this.menupopup.isOpen()){this.menupopup.open()}}this.fireX(a)},_doMouseOver:function(a){if(this.$class._isActive(this)){return}var b=this.isTopmost();if(b&&zk.ie&&!zDom.isAncestor(this.getSubnode("a"),zEvt.target(a))){return}this.$class._addActive(this);if(!b){if(this.menupopup){this.menupopup._shallClose=false}zWatch.fire("onFloatUp",null,this);if(this.menupopup&&!this.menupopup.isOpen()){this.menupopup.open()}}else{var c=this.getMenubar();if(this.menupopup&&c.isAutodrop()){c._lastTarget=this;this.menupopup._shallClose=false;zWatch.fire("onFloatUp",null,this);if(!this.menupopup.isOpen()){this.menupopup.open()}}else{var d=c._lastTarget;if(d&&d!=this&&c._lastTarget.menupopup&&c._lastTarget.menupopup.isVisible()){c._lastTarget.menupopup.close({sendOnOpen:true});this.$class._rmActive(c._lastTarget);c._lastTarget=this;if(this.menupopup){this.menupopup.open()}}}}},_doMouseOut:function(g){if(zk.ie){var b=this.getSubnode("a"),i=zDom.revisedOffset(b),a=zEvt.pointer(g),e=a[0],d=a[1],f=this.isTopmost()?1:0,c=this.isTopmost()&&"vertical"==this.parent.getOrient()?1:0;if(e-f>i[0]&&e<=i[0]+b.offsetWidth&&d-f>i[1]&&d-c<=i[1]+b.offsetHeight){return}}var h=this.isTopmost();if(h){if(this.menupopup&&this.getMenubar().isAutodrop()){this.$class._rmActive(this);if(this.menupopup.isOpen()){this.menupopup._shallClose=true}zWatch.fire("onFloatUp",{timeout:10},this)}}else{if(this.menupopup&&!this.menupopup.isOpen()){this.$class._rmActive(this)}}}},{_isActive:function(c){var b=c.isTopmost(),d=b?c.getSubnode("a"):c.getNode(),a=c.getZclass()+(b?"-btn-over":"-over");return zDom.hasClass(d,a)},_addActive:function(c){var b=c.isTopmost(),d=b?c.getSubnode("a"):c.getNode(),a=c.getZclass()+(b?"-btn-over":"-over");zDom.addClass(d,a);if(!b&&c.parent.parent.$instanceof(zul.menu.Menu)){this._addActive(c.parent.parent)}},_rmActive:function(c){var b=c.isTopmost(),d=b?c.getSubnode("a"):c.getNode(),a=c.getZclass()+(b?"-btn-over":"-over");zDom.rmClass(d,a)}});
(_zkwg=_zkpk.Menu).prototype.className='zul.menu.Menu';_zkmd={};
_zkmd['default']=function(a){var b=this.uuid,c=this.getZclass();if(this.isTopmost()){a.push('<td align="left"',this.domAttrs_(),'><table id="',b,'$a"',zUtl.cellps0,' class="',c,"-btn");if(this.getImage()){a.push(" ",c,"-btn");if(this.getLabel()){a.push("-text")}a.push("-img")}a.push('" style="width: auto;"><tbody><tr><td class="',c,'-btn-l"><i>&nbsp;</i></td><td class="',c,'-btn-m"><em unselectable="on"><button id="',b,'$b" type="button" class="',c,'-btn-text"');if(this.getImage()){a.push(' style="background-image:url(',this.getImage(),')"')}a.push(">",zUtl.encodeXML(this.getLabel()),"</button>");if(this.menupopup){this.menupopup.redraw(a)}a.push('</em></td><td class="',c,'-btn-r"><i>&nbsp;</i></td></tr></tbody></table></td>')}else{a.push("<li",this.domAttrs_(),'><a href="javascript:;" id="',b,'$a" class="',c,"-cnt ",c,'-cnt-img">',this.domContent_(),"</a>");if(this.menupopup){this.menupopup.redraw(a)}a.push("</li>")}};
zkmld(_zkwg,_zkmd);zul.menu.Menuitem=zk.$extends(zul.LabelImageWidget,{_value:"",isCheckmark:function(){return this._checkmark},setCheckmark:function(a){if(this._checkmark!=a){this._checkmark=a;this.rerender()}},setDisabled:function(a){if(this._disabled!=a){this._disabled=a;this.rerender()}},isDisabled:function(){return this._disabled},getValue:function(){return this._value},setValue:function(a){if(!a){a=""}this._value=a},isChecked:function(){return this._checked},setChecked:function(a){if(this._checked!=a){this._checked=a;if(this._checked){this._checkmark=this._checked}var c=this.getNode();if(c&&!this.isTopmost()&&!this.getImage()){var b=this.getZclass();zDom.rmClass(c,b+"-cnt-ck");zDom.rmClass(c,b+"-cnt-unck");if(this._checkmark){zDom.addClass(c,b+(this._checked?"-cnt-ck":"-cnt-unck"))}}}},isAutocheck:function(){return this._autocheck},setAutocheck:function(a){if(this._autocheck!=a){this._autocheck=a}},getHref:function(){return this._href},setHref:function(a){if(this._href!=a){this._href=a;this.rerender()}},getTarget:function(){return this._target},setTarget:function(b){if(this._target!=b){this._target=b;var a=this.getSubnode("a");if(a){if(this.isTopmost()){a=a.parentNode}a.target=this._target}}},isTopmost:function(){return this._topmost},beforeParentChanged_:function(a){this._topmost=a&&!(a.$instanceof(zul.menu.Menupopup))},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a=this.isDisabled()?this.getZclass()+"-disd":"";if(a){b+=(b?" ":"")+a}}return b},getZclass:function(){return this._zclass==null?"z-menu-item":this._zclass},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this._image;if(!a){a=zAu.comURI("web/img/spacer.gif")}a='<img src="'+a+'" align="absmiddle" class="'+this.getZclass()+'-img"/>';return b?a+" "+b:a},domStyle_:function(b){var a=this.$supers("domStyle_",arguments);return this.isTopmost()?a+"padding-left:4px;padding-right:4px;":a},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar)){return a}}return null},_fixBtn:function(){var a=this.getSubnode("b");if(!a||!a.innerHTML.trim()){return}a.style.width=zDom.getTextSize(a,a.innerHTML)[0]+zDom.frameWidth(a)+"px"},bind_:function(){this.$supers("bind_",arguments);if(!this.isDisabled()){var a=this.getSubnode("a"),b=this.getNode();zEvt.listen(b,"mouseover",this.proxy(this._doMouseOver,"_fxMouseOver"));zEvt.listen(b,"mouseout",this.proxy(this._doMouseOut,"_fxMouseOut"));if(this.isTopmost()){zEvt.listen(a,"focus",this.proxy(this.domFocus_,"_fxFocus"));zEvt.listen(a,"blur",this.proxy(this.domBlur_,"_fxBlur"))}}if(zk.ie&&this.isTopmost()){this._fixBtn()}},unbind_:function(){if(!this.isDisabled()){var a=this.getSubnode("a"),b=this.getNode();zEvt.unlisten(b,"mouseover",this._fxMouseOver);zEvt.unlisten(b,"mouseout",this._fxMouseOut);if(this.isTopmost()){zEvt.unlisten(a,"focus",this._fxFocus);zEvt.unlisten(a,"blur",this._fxBlur)}}this.$supers("unbind_",arguments)},doClick_:function(a){if(this._disabled){a.stop()}else{if(!this.$class._isActive(this)){return}var b=this.isTopmost(),c=this.getSubnode("a");if(b){zDom.rmClass(c,this.getZclass()+"-btn-over");c=c.parentNode}if("javascript:;"==c.href){if(this.isAutocheck()){this.setChecked(!this.isChecked());this.fire("onCheck",this.isChecked())}this.fireX(a)}else{if(zk.ie&&b&&this.getNode().id!=c.id){zUtl.go(c.href,false,c.target)}}zWatch.fire("onFloatUp",null,this)}},_doMouseOver:function(a){if(this.$class._isActive(this)){return}if(!this.isDisabled()){if(this.isTopmost()&&zk.ie&&!zDom.isAncestor(this.getSubnode("a"),zEvt.target(a))){return}this.$class._addActive(this);zWatch.fire("onFloatUp",null,this)}},_doMouseOut:function(b){if(!this.isDisabled()){if(zk.ie){var g=this.getSubnode("a"),e=zDom.revisedOffset(g),d=zEvt.pointer(b),a=d[0],f=d[1],c=this.isTopmost()?1:0;if(a-c>e[0]&&a<=e[0]+g.offsetWidth&&f-c>e[1]&&f<=e[1]+g.offsetHeight){return}}this.$class._rmActive(this)}}},{_isActive:function(c){var b=c.isTopmost(),d=b?c.getSubnode("a"):c.getNode(),a=c.getZclass()+(b?"-btn-over":"-over");return zDom.hasClass(d,a)},_addActive:function(c){var b=c.isTopmost(),d=b?c.getSubnode("a"):c.getNode(),a=c.getZclass()+(b?"-btn-over":"-over");zDom.addClass(d,a);if(!b&&c.parent.parent.$instanceof(zul.menu.Menu)){this._addActive(c.parent.parent)}},_rmActive:function(c){var b=c.isTopmost(),d=b?c.getSubnode("a"):c.getNode(),a=c.getZclass()+(b?"-btn-over":"-over");zDom.rmClass(d,a)}});
(_zkwg=_zkpk.Menuitem).prototype.className='zul.menu.Menuitem';_zkmd={};
_zkmd['default']=function(b){var c=this.uuid,d=this.getZclass();if(this.isTopmost()){b.push('<td align="left"',this.domAttrs_(),'><a href="',this.getHref()?this.getHref():"javascript:;",'"');if(this.getTarget()){b.push(' target="',this.getTarget(),'"')}b.push(' class="',d,'-cnt"><table id="',c,'$a"',zUtl.cellps0,' class="',d,"-btn");if(this.getImage()){b.push(" ",d,"-btn");if(this.getLabel()){b.push("-text")}b.push("-img")}b.push('" style="width: auto;"><tbody><tr><td class="',d,'-btn-l"><i>&nbsp;</i></td><td class="',d,'-btn-m"><em unselectable="on"><button id="',c,'$b" type="button" class="',d,'-btn-text"');if(this.getImage()){b.push(' style="background-image:url(',this.getImage(),')"')}b.push(">",zUtl.encodeXML(this.getLabel()),'</button></em></td><td class="',d,'-btn-r"><i>&nbsp;</i></td></tr></tbody></table></a></td>')}else{b.push("<li",this.domAttrs_(),">");var a=d+"-cnt"+(!this.getImage()&&this.isCheckmark()?" "+d+(this.isChecked()?"-cnt-ck":"-cnt-unck"):"");b.push('<a href="',this.getHref()?this.getHref():"javascript:;",'"');if(this.getTarget()){b.push(' target="',this.getTarget(),'"')}b.push(' id="',c,'$a" class="',a,'">',this.domContent_(),"</a></li>")}};
zkmld(_zkwg,_zkmd);zul.menu.Menuseparator=zk.$extends(zul.Widget,{isPopup:function(){return this.parent&&this.parent.$instanceof(zul.menu.Menupopup)},getMenubar:function(){for(var a=this.parent;a;a=a.parent){if(a.$instanceof(zul.menu.Menubar)){return a}}return null},getZclass:function(){return this._zclass==null?"z-menu-separator":this._zclass},doMouseOver_:function(){zWatch.fire("onFloatUp",null,this);this.$supers("doMouseOver_",arguments)}});
(_zkwg=_zkpk.Menuseparator).prototype.className='zul.menu.Menuseparator';_zkmd={};
_zkmd['default']=function(a){a.push("<li",this.domAttrs_(),'><span class="',this.getZclass(),'-inner">&nbsp;</span></li>')};
zkmld(_zkwg,_zkmd);zul.menu.Menupopup=zk.$extends("zul.wgt.Popup",{_curIndex:-1,_getCurrentIndex:function(){return this._curIndex},getZclass:function(){return this._zclass==null?"z-menu-popup":this._zclass},getSelectedItem:function(){return this.getSelectedItemAt(this.getSelectedIndex())},_isActiveItem:function(a){return a.isVisible()&&(a.$instanceof(zul.menu.Menu)||(a.$instanceof(zul.menu.Menuitem)&&!a.isDisabled()))},_currentChild:function(c){var c=c!=null?c:this._curIndex;for(var a=this.firstChild,b=-1;a;a=a.nextSibling){if(this._isActiveItem(a)&&++b===c){return a}}return null},_previousChild:function(b){b=b?b.previousSibling:this.lastChild;var a=this.lastChild==b;for(;b;b=b.previousSibling){if(this._isActiveItem(b)){this._curIndex--;return b}}if(a){return null}this.curIndex=0;for(b=this.firstChild;b;b=b.nextSibling){if(this._isActiveItem(b)){this._curIndex++}}return this._previousChild()},_nextChild:function(b){b=b?b.nextSibling:this.firstChild;var a=this.firstChild==b;for(;b;b=b.nextSibling){if(this._isActiveItem(b)){this._curIndex++;return b}}if(a){return null}this._curIndex=-1;return this._nextChild()},_syncShadow:function(){if(!this._shadow){this._shadow=new zk.eff.Shadow(this.getNode(),{stackup:zk.ie6Only})}this._shadow.sync()},_hideShadow:function(){if(this._shadow){this._shadow.hide()}},close:function(){this.$supers("close",arguments);this._hideShadow();var b=this.parent;if(b.$instanceof(zul.menu.Menu)&&b.isTopmost()){zDom.rmClass(b.getSubnode("a"),b.getZclass()+"-btn-seld")}var a=this._currentChild();if(a){a.$class._rmActive(a)}this._curIndex=-1;this.$class._rmActive(this)},open:function(c,d,a,b){if(this.parent.$instanceof(zul.menu.Menu)){if(!d){c=this.parent.getSubnode("a");if(!a){if(this.parent.isTopmost()){a=this.parent.parent.getOrient()=="vertical"?"end_before":"after_start"}else{a="end_before"}}}}this.$super("open",c,d,a,b)},onFloatUp:function(c){if(!this.isVisible()){return}var d=c;if(this.parent.menupopup==this&&!this.parent.isTopmost()&&!this.parent.$class._isActive(this.parent)){this.close({sendOnOpen:true});return}for(var b;c;c=c.parent){if(c==this||(c.menupopup==this&&!this._shallClose)){if(!b){this.setTopmost()}return}b=b||c.isFloating_()}for(var b,c=this.parent;c;c=c.parent){if(c==d){if(this._shallClose){break}if(!b){this.setTopmost()}return}b=b||c.isFloating_()}if(!this._shallClose&&this.parent.$instanceof(zul.menu.Menu)){var a=this.parent.getMenubar();if(a&&a._lastTarget==this.parent){return}}this.close({sendOnOpen:true})},onVisible:function(d){if(zk.ie7){var a=this.getNode();if(!a.style.width){var b=this.getSubnode("cave");a.style.width=b.offsetWidth+zDom.padBorderWidth(a)+"px"}}this._syncShadow();var c=this.getSubnode("a");if(c){if(zk.ie){zDom.cleanVisibility(this.getNode())}c.focus()}},onHide:function(a){this._hideShadow()},bind_:function(){this.$supers("bind_",arguments);zWatch.listen("onHide",this)},unbind_:function(){if(this._shadow){this._shadow.destroy()}this._shadow=null;zWatch.unlisten("onHide",this);this.$supers("unbind_",arguments)},doKeyDown_:function(d){var c=this._currentChild(),a=d.data.keyCode;switch(a){case 38:case 40:if(c){c.$class._rmActive(c)}c=a==38?this._previousChild(c):this._nextChild(c);if(c){c.$class._addActive(c)}break;case 37:this.close();if(this.parent.$instanceof(zul.menu.Menu)&&!this.parent.isTopmost()){var b=this.parent.parent;if(b){var e=b.getSubnode("a");if(e){e.focus()}}}break;case 39:if(c&&c.$instanceof(zul.menu.Menu)&&c.menupopup){c.menupopup.open()}break;case 13:if(c&&c.$instanceof(zul.menu.Menuitem)){c.doClick_(new zk.Event(c,"onClick",null,{ctl:true},d.nativeEvent));zWatch.fire("onFloatUp",null,c);this.close({sendOnOpen:true})}break}d.stop();this.$supers("doKeyDown_",arguments)},doMouseOver_:function(a){this._shallClose=false;this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){this._shallClose=true;this.$supers("doMouseOut_",arguments)}},{_rmActive:function(a){if(a.parent.$instanceof(zul.menu.Menu)){a.parent.$class._rmActive(a.parent);if(!a.parent.isTopmost()){this._rmActive(a.parent.parent)}}}});
(_zkwg=_zkpk.Menupopup).prototype.className='zul.menu.Menupopup';_zkmd={};
_zkmd['default']=function(c){var d=this.uuid,e=this.getZclass(),b=zk.ie||zk.gecko?"a":"button";c.push("<div",this.domAttrs_(),"><",b,' id="',d,'$a" tabindex="-1" onclick="return false;" href="javascript:;"',' style="padding:0 !important; margin:0 !important; border:0 !important;'," background: transparent !important; font-size: 1px !important;"," width: 1px !important; height: 1px !important;-moz-outline: 0 none;",' outline: 0 none;	-moz-user-select: text; -khtml-user-select: text;"></',b,'><ul class="',e,'-cnt" id="',d,'$cave">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(c)}c.push("</ul></div>")};
zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}_z='zul.panel';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zPkg.load("zul.wgt");zul.panel.Panel=zk.$extends(zul.Widget,{_border:"none",_title:"",_open:true,$init:function(){this.$supers("$init",arguments);this.listen("onClose",this,null,-1000);this.listen("onMove",this,null,-1000)},setVisible:function(b,a){if(this._visible!=b){this.$supers("setVisible",arguments)}},setHeight:function(){this.$supers("setHeight",arguments);if(this.desktop){zWatch.fireDown("beforeSize",null,this);zWatch.fireDown("onSize",null,this)}},setWidth:function(){this.$supers("setWidth",arguments);if(this.desktop){zWatch.fireDown("beforeSize",null,this);zWatch.fireDown("onSize",null,this)}},setTop:function(){this._hideShadow();this.$supers("setTop",arguments);this._syncShadow()},setLeft:function(){this._hideShadow();this.$supers("setLeft",arguments);this._syncShadow()},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){zWatch.fireDown("beforeSize",null,this);zWatch.fireDown("onSize",null,this)}},isOpen:function(){return this._open},setOpen:function(c,b){if(this._open!=c){this._open=c;var d=this.getNode();if(d){var e=this.getZclass(),a=this.getSubnode("body");if(a){if(c){zDom.rmClass(d,e+"-collapsed");zAnima.slideDown(this,a,{afterAnima:this._afterSlideDown})}else{zDom.addClass(d,e+"-collapsed");this._hideShadow();if(zk.ie6Only&&!d.style.width){d.runtimeStyle.width="100%"}zAnima.slideUp(this,a,{beforeAnima:this._beforeSlideUp})}}if(b){this.fire("onOpen",c)}}}},isFramable:function(){return this._framable},setFramable:function(a){if(this._framable!=a){this._framable=a;this.rerender()}},setMovable:function(a){if(this._movable!=a){this._movable=a;this.rerender()}},isMovable:function(){return this._movable},isFloatable:function(){return this._floatable},setFloatable:function(a){if(this._floatable!=a){this._floatable=a;this.rerender()}},isMaximized:function(){return this._maximized},setMaximized:function(a){if(this._maximized!=a){this._maximized=a}},isMaximizable:function(){return this._maximizable},setMaximizable:function(a){if(this._maximizable!=a){this._maximizable=a;this.rerender()}},isMinimized:function(){return this._minimized},setMinimized:function(c,e){if(this._minimized!=c){this._minimized=c;var a=this.getNode();if(a){var j=a.style,b=j.left,g=j.top,f=j.width,d=j.height;if(c){zWatch.fireDown("onHide",{visible:true},this);zDom.hide(a)}else{zDom.show(a);zWatch.fireDown("onVisible",{visible:true},this)}if(!e){var i=this;this.fire("onMinimize",{left:j.left,top:j.top,width:j.width,height:j.height,minimized:c,marshal:i.$class._onMinimizeMarshal})}}}},isMinimizable:function(){return this._minimizable},setMinimizable:function(a){if(this._minimizable!=a){this._minimizable=a;this.rerender()}},isCollapsible:function(){return this._collapsible},setCollapsible:function(a){if(this._collapsible!=a){this._collapsible=a;this.rerender()}},isClosable:function(){return this._closable},setClosable:function(a){if(this._closable!=a){this._closable=a;this.rerender()}},getBorder:function(){return this._border},setBorder:function(a){if(!a||"0"==a){a="none"}if(this._border!=a){this._border=a;this.rerender()}},getTitle:function(){return this._title},setTitle:function(a){if(!a){a=""}if(this._title!=a){this._title=a;this.rerender()}},addToolbar:function(a,b){switch(a){case"tbar":this.tbar=b;break;case"bbar":this.bbar=b;break;case"fbar":this.fbar=b;break;default:return false}return this.appendChild(b)},onClose:function(){if(!this.inServer){this.parent.removeChild(this)}},onMove:function(a){this._left=a.data[0];this._top=a.data[1]},onSize:_zkf=function(){this._hideShadow();if(this.isMaximized()){}this._fixHgh();this._fixWdh();this._syncShadow()},onVisible:_zkf,onHide:function(){this._hideShadow()},_fixWdh:zk.ie7?function(){if(!this.isFramable()||!this.panelchildren){return}var c=this.getNode(),a=this.panelchildren.getNode().parentNode;wdh=c.style.width,tl=zDom.firstChild(c,"DIV"),bl=zDom.lastChild(zDom.lastChild(c,"DIV"),"DIV");if(!wdh||wdh=="auto"){var b=zDom.padBorderWidth(a.parentNode)+zDom.padBorderWidth(a.parentNode.parentNode);if(tl){tl.firstChild.firstChild.style.width=Math.max(0,a.offsetWidth-(zDom.padBorderWidth(tl)+zDom.padBorderWidth(tl.firstChild)-b))+"px"}if(bl){bl.firstChild.firstChild.style.width=Math.max(0,a.offsetWidth-(zDom.padBorderWidth(bl)+zDom.padBorderWidth(bl.firstChild)-b))+"px"}}else{if(tl){tl.firstChild.firstChild.style.width=""}if(bl){bl.firstChild.firstChild.style.width=""}}}:zk.$void,_fixHgh:function(){if(!this.panelchildren||!this.isRealVisible()){return}var c=this.getNode(),a=this.panelchildren.getNode(),b=c.style.height;if(zk.ie6Only&&((b&&b!="auto")||a.style.height)){a.style.height="0px"}if(b&&b!="auto"){a.style.height=zDom.revisedHeight(a,c.offsetHeight-this._padBorderHeight(c)-1,true)+"px"}},_padBorderHeight:function(i){var b=zDom.padBorderHeight(i)+this._titleHeight(i),g=this.getSubnode("tbar"),e=this.getSubnode("bbar");if(this.isFramable()){var a=this.getSubnode("body"),f=zDom.lastChild(a,"DIV"),d=this.getSubnode("cap");b+=f.offsetHeight;if(this.panelchildren){b+=zDom.padBorderHeight(this.panelchildren.getNode().parentNode)}if(d){b+=zDom.padBorderHeight(d.parentNode)}}else{var c=this.getSubnode("fbar");if(c){b+=c.offsetHeight}}if(g){b+=g.offsetHeight}if(e){b+=e.offsetHeight}return b},_titleHeight:function(b){var a=this.getSubnode("cap");return a?a.offsetHeight:this.isFramable()?zDom.firstChild(b,"DIV").firstChild.firstChild.offsetHeight:0},_syncMaximized:function(a){},onFloatUp:function(a){if(!this.isVisible()||!this.isFloatable()){return}for(;a;a=a.parent){if(a==this){this.setTopmost();return}if(a.isFloating_()){return}}},getZclass:function(){return this._zclass==null?"z-panel":this._zclass},_afterSlideDown:function(a){zWatch.fireDown("onVisible",{visible:true},this)},_beforeSlideUp:function(a){zWatch.fireDown("onHide",{visible:true},this)},_initFloat:function(){var b=this.getNode();if(!b.style.top&&!b.style.left){var a=zDom.revisedOffset(b);b.style.left=a[0]+"px";b.style.top=a[1]+"px"}b.style.position="absolute";if(this.isMovable()){this._initMove()}this._syncShadow();if(this.isRealVisible()){zDom.cleanVisibility(b);this.setTopmost()}},_initMove:function(b){var c=this.getSubnode("cap");if(c&&!this._drag){c.style.cursor="move";var a=this.$class;this._drag=new zk.Draggable(this,null,{handle:c,overlay:true,stackup:true,starteffect:a._startmove,ignoredrag:a._ignoremove,endeffect:a._aftermove})}},_syncShadow:function(){if(!this.isFloatable()){if(this._shadow){this._shadow.destroy();this._shadow=null}}else{if(!this._shadow){this._shadow=new zk.eff.Shadow(this.getNode(),{left:-4,right:4,top:-2,bottom:3,stackup:true})}this._shadow.sync()}},_hideShadow:function(){var a=this._shadow;if(a){a.hide()}},bind_:function(){this.$supers("bind_",arguments);zWatch.listen("onSize",this);zWatch.listen("onVisible",this);zWatch.listen("onHide",this);var b=this.uuid,a=this.$class;if(this.isFloatable()){zWatch.listen("onFloatUp",this);this.setFloating_(true);this._initFloat()}},unbind_:function(){zWatch.unlisten("onSize",this);zWatch.unlisten("onVisible",this);zWatch.unlisten("onFloatUp",this);zWatch.unlisten("onHide",this);this.setFloating_(false);if(this._shadow){this._shadow.destroy();this._shadow=null}if(this._drag){this._drag.destroy();this._drag=null}this.$supers("unbind_",arguments)},doClick_:function(a){switch(a.nativeTarget){case this.getSubnode("close"):this.fire("onClose");a.stop();break;case this.getSubnode("max"):break;case this.getSubnode("min"):if(this.isMinimizable()){this.setMinimized(!this.isMinimized())}break;case this.getSubnode("toggle"):if(this.isCollapsible()){this.setOpen(!this.isOpen())}break}this.$supers("doClick_",arguments)},doMouseOver_:function(a){switch(a.nativeTarget){case this.getSubnode("close"):zDom.addClass(this.getSubnode("close"),this.getZclass()+"-close-over");break;case this.getSubnode("max"):var c=this.getZclass(),b=this.isMaximized()?" "+c+"-maximized-over":"";zDom.addClass(this.getSubnode("max"),c+"-maximize-over"+b);break;case this.getSubnode("min"):zDom.addClass(this.getSubnode("min"),this.getZclass()+"-minimize-over");break;case this.getSubnode("toggle"):zDom.addClass(this.getSubnode("toggle"),this.getZclass()+"-toggle-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(b){switch(b.nativeTarget){case this.getSubnode("close"):zDom.rmClass(this.getSubnode("close"),this.getZclass()+"-close-over");break;case this.getSubnode("max"):var c=this.getZclass(),a=this.getSubnode("max");if(this.isMaximized()){zDom.rmClass(a,c+"-maximized-over")}zDom.rmClass(a,c+"-maximize-over");break;case this.getSubnode("min"):zDom.rmClass(this.getSubnode("min"),this.getZclass()+"-minimize-over");break;case this.getSubnode("toggle"):zDom.rmClass(this.getSubnode("toggle"),this.getZclass()+"-toggle-over");break}this.$supers("doMouseOut_",arguments)},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass();var a="normal"==this.getBorder()?"":c+"-noborder";if(a){b+=(b?" ":"")+a}addded=this.isOpen()?"":c+"-collapsed";if(a){b+=(b?" ":"")+a}}return b},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Caption)){this.caption=a}else{if(a.$instanceof(zul.panel.Panelchildren)){this.panelchildren=a}else{if(a.$instanceof(zul.wgt.Toolbar)){if(this.firstChild==a){this.tbar=a}else{if(this.lastChild==a&&a.previousSibling.$instanceof(zul.wgt.Toolbar)){this.fbar=a}else{if(a.previousSibling.$instanceof(zul.panel.Panelchildren)){this.bbar=a}}}}}}this.rerender()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.caption){this.caption=null}else{if(a==this.panelchildren){this.panelchildren=null}else{if(a==this.tbar){this.tbar=null}else{if(a==this.bbar){this.bbar=null}else{if(a==this.fbar){this.fbar=null}}}}}this.rerender()}},{_startmove:function(b){b.control._hideShadow();var a=b.node;if(a.style.top&&a.style.top.indexOf("%")>=0){a.style.top=a.offsetTop+"px"}if(a.style.left&&a.style.left.indexOf("%")>=0){a.style.left=a.offsetLeft+"px"}},_ignoremove:function(b,d,a){var c=b.control;switch(zEvt.target(a)){case c.getSubnode("close"):case c.getSubnode("max"):case c.getSubnode("min"):case c.getSubnode("toggle"):return true}return false},_aftermove:function(e,b){var f=e.control;f._syncShadow();var d=zEvt.keyMetaData(b),c=f.getNode(),a=zk.parseInt(c.style.left),g=zk.parseInt(c.style.top);f.fire("onMove",{x:a+"px",y:g+"px",keys:d,marshal:f.$class._onMoveMarshal},{ignorable:true})},_onMoveMarshal:function(){return[this.x,this.y,this.keys?this.keys.marshal():""]},_onMinimizeMarshal:function(){return[this.left,this.top,this.width,this.height,this.minimized]}});
(_zkwg=_zkpk.Panel).prototype.className='zul.panel.Panel';_zkmd={};
_zkmd['default']=function(c,g){var f=this.getZclass(),d=this.uuid,e=this.getTitle(),b=this.caption,h=this.isFramable(),a=this.getBorder()!="normal";c.push("<div",this.domAttrs_(),">");if(h){c.push('<div class="',f,"-tl");if(!b&&!e){c.push(" ",f,"-noheader")}c.push('"><div class="',f,'-tr"><div class="',f,'-tm">')}if(b||e){c.push('<div id="',d,'$cap" class="',f,"-header");if(!h&&a){c.push(" ",f,"-header-noborder")}c.push('">');if(!b){if(this.isClosable()){c.push('<div id="',d,'$close" class="',f,"-tool ",f,'-close"></div>')}if(this.isMaximizable()){c.push('<div id="',d,'$max" class="',f,"-tool ",f,"-maximize");if(this.isMaximized()){c.push(" ",f,"-maximized")}c.push('"></div>')}if(this.isMinimizable()){c.push('<div id="',d,'$min" class="',f,"-tool ",f,'-minimize"></div>')}if(this.isCollapsible()){c.push('<div id="',d,'$toggle" class="',f,"-tool ",f,'-toggle"></div>')}c.push(zUtl.encodeXML(e))}else{b.redraw(c)}c.push("</div>")}if(h){c.push("</div></div></div>")}c.push('<div id="',d,'$body" class="',f,'-body"');if(!this.isOpen()){c.push(' style="display:none;"')}c.push(">");if(h){c.push('<div class="',f,'-cl"><div class="',f,'-cr"><div class="',f,'-cm">')}if(this.tbar){c.push('<div id="',d,'$tbar" class="',f,"-tbar");if(a){c.push(" ",f,"-tbar-noborder")}if(h&&!b&&!e){c.push(" ",f,"-noheader")}c.push('">');this.tbar.redraw(c);c.push("</div>")}if(this.panelchildren){this.panelchildren.redraw(c)}if(this.bbar){c.push('<div id="',d,'$bbar" class="',f,"-bbar");if(a){c.push(" ",f,"-bbar-noborder")}if(h&&!b&&!e){c.push(" ",f,"-noheader")}c.push('">');this.bbar.redraw(c);c.push("</div>")}if(h){c.push('</div></div></div><div class="',f,"-bl");if(!this.fbar){c.push(" ",f,"-nofbar")}c.push('"><div class="',f,'-br"><div class="',f,'-bm">')}if(this.fbar){c.push('<div id="',d,'$fbar" class="',f,'-fbar">');this.fbar.redraw(c);c.push("</div>")}if(h){c.push("</div></div></div>")}c.push("</div></div>")};
zkmld(_zkwg,_zkmd);zul.panel.Panelchildren=zk.$extends(zul.Widget,{setHeight:zk.$void,setWidth:zk.$void,getZclass:function(){return this._zclass==null?"z-panel-children":this._zclass},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass();var a=!this.parent.getTitle()&&!this.parent.caption?c+"-noheader":"";if(a){b+=(b?" ":"")+a}a=this.parent.getBorder()=="normal"?"":c+"-noborder";if(a){b+=(b?" ":"")+a}}return b},updateDomStyle_:function(){this.$supers("updateDomStyle_",arguments);if(this.desktop){zWatch.fireDown("beforeSize",null,this.parent);zWatch.fireDown("onSize",null,this.parent)}}});
(_zkwg=_zkpk.Panelchildren).prototype.className='zul.panel.Panelchildren';_zkmd={};
_zkmd['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}_z='zul.utl';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zul.utl.Script=zk.$extends(zk.Widget,{getContent:function(){return this._content},setContent:function(a){this._content=a;if(a){this._fn=typeof a=="function"?a:new Function(a);if(this.desktop){this._exec()}}else{this._fn=null}},getSrc:function(){return this._src},setSrc:function(a){this._src=a;if(a){this._srcrun=false;if(this.desktop){this._exec()}}},getCharset:function(){return this._charset},setCharset:function(a){this._charset=a},_exec:function(){var c=this.packages;if(!c){return this._exec0()}this.packages=null;c=c.split(",");for(var b=0,a=c.length;b<a;){zPkg.load(c[b++].trim())}if(zPkg.loading){zk.afterLoad(this.proxy(this._exec0))}else{this._exec0()}},_exec0:function(){var b=this,a=this._fn;if(a){this._fn=null;zk.afterMount(function(){a.apply(b)})}if(this._src&&!this._srcrun){this._srcrun=true;zDom.appendScript(this._src,this._charset)}},redraw:function(){return""},bind_:function(){this.$supers("bind_",arguments);this._exec()}});
(_zkwg=_zkpk.Script).prototype.className='zul.utl.Script';zul.utl.Timer=zk.$extends(zk.Widget,{_running:true,_delay:0,isRepeats:function(){return this._repeats},setRepeats:function(a){if(this._repeats!=a){this._repeats=a;if(this.desktop){this._sync()}}},getDelay:function(){return this._delay},setDelay:function(a){if(this._delay!=a){this._delay=a;if(this.desktop){this._sync()}}},isRunning:function(){return this._running},setRunning:function(a){if(this._running!=a){this._running=a;if(this.desktop){this._sync()}}},play:function(){this.setRunning(true)},stop:function(){this.setRunning(false)},_sync:function(){this._stop();this._play()},_play:function(){if(this._running){var a=this.proxy(this._tmfn);if(this._repeats){this._iid=setInterval(a,this._delay)}else{this._tid=setTimeout(a,this._delay)}}},_stop:function(){var a=this._iid;if(a){this._iid=null;clearInterval(a)}a=this._tid;if(a){this._tid=null;clearTimeout(a)}},_tmfn:function(){this.fire("onTimer",null,{ignorable:true})},redraw:function(){return""},bind_:function(){this.$supers("bind_",arguments);if(this._running){this._play()}},unbind_:function(){this._stop();this.$supers("unbind_",arguments)}});
(_zkwg=_zkpk.Timer).prototype.className='zul.utl.Timer';zul.utl.Style=zk.$extends(zk.Widget,{getSrc:function(){return this._src},setSrc:function(a){if(this._src!=a){this._src=a;this._content=null;if(this.desktop){this._updLink()}}},getContent:function(){return this._content},setContent:function(a){if(!zk.bootstrapping){throw"Content cannot be changed after bootstrapping"}this._content=a},bind_:function(){this.$supers("bind_",arguments);if(this._gened){this._gened=false}else{this._updLink()}},unbind_:function(){zDom.remove(this._getLink());this.$supers("unbind_",arguments)},_updLink:function(){var a=this._getHead(),b=this._getLink(a),c=this.getNode();if(c){c.innerHTML=""}if(b){b.href=this._src}else{b=document.createElement("LINK");b.id=this.uuid;b.rel="stylesheet";b.type="text/css";b.href=this._src;a.appendChild(b)}},_getHead:function(){return head=document.getElementsByTagName("HEAD")[0]},_getLink:function(c){c=c||this._getHead();for(var a=c.getElementsByTagName("LINK"),b=a.length,d=this.uuid;--b>=0;){if(a[b].id==d){return a[b]}}},redraw:function(a){if(zk.bootstrapping&&this._content){a.push('<span style="display:none" id="',this.uuid,'"><style type="text/css">\n',this._content,"\n</style></span>\n");this._gened=true}}});
(_zkwg=_zkpk.Style).prototype.className='zul.utl.Style';
}finally{zPkg.end(_z);}}_z='zul.wnd';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zPkg.load("zul.wgt");zul.wnd.Window=zk.$extends(zul.Widget,{_mode:"embedded",_border:"none",_minheight:100,_minwidth:200,_zIndex:0,$init:function(){this._fellows={};this.$supers("$init",arguments);this.listen("onClose",this,null,-1000);this.listen("onMove",this,null,-1000);this.listen("onZIndex",this,null,-1000);this._skipper=new zul.wnd.Skipper(this)},getMode:function(){return this._mode},setMode:function(a){if(this._mode!=a){this._mode=a;this._updateDomOuter()}},doOverlapped:function(){this.setMode("overlapped")},doPopup:function(){this.setMode("popup")},doHighlighted:function(){this.setMode("highlighted")},doModal:function(){this.setMode("modal")},doEmbedded:function(){this.setMode("embedded")},_doOverlapped:function(){var c=this.getPosition(),b=this.getNode();if(!c&&!b.style.top&&!b.style.left){var a=zDom.revisedOffset(b);b.style.left=a[0]+"px";b.style.top=a[1]+"px"}else{if(c=="parent"){this._posByParent()}}zDom.makeVParent(b);this._syncShadow();this._updateDomPos();if(this.isRealVisible()){zDom.cleanVisibility(b);this.setTopmost()}this._makeFloat()},_doModal:function(){var g=this.getPosition(),f=this.getNode();if(g=="parent"){this._posByParent()}zDom.makeVParent(f);this._syncShadow();this._updateDomPos(true);if(!g){var c=zk.parseInt(f.style.top),e=zDom.innerY();if(e){var a=c-e;if(a>100){f.style.top=c-(a-100)+"px"}}else{if(c>100){f.style.top="100px"}}}var d=this.isRealVisible();if(d){zDom.cleanVisibility(f);this.setTopmost()}this._syncMask();this._mask=new zk.eff.FullMask({id:this.uuid+"$mask",anchor:this._shadow.getBottomElement(),zIndex:this._zIndex,stackup:zk.ie6Only,visible:d});if(d){this._prevmodal=zk.currentModal;var b=zk.currentModal=this;this._prevfocus=zk.currentFocus;this.focus(0)}this._makeFloat()},_posByParent:function(){var d=this.getNode(),a=zDom.revisedOffset(d.parentNode),c=zk.parseInt(d.style.left),b=zk.parseInt(d.style.top);this._offset=a;d.style.left=a[0]+zk.parseInt(d.style.left)+"px";d.style.top=a[1]+zk.parseInt(d.style.top)+"px"},_syncShadow:function(){if(this._mode=="embedded"){if(this._shadow){this._shadow.destroy();this._shadow=null}}else{if(!this._shadow){this._shadow=new zk.eff.Shadow(this.getNode(),{left:-4,right:4,top:-2,bottom:3,stackup:true})}this._shadow.sync()}},_syncMask:function(){if(this._mask){this._mask.sync(this._shadow.getBottomElement())}},_hideShadow:function(){var a=this._shadow;if(a){a.hide()}},_makeFloat:function(){var a=this.getSubnode("cap");if(a&&!this._drag){a.style.cursor="move";var b=this.$class;this._drag=new zk.Draggable(this,null,{handle:a,overlay:true,stackup:true,starteffect:b._startmove,ghosting:b._ghostmove,endghosting:b._endghostmove,ignoredrag:b._ignoremove,endeffect:b._aftermove})}},_updateDomPos:function(c){var d=this.getNode(),h=this._pos;if(h=="parent"||(!h&&!c)){return}var j=d.style;j.position="absolute";var g=j.left,f=j.top;zDom.center(d,h);var b=this._shadow;if(h&&b){var a=b.opts,e=d.offsetLeft,i=d.offsetTop;if(h.indexOf("left")>=0&&a.left<0){j.left=(e-a.left)+"px"}else{if(h.indexOf("right")>=0&&a.right>0){j.left=(e-a.right)+"px"}}if(h.indexOf("top")>=0&&a.top<0){j.top=(i-a.top)+"px"}else{if(h.indexOf("bottom")>=0&&a.bottom>0){j.top=(i-a.bottom)+"px"}}}this._syncShadow();if(g!=j.left||f!=j.top){this._fireOnMove()}},getTitle:function(){return this._title},setTitle:function(a){if(this._title!=a){this._title=a;this._updateDomOuter()}},getBorder:function(){return this._border},setBorder:function(a){if(!a||"0"==a){a="none"}if(this._border!=a){this._border=a;this._updateDomOuter()}},getPosition:function(){return this._pos},setPosition:function(a){if(this._pos!=a){this._pos=a;if(this.desktop&&this._mode!="embedded"){this._updateDomPos()}}},getMinheight:function(){return this._minheight},setMinheight:function(a){if(this._minheight!=a){this._minheight=a}},getMinwidth:function(){return this._minwidth},setMinwidth:function(a){if(this._minwidth!=a){this._minwidth=a}},isClosable:function(){return this._closable},setClosable:function(a){if(this._closable!=a){this._closable=a;this._updateDomOuter()}},isSizable:function(){return this._sizable},setSizable:function(a){if(this._sizable!=a){this._sizable=a;this._updateDomOuter()}},isMaximized:function(){return this._maximized},setMaximized:function(a){if(this._maximized!=a){this._maximized=a;this._updateDomOuter()}},isMaximizable:function(){return this._maximizable},setMaximizable:function(a){if(this._maximizable!=a){this._maximizable=a;this._updateDomOuter()}},isMinimized:function(){return this._minimized},setMinimized:function(a){if(this._minimized!=a){this._minimized=a;this._updateDomOuter()}},isMinimizable:function(){return this._minimizable},setMinimizable:function(a){if(this._minimizable!=a){this._minimizable=a;this._updateDomOuter()}},getContentStyle:function(){return this._cntStyle},setContentStyle:function(a){if(this._cntStyle!=a){this._cntStyle=a;this._updateDomOuter()}},getContentSclass:function(){return this._cntSclass},setContentSclass:function(a){if(this._cntSclass!=a){this._cntSclass=a;this._updateDomOuter()}},_updateDomOuter:function(){this.rerender(this._skipper)},onClose:function(){if(!this.inServer){this.parent.removeChild(this)}},onMove:function(a){this._left=a.data[0];this._top=a.data[1]},onZIndex:function(a){this._syncShadow();this._syncMask()},onSize:_zkf=function(){this._hideShadow();if(this.isMaximized()){}this._fixHgh();this._fixWdh();this._syncShadow()},onVisible:_zkf,onFloatUp:function(b){if(!this.isVisible()||this._mode=="embedded"){return}if(this._mode=="popup"){for(var a;b;b=b.parent){if(b==this){if(!a){this.setTopmost()}return}a=a||b.isFloating_()}this.setVisible(false);this.fire("onOpen",false)}else{for(;b;b=b.parent){if(b==this){this.setTopmost();return}if(b.isFloating_()){return}}}},_fixWdh:zk.ie7?function(){if(this._mode=="embedded"||this._mode=="popup"||!this.isRealVisible()){return}var g=this.getNode(),f=this.getSubnode("cave").parentNode,c=g.style.width,b=zDom.firstChild(g,"DIV"),a=b&&this.getSubnode("cap")?zDom.nextSibling(b,"DIV"):null,e=zDom.lastChild(g,"DIV");if(!c||c=="auto"){var d=zDom.padBorderWidth(f.parentNode)+zDom.padBorderWidth(f.parentNode.parentNode);if(b){b.firstChild.style.width=f.offsetWidth+d+"px"}if(a){a.firstChild.firstChild.style.width=Math.max(0,f.offsetWidth-(zDom.padBorderWidth(a)+zDom.padBorderWidth(a.firstChild)-d))+"px"}if(e){e.firstChild.style.width=f.offsetWidth+d+"px"}}else{if(b){b.firstChild.style.width=""}if(a){a.firstChild.style.width=""}if(e){e.firstChild.style.width=""}}}:zk.$void,_fixHgh:function(){if(!this.isRealVisible()){return}var b=this.getNode(),a=b.style.height;cave=this.getSubnode("cave"),cvh=cave.style.height;if(a&&a!="auto"){if(zk.ie6Only){cave.style.height="0px"}zDom.setOffsetHeight(cave,this._offsetHeight(b))}else{if(cvh&&cvh!="auto"){if(zk.ie6Only){cave.style.height="0px"}cave.style.height=""}}},_offsetHeight:function(e){var b=e.offsetHeight-1-this._titleHeight(e);if(this._mode!="embedded"&&this._mode!="popup"){var d=this.getSubnode("cave"),c=zDom.lastChild(e,"DIV"),a=this.getSubnode("cap");b-=c.offsetHeight;if(d){b-=zDom.padBorderHeight(d.parentNode)}if(a){b-=zDom.padBorderHeight(a.parentNode)}}return b-zDom.padBorderHeight(e)},_titleHeight:function(c){var b=this.getSubnode("cap"),a=zDom.firstChild(c,"DIV");return b?b.offsetHeight+a.offsetHeight:this._mode!="embedded"&&this._mode!="popup"?zDom.nextSibling(a,"DIV").offsetHeight:0},_fireOnMove:function(c){var g=this._pos,b=this.getNode(),a=zk.parseInt(b.style.left),f=zk.parseInt(b.style.top);if(g=="parent"){var e=zDom.vparent(b);if(e){var d=zDom.reviseOffset(e);a-=d[0];f-=d[1]}}this.fire("onMove",{x:a+"px",y:f+"px",keys:c,marshal:zul.wnd.Window._onMoveMarshal},{ignorable:true})},setHeight:function(a){this.$supers("setHeight",arguments);if(this.desktop){this._fixHgh();this._syncShadow();zWatch.fireDown("beforeSize",null,this);zWatch.fireDown("onSize",null,this)}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.desktop){this._fixWdh();this._syncShadow();zWatch.fireDown("beforeSize",null,this);zWatch.fireDown("onSize",null,this)}},setDomVisible_:function(){this.$supers("setDomVisible_",arguments);this._syncShadow();this._syncMask()},setZIndex:function(){this.$supers("setZIndex",arguments);this._syncShadow();this._syncMask()},focus:function(c){if(this.desktop){var b=this.caption;for(var a=this.firstChild;a;a=a.nextSibling){if(a!=b&&a.focus(c)){return true}}return b&&b.focus(c)}return false},getZclass:function(){var a=this._zclass;return a!=null?a:"z-window-"+this._mode},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.wgt.Caption)){this.caption=a}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.caption){this.caption=null}},domStyle_:function(c){var a=this.$supers("domStyle_",arguments),b=this.isVisible();if((!c||!c.visible)&&b&&this.isMinimized()){a="display:none;"+a}if(this._mode!="embedded"){a=(b?"position:absolute;visibility:hidden;":"position:absolute;")+a}return a},bind_:function(){this.$supers("bind_",arguments);var a=this.$class;var b=this._mode;zWatch.listen("onSize",this);zWatch.listen("onVisible",this);if(b!="embedded"){zWatch.listen("onFloatUp",this);this.setFloating_(true);if(b=="modal"||b=="highlighted"){this._doModal()}else{this._doOverlapped()}}},unbind_:function(){var d=this.getNode();d.style.visibility="hidden";if(this._shadow){this._shadow.destroy();this._shadow=null}if(this._drag){this._drag.destroy();this._drag=null}if(this._mask){this._mask.destroy();this._mask=null}zDom.undoVParent(d);zWatch.unlisten("onFloatUp",this);zWatch.unlisten("onSize",this);zWatch.unlisten("onVisible",this);this.setFloating_(false);if(zk.currentModal==this){zk.currentModal=this._prevmodal;var e=this._prevfocus;if(e){e.focus(0)}this._prevfocus=this._prevmodal=null}var f=this.$class;for(var c=["close","max","min"],b=3;--b>=0;){var a=c[b],g=this["e"+a];if(g){this["e"+a]=null;zEvt.unlisten(g,"click",f[a+"click"]);zEvt.unlisten(g,"mouseover",f[a+"over"]);zEvt.unlisten(g,"mouseout",f[a+"out"])}}this.$supers("unbind_",arguments)},doClick_:function(a){switch(a.nativeTarget){case this.getSubnode("close"):this.fire("onClose");break;case this.getSubnode("max"):break;case this.getSubnode("min"):break}a.stop();this.$supers("doClick_",arguments)},doMouseOver_:function(a){switch(a.nativeTarget){case this.getSubnode("close"):zDom.addClass(this.getSubnode("close"),this.getZclass()+"-close-over");break;case this.getSubnode("max"):var c=this.getZclass(),b=this.isMaximized()?" "+c+"-maxd-over":"";zDom.addClass(this.getSubnode("max"),c+"-max-over"+b);break;case this.getSubnode("min"):zDom.addClass(this.getSubnode("min"),this.getZclass()+"-min-over");break}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(b){switch(b.nativeTarget){case this.getSubnode("close"):zDom.rmClass(this.getSubnode("close"),this.getZclass()+"-close-over");break;case this.getSubnode("max"):var c=this.getZclass(),a=this.getSubnode("max");if(this.isMaximized()){zDom.rmClass(a,c+"-maxd-over")}zDom.rmClass(a,c+"-max-over");break;case this.getSubnode("min"):zDom.rmClass(this.getSubnode("min"),this.getZclass()+"-min-over");break}this.$supers("doMouseOut_",arguments)}},{_onMoveMarshal:function(){return[this.x,this.y,this.keys?this.keys.marshal():""]},_startmove:function(b){var a=b.node;if(a.style.top&&a.style.top.indexOf("%")>=0){a.style.top=a.offsetTop+"px"}if(a.style.left&&a.style.left.indexOf("%")>=0){a.style.left=a.offsetLeft+"px"}},_ghostmove:function(i,g,l){var b=i.control,a=i.node;b._hideShadow();var j=zDom.firstChild(a,"DIV"),f=zDom.nextSibling(j,"DIV"),c=j.cloneNode(true),k=f.cloneNode(true),e='<div id="zk_wndghost" class="z-window-move-ghost" style="position:absolute;top:'+g[1]+"px;left:"+g[0]+"px;width:"+zDom.offsetWidth(a)+"px;height:"+zDom.offsetHeight(a)+"px;z-index:"+a.style.zIndex+'"><dl></dl></div>';document.body.insertAdjacentHTML("afterBegin",e);i._wndoffs=g;a.style.visibility="hidden";var d=a.offsetHeight-j.offsetHeight-f.offsetHeight;a=zDom.$("zk_wndghost");a.firstChild.style.height=zDom.revisedHeight(a.firstChild,d)+"px";a.insertBefore(c,a.firstChild);a.insertBefore(k,a.lastChild);return a},_endghostmove:function(c,a){var b=c.node;a.style.top=a.offsetTop+b.offsetTop-c._wndoffs[1]+"px";a.style.left=a.offsetLeft+b.offsetLeft-c._wndoffs[0]+"px";document.body.style.cursor=""},_ignoremove:function(c,e,a){var b=c.node,d=c.control;switch(zEvt.target(a)){case d.getSubnode("close"):case d.getSubnode("max"):case d.getSubnode("min"):return true}if(!d.isSizable()||(b.offsetTop+4<e[1]&&b.offsetLeft+4<e[0]&&b.offsetLeft+b.offsetWidth-4>e[0])){return false}return true},_aftermove:function(b,a){b.node.style.visibility="";var c=b.control;c._syncShadow();c._fireOnMove(zEvt.keyMetaData(a))}});zul.wnd.Skipper=zk.$extends(zk.Skipper,{$init:function(a){this._w=a},restore:function(){this.$supers("restore",arguments);var a=this._w;if(a._mode!="embedded"){a._updateDomPos();a._syncShadow()}}});
(_zkwg=_zkpk.Window).prototype.className='zul.wnd.Window';_zkmd={};
_zkmd['default']=function(c,k){var b=this.getZclass(),a=this.uuid,h=this.getTitle(),j=this.caption,l=this.getContentStyle(),e=this.getContentSclass(),f=this.getMode(),d="embedded"!=f&&"popup"!=f,g="normal"!=this.getBorder()?"-noborder":"";c.push("<div",this.domAttrs_(),">");if(j||h){c.push('<div class="',b,'-tl"><div class="',b,'-tr"></div></div><div class="',b,'-hl"><div class="',b,'-hr"><div class="',b,'-hm"><div id="',a,'$cap" class="',b,'-header">');if(j){j.redraw(c)}else{if(this.isClosable()){c.push('<div id="',a,'$close" class="',b,"-icon ",b,'-close"></div>')}if(this.isMaximizable()){c.push('<div id="',a,'$max" class="',b,"-icon ",b,"-max");if(this.isMaximized()){c.push(" ",b,"-maxd")}c.push('"></div>')}if(this.isMinimizable()){c.push('<div id="'+a,'$min" class="',b,"-icon ",b,'-min"></div>')}c.push(zUtl.encodeXML(h))}c.push("</div></div></div></div>")}else{if(d){c.push('<div class="',b,"-tl",g,'"><div class="',b,"-tr",g,'"></div></div>')}}if(d){c.push('<div class="',b,"-cl",g,'"><div class="',b,"-cr",g,'"><div class="',b,"-cm",g,'">')}c.push('<div id="',a,'$cave" class="');if(e){c.push(e," ")}c.push(b,"-cnt",g,'"');if(l){c.push(' style="',l,'"')}c.push(">");if(!k){for(var i=this.firstChild;i;i=i.nextSibling){if(i!=j){i.redraw(c)}}}c.push("</div>");if(d){c.push('</div></div></div><div class="',b,"-bl",g,'"><div class="',b,"-br",g,'"></div></div>')}c.push("</div>")};
zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}_z='zul.tab';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zul.tab.Tabbox=zk.$extends(zul.Widget,{_orient:"horizontal",_tabscroll:true,getTabs:function(){return this.getChildAt(0)},getTabpanels:function(){return this.getChildAt(1)},isTabscroll:function(){return this._tabscroll},setTabscroll:function(a){if(this._tabscroll!=a){this._tabscroll=a;this.rerender()}},getZclass:function(){return this._zclass==null?"z-tabbox"+(this.inAccordionMold()?"-"+this.getMold():this.isVertical()?"-ver":""):this._zclass},setOrient:function(a){if("horizontal"==a||"vertical"==a||!this.inAccordionMold()){if(this._orient!=a){this._orient=a;this.rerender()}}},getOrient:function(){return this._orient},isHorizontal:function(){return"horizontal"==this.getOrient()},isVertical:function(){return"vertical"==this.getOrient()},inAccordionMold:function(){return this.getMold().indexOf("accordion")<0?false:true},getSelectedIndex:function(){var a=zDom.$(this._seltab),b=zk.Widget.$(a);return b!=null?b.getIndex():-1},setSelectedIndex:function(a){var b=this.getTabs();if(!b){return}this.setSelectedTab(b.getChildAt(a))},getSelectedPanel:function(){var a=zDom.$(this._seltab),b=zk.Widget.$(a);return b!=null?b.getLinkedPanel():null},setSelectedPanel:function(a){if(a!=null&&a.getTabbox()!=this){return}var b=a.getLinkedTab();if(!b){return}this.setSelectedTab(b)},getSelectedTab:function(){var a=zDom.$(this._seltab);return zk.Widget.$(a)},setSelectedTab:function(a){if(zul.tab.Tab.isInstance(a)){a=a.uuid}if(this._selTab!=a){this._selTab=a;var b=zk.Widget.$(a);if(b){b.setSelected(true)}}},getPanelSpacing:function(){return this._panelSpacing},setPanelSpacing:function(a){if(a!=null&&a.length==0){a=null}if(this._panelSpacing!=a){this._panelSpacing=a;this.rerender()}},bind_:function(){this.$supers("bind_",arguments);this.tabs=this.getTabs();this.tabpanels=this.getTabpanels();zk.afterMount(this.proxy(function(){if(this.inAccordionMold()){}else{var a=this._selTab,c=zDom.$(a),b=zk.Widget.$(c);b.setSelected(true)}}))}});
(_zkwg=_zkpk.Tabbox).prototype.className='zul.tab.Tabbox';_zkmd={};
_zkmd['accordion-lite']=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();if(b){b.redraw(a)}a.push("</div>")};
_zkmd['default']=function(b){b.push("<div ",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
_zkmd['accordion']=function(a){a.push("<div ",this.domAttrs_(),">");var b=this.getTabpanels();if(b){b.redraw(a)}a.push("</div>")};
zkmld(_zkwg,_zkmd);zul.tab.Tabs=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent?this.parent:null},getZclass:function(){var a=this.getTabbox();return this._zclass==null?"z-tabs"+(a._mold=="default"?(a.isVertical()?"-ver":""):""):this._zclass},onSize:_zkf=function(){var a=this.getTabbox();if(a.getNode()){zDom.cleanVisibility(a.getNode())}},onVisible:_zkf,insertChildHTML_:function(d,b,c){var a=d.previousSibling;if(b||!a){zDom.insertHTMLBefore(b.getNode(),d._redrawHTML())}else{zDom.insertHTMLAfter(a.getNode(),d._redrawHTML())}d.bind_(c)},bind_:function(){this.$supers("bind_",arguments);zWatch.listen("onSize",this);zWatch.listen("onVisible",this)},unbind_:function(){zWatch.unlisten("onSize",this);zWatch.unlisten("onVisible",this);this.$supers("unbind_",arguments)}});
(_zkwg=_zkpk.Tabs).prototype.className='zul.tab.Tabs';_zkmd={};
_zkmd['default']=function(b){var d=this.getZclass(),c=this.uuid;b.push("<div ",this.domAttrs_(),">",'<div id="',c,'$right">',"</div>",'<div id="',c,'$left">',"</div>",'<div id="',c,'$header"',' class="',d,'-header" >','<ul id="',c,'$cave"','class="',d,'-cnt">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push('<li id="',c,'$edge"',' class="',d,'-edge" ></li><div class="z-clear"></div></ul>','</div><div id="',c,'$line"',' class="',d,'-space" ></div></div>')};
zkmld(_zkwg,_zkmd);zul.tab.Tab=zk.$extends(zul.LabelImageWidget,{_selected:false,_closable:false,_disabled:false,isClosable:function(){return this._closable},setClosable:function(a){if(this._closable!=a){this._closable=a;this.rerender()}},isSelected:function(){return this._selected},setSelected:function(a){if(this._selected!=a){if(this.getNode()){this._selected=a;this._selTab(this,false)}}},isDisabled:function(){return this._disabled},setDisabled:function(a){if(this._disabled!=a){this._disabled=a;this.rerender()}},getTabbox:function(){return this.parent?this.parent.parent:null},getIndex:function(){return this.getChildIndex()},getZclass:function(){var a=this.getTabbox();return this._zclass==null?"z-tab"+(a._mold=="default"?(a.isVertical()?"-ver":""):"-"+a._mold):this._zclass},getLinkedPanel:function(){var c=this.getTabbox(),a=c.getTabpanels(),b=this.getIndex();return a.getChildAt(b)},_doClosebtnClick:function(a){if(!a){a=window.event}if(this._disabled){return}this.fire("onClose",true);zEvt.stop(a)},_sliding:function(c){var b=this.getTabbox(),a=this.getLinkedPanel();if(!a||!b||!b.inAccordionMold()){return false}return false},_selTab:function(a,c){var b=this.getTabbox(),d=a.getNode();old=this._getSelTab(d);if(!d){return}if(old!=d){if(old){this._setTabSel(old,false,false,c)}this._setTabSel(d,true,c,c)}},_setTabSel:function(e,d,i,g){if(e._selected==d){return}e._selected=d;zDom[d?"addClass":"rmClass"](e,this.getZclass()+"-seld");var a=this.getTabbox(),h=a.inAccordionMold(),b=zk.Widget.$(e).getLinkedPanel();if(b){if(h&&g){var c=b.getSubnode("real");zAnima[d?"slideDown":"slideUp"](c)}else{var f=b.getNode();zDom[d?"show":"hide"](f)}}},_getSelTab:function(b){var a=this.getTabbox();if(!b){return null}if(a.inAccordionMold()){}else{var c=b;for(c=b;c=c.nextSibling;){if(c._selected){return c}}for(c=b;c=c.previousSibling;){if(c._selected){return c}}if(b._selected){return b}}return null},doClick_:function(a){if(!a){a=window.event}if(this._disabled){return}this._selTab(this,true)},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a=this.isDisabled()?this.getZclass()+"-disd":"";if(a){b+=(b?" ":"")+a}}return b},domContent_:function(){var b=zUtl.encodeXML(this.getLabel()),a=this.getImage();if(!a){return b}a='<img src="'+a+'" align="absmiddle" class="'+this.getZclass()+'-img"/>';return b?a+" "+b:a},bind_:function(){this.$supers("bind_",arguments);var b=this.uuid,a=zDom.$(b,"close");if(a){zEvt.listen(a,"click",this.proxy(this._doClosebtnClick,"_tabClose"));if(!a.style.cursor){a.style.cursor="default"}}},unbind_:function(){this.$supers("unbind_",arguments);var a=zDom.$(this.uuid,"close");if(a){zWatch.unlisten(a,"click",this.proxy(this._doClosebtnClick,"_tabClose"))}}});
(_zkwg=_zkpk.Tab).prototype.className='zul.tab.Tab';_zkmd={};
_zkmd['default']=function(a){var c=this.getZclass(),b=this.uuid;a.push("<li ",this.domAttrs_(),">");if(this.isClosable()){a.push('<a id="',b,'$close" class="',c,'-close"','onClick="return false;" ></a>')}a.push('<a id="',b,'$a" class="',c,'-body"','onClick="return false;" href="#">','<em id="',b,'$em">');if(this.isClosable()){a.push('<span id="',b,'$inner" class="',c,"-inner ",c,'-close-inner">')}else{a.push('<span id="',b,'$inner" class="',c,'-inner ">')}a.push('<span class="',c,'-text">',this.domContent_(),"</span></span></em></a></li>")};
zkmld(_zkwg,_zkmd);zul.tab.Tabpanels=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent?this.parent:null},getZclass:function(){var a=this.getTabbox();return this._zclass==null?"z-tabpanels"+(a._mold=="default"?(a.isVertical()?"-ver":""):"-"+a._mold):this._zclass}});
(_zkwg=_zkpk.Tabpanels).prototype.className='zul.tab.Tabpanels';_zkmd={};
_zkmd['default']=function(b){b.push('<div id="',this.uuid,'"',this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
zkmld(_zkwg,_zkmd);zul.tab.Tabpanel=zk.$extends(zul.Widget,{getTabbox:function(){return this.parent?this.parent.parent:null},isVisible:function(){return this.$supers("isVisible",arguments)&&this.isSelected()},getZclass:function(){var a=this.getTabbox();return this._zclass==null?"z-tabpanel"+(a._mold=="default"?(a.isVertical()?"-ver":""):"-"+a._mold):this._zclass},bind_:function(){this.$supers("bind_",arguments);this._fixPanelHgh()},getLinkedTab:function(){var c=this.getTabbox(),b=c.getTabs(),a=this.getIndex();return b.getChildAt(a)},getIndex:function(){return this.getChildIndex()},isSelected:function(){var a=this.getLinkedTab();return a!=null&&a.isSelected()},_fixPanelHgh:function(){var a=this.getTabbox()}});
(_zkwg=_zkpk.Tabpanel).prototype.className='zul.tab.Tabpanel';_zkmd={};
_zkmd['default']=function(b){var e=this.uuid,f=this.getZclass(),d=this.getLinkedTab(),g=d.getZclass(),c=this.getTabbox();if(c.inAccordionMold()){b.push('<div id="',e,'"',' class="',f,'-outer">');if(c.getMold()=="accordion"&&c.getPanelSpacing()!=null&&this.getIndex()!=0){b.push('<div style="margin:0;display:list-item;width:100%;height:',c.getpanelSpacing(),';"></div>')}b.push('<div id="',d.uuid,'"',d.domAttrs_(),">",'<div align="left" class="',g,'-header" >');if(d.isClosable()){b.push('<a id="',d.uuid,'$close"  class="',g,'-close"></a>')}b.push('<a href="javascript:;" id="',d.uuid,'$a" class="',g,'-tl">','<em class="',g,'-tr">','<span class="',g,'-tm">','<span class="',g,'-text">',d.domContent_(),"</span></span></em></a></div></div>");b.push('<div id="',e,'$real"',this.domAttrs_(),">",'<div id="',e,'$cave" >');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></div></div>")}else{b.push('<div id="',e,'"',this.domAttrs_(),">",'<div id="',e,'$real">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></div>")}};
zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}_z='zul.layout';if(!zk.$import(_z)){try{_zkpk=zk.$package(_z);
zul.layout.Borderlayout=zk.$extends(zul.Widget,{setResize:function(){this.resize()},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.layout.North)){this.north=a}else{if(a.$instanceof(zul.layout.South)){this.south=a}else{if(a.$instanceof(zul.layout.Center)){this.center=a}else{if(a.$instanceof(zul.layout.West)){this.west=a}else{if(a.$instanceof(zul.layout.East)){this.east=a}}}}}this.resize()},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.north){this.north=null}else{if(a==this.south){this.south=null}else{if(a==this.center){this.center=null}else{if(a==this.west){this.west=null}else{if(a==this.east){this.east=null}}}}}this.resize()},getZclass:function(){return this._zclass==null?"z-border-layout":this._zclass},bind_:function(){this.$supers("bind_",arguments);zWatch.listen("onSize",this);zWatch.listen("onVisible",this)},unbind_:function(){zWatch.unlisten("onSize",this);zWatch.unlisten("onVisible",this);this.$supers("unbind_",arguments)},_getAmbit:function(k,e){var f=k.getPosition();if(f&&!k.isOpen()){var b=k.getSubnode("colled");return{w:b?b.offsetWidth:0,h:b?b.offsetHeight:0}}var i=k.getWidth()||"",a=k.getHeight()||"",g=i.indexOf("%"),d=a.indexOf("%");var j={w:g>0?Math.max(Math.floor(this.getNode().offsetWidth*zk.parseInt(i.substring(0,g))/100),0):k.getSubnode("real").offsetWidth,h:d>0?Math.max(Math.floor(this.getNode().offsetHeight*zk.parseInt(a.substring(0,d))/100),0):k.getSubnode("real").offsetHeight};if(f&&!e){var c=k.getSubnode("split")||{offsetHeight:0,offsetWidth:0};k._fixSplit();switch(f){case this.$class.NORTH:case this.$class.SOUTH:j.h+=c.offsetHeight;break;case this.$class.WEST:case this.$class.EAST:j.w+=c.offsetWidth;break}}return j},_getMargins:function(a){return this._arrayToObject(a.isOpen()?a._margins:a._cmargins)},resize:function(){if(this.desktop){this._resize()}},_resize:function(c){if(!this.isRealVisible()){return}this._isOnSize=c;var b=this.getNode(),a=b.offsetWidth,j=b.offsetHeight,h=a,d=j,e=0,g=0;if(this.north&&zDom.isVisible(this.north.getNode())){var i=this._getAmbit(this.north),k=this._getMargins(this.north);i.w=a-(k.left+k.right);i.x=k.left;i.y=k.top;e=i.h+i.y+k.bottom;d-=e;this._resizeWgt(this.north,i)}if(this.south&&zDom.isVisible(this.south.getNode())){var i=this._getAmbit(this.south),k=this._getMargins(this.south),f=(i.h+k.top+k.bottom);i.w=a-(k.left+k.right);i.x=k.left;i.y=j-f+k.top;d-=f;this._resizeWgt(this.south,i)}if(this.west&&zDom.isVisible(this.west.getNode())){var i=this._getAmbit(this.west),k=this._getMargins(this.west),f=(i.w+k.left+k.right);i.h=d-(k.top+k.bottom);i.x=k.left;i.y=e+k.top;g+=f;h-=f;this._resizeWgt(this.west,i)}if(this.east&&zDom.isVisible(this.east.getNode())){var i=this._getAmbit(this.east),k=this._getMargins(this.east),f=(i.w+k.left+k.right);i.h=d-(k.top+k.bottom);i.x=a-f+k.left;i.y=e+k.top;h-=f;this._resizeWgt(this.east,i)}if(this.center&&zDom.isVisible(this.center.getNode())){var k=this._getMargins(this.center),i={x:g+k.left,y:e+k.top,w:h-(k.left+k.right),h:d-(k.top+k.bottom)};this._resizeWgt(this.center,i)}zDom.cleanVisibility(b);this._isOnSize=false},_arrayToObject:function(a){return{top:a[0],left:a[1],right:a[2],bottom:a[3]}},_resizeWgt:function(d,a,e){if(d.isOpen()){if(!e&&d.getSubnode("split")){d._fixSplit();a=this._resizeSplit(d,a)}var c=d.getSubnode("real").style;c.left=a.x+"px";c.top=a.y+"px";this._resizeBody(d,a)}else{d.getSubnode("split").style.display="none";var b=d.getSubnode("colled");if(b){b.style.left=a.x+"px";b.style.top=a.y+"px";b.style.height=zDom.revisedHeight(b,a.h)+"px";b.style.width=zDom.revisedWidth(b,a.w)+"px"}}},_resizeSplit:function(e,a){var c=e.getSubnode("split");if(!zDom.isVisible(c)){return a}var b={w:c.offsetWidth,h:c.offsetHeight},d=c.style;switch(e.getPosition()){case this.$class.NORTH:a.h-=b.h;d.left=a.x+"px";d.top=(a.y+a.h)+"px";d.width=(a.w<0?0:a.w)+"px";break;case this.$class.SOUTH:a.h-=b.h;a.y+=b.h;d.left=a.x+"px";d.top=(a.y-b.h)+"px";d.width=(a.w<0?0:a.w)+"px";break;case this.$class.WEST:a.w-=b.w;d.left=(a.x+a.w)+"px";d.top=a.y+"px";d.height=(a.h<0?0:a.h)+"px";break;case this.$class.EAST:a.w-=b.w;d.left=a.x+"px";d.top=a.y+"px";d.height=(a.h<0?0:a.h)+"px";a.x+=b.w;break}return a},_resizeBody:function(d,a){a.w=Math.max(0,a.w);a.h=Math.max(0,a.h);var c=d.getSubnode("real"),b=d.isFlex()&&d.firstChild?d.firstChild.getNode():d.getSubnode("cave");if(!this._ignoreResize(c,a.w,a.h)){a.w=zDom.revisedWidth(c,a.w);c.style.width=a.w+"px";a.w=zDom.revisedWidth(b,a.w);b.style.width=a.w+"px";a.h=zDom.revisedHeight(c,a.h);c.style.height=a.h+"px";a.h=zDom.revisedHeight(b,a.h);if(d.getSubnode("cap")){a.h=Math.max(0,a.h-d.getSubnode("cap").offsetHeight)}b.style.height=a.h+"px";if(d.isAutoscroll()){b.style.overflow="auto";b.style.position="relative"}else{b.style.overflow="hidden";b.style.position=""}if(!this._isOnSize){zWatch.fireDown("beforeSize",null,d);zWatch.fireDown("onSize",null,d)}}},_ignoreResize:function(c,a,b){if(c._lastSize&&c._lastSize.width==a&&c._lastSize.height==b){return true}else{c._lastSize={width:a,height:b};return false}},onSize:_zkf=function(){this._resize(true)},onVisible:_zkf},{NORTH:"north",SOUTH:"south",EAST:"east",WEST:"west",CENTER:"center"});
(_zkwg=_zkpk.Borderlayout).prototype.className='zul.layout.Borderlayout';_zkmd={};
_zkmd['default']=function(b){b.push("<div",this.domAttrs_(),">");for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div>")};
zkmld(_zkwg,_zkmd);zul.layout.LayoutRegion=zk.$extends(zul.Widget,{_open:true,_border:"normal",_maxsize:2000,_minsize:0,$init:function(){this.$supers("$init",arguments);this._margins=[0,0,0,0];this._cmargins=[5,5,5,5]},getTitle:function(){return this._title},setTitle:function(a){if(this._title!=a){this._title=a;this.rerender()}},getBorder:function(){return this._border},setBorder:function(a){if(!a||"0"==a){a="none"}if(this._border!=a){this._border=a;this.updateDomClass_()}},isSplittable:function(){return this._splittable},setSplittable:function(a){if(this._splittable!=a){this._splittable=a;if(this.parent&&this.desktop){this.parent.resize()}}},setMaxsize:function(a){if(this._maxsize!=a){this._maxsize=a}},getMaxsize:function(){return this._maxsize},setMinsize:function(a){if(this._minsize!=a){this._minsize=a}},getMinsize:function(){return this._minsize},isFlex:function(){return this._flex},setFlex:function(a){if(this._flex!=a){this._flex=a;this.rerender()}},getMargins:function(){return zUtl.intsToString(this._margins)},setMargins:function(a){if(this.getMargins()!=a){this._margins=zUtl.stringToInts(a,0);if(this.parent&&this.desktop){this.parent.resize()}}},getCmargins:function(){return zUtl.intsToString(this._cmargins)},setCmargins:function(a){if(this.getCmargins()!=a){this._cmargins=zUtl.stringToInts(a,0);if(this.parent&&this.desktop){this.parent.resize()}}},isCollapsible:function(){return this._collapsible},setCollapsible:function(b){if(this._collapsible!=b){this._collapsible=b;var a=this.getSubnode(this.isOpen()?"btn":"btned");if(a){a.style.display=b?"":"none"}}},isAutoscroll:function(){return this._autoscroll},setAutoscroll:function(b){if(this._autoscroll!=b){this._autoscroll=b;var c=this.getSubnode("cave");if(c){var a=this.isFlex()&&this.firstChild?this.firstChild.getNode():c;if(b){a.style.overflow="auto";a.style.position="relative";zEvt.listen(a,"scroll",this.proxy(this.doScroll_,"_pxDoscroll"))}else{a.style.overflow="hidden";a.style.position="";zEvt.unlisten(a,"scroll",this._pxDoscroll)}}}},isOpen:function(){return this._open},setOpen:function(d,c,a){if(this._open!=d){this._open=d;if(!this.getNode()||!this.isCollapsible()){return}var b=this.getSubnode("colled"),e=this.getSubnode("real");if(d){if(b){if(!a){zAnima.slideOut(this,b,{anchor:this.sanchor,duration:200,afterAnima:this.$class.afterSlideOut})}else{zDom[d?"show":"hide"](e);zDom[!d?"show":"hide"](b);zWatch.fireDown(d?"onVisible":"onHide",{visible:true},this)}}}else{if(b&&!a){zAnima.slideOut(this,e,{anchor:this.sanchor,beforeAnima:this.$class.beforeSlideOut,afterAnima:this.$class.afterSlideOut})}else{if(b){zDom[!d?"show":"hide"](b)}zDom[d?"show":"hide"](e)}}if(a){this.parent.resize()}if(!c){this.fire("onOpen",d)}}},domClass_:function(c){var b=this.$supers("domClass_",arguments);if(!c||!c.zclass){var a="normal"==this.getBorder()?"":this.getZclass()+"-noborder";if(a){b+=(b?" ":"")+a}}return b},getZclass:function(){return this._zclass==null?"z-"+this.getPosition():this._zclass},setWidth:function(a){this._width=a;var b=this.getSubnode("real");if(b){b.style.width=a?a:""}},setHeight:function(a){this._height=a;var b=this.getSubnode("real");if(b){b.style.height=a?a:""}},setVisible:function(a){if(this._visible!=a){this.$supers("setVisible",arguments);var b=this.getSubnode("real");if(b){b.style.display=b.parentNode.style.display;this.parent.resize()}}},updateDomClass_:function(){if(this.desktop){var a=this.getSubnode("real");if(a){a.className=this.domClass_();if(this.parent){this.parent.resize()}}}},updateDomStyle_:function(){if(this.desktop){var a=this.getSubnode("real");if(a){zDom.setStyle(a,zDom.parseStyle(this.domStyle_()));if(this.parent){this.parent.resize()}}}},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(a.$instanceof(zul.layout.Borderlayout)){this.setFlex(true);zDom.addClass(this.getNode(),this.getZclass()+"-nested")}if(this.parent&&this.desktop){this.parent.resize()}},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a.$instanceof(zul.layout.Borderlayout)){this.setFlex(false);zDom.rmClass(this.getNode(),this.getZclass()+"-nested")}if(this.parent&&this.desktop){this.parent.resize()}},rerender:function(){this.$supers("rerender",arguments);if(this.parent){this.parent.resize()}},bind_:function(){this.$supers("bind_",arguments);if(this.getPosition()!=zul.layout.Borderlayout.CENTER){var d=this.getSubnode("split");if(d){this._fixSplit();var b=this._isVertical(),c=this.$class;this._drag=new zk.Draggable(this,d,{constraint:b?"vertical":"horizontal",ghosting:c._ghosting,snap:c._snap,zIndex:12000,overlay:true,ignoredrag:c._ignoredrag,endeffect:c._endeffect});if(!this.isOpen()){this._open=true;this.setOpen(false,true,true)}}}var f=this.getNode(),e=f.firstChild;if(this.isOpen()&&!zDom.isVisible(e)){f.style.display="none"}if(this.isAutoscroll()){var a=this.isFlex()&&this.firstChild?this.firstChild.getNode():this.getSubnode("cave");zEvt.listen(a,"scroll",this.proxy(this.doScroll_,"_pxDoscroll"))}},unbind_:function(){if(this.isAutoscroll()){var a=this.isFlex()&&this.firstChild?this.firstChild.getNode():this.getSubnode("cave");zEvt.unlisten(a,"scroll",this._pxDoscroll)}if(this.getSubnode("split")){if(this._drag){this._drag.destroy();this._drag=null}}this.$supers("unbind_",arguments)},doScroll_:function(){zWatch.fireDown("onScroll",null,this)},doMouseOver_:function(a){if(this.getSubnode("btn")){switch(a.nativeTarget){case this.getSubnode("btn"):zDom.addClass(this.getSubnode("btn"),this.getZclass()+"-collapse-over");break;case this.getSubnode("btned"):zDom.addClass(this.getSubnode("btned"),this.getZclass()+"-expand-over");case this.getSubnode("colled"):zDom.addClass(this.getSubnode("colled"),this.getZclass()+"-collapsed-over");break}}this.$supers("doMouseOver_",arguments)},doMouseOut_:function(a){if(this.getSubnode("btn")){switch(a.nativeTarget){case this.getSubnode("btn"):zDom.rmClass(this.getSubnode("btn"),this.getZclass()+"-collapse-over");break;case this.getSubnode("btned"):zDom.rmClass(this.getSubnode("btned"),this.getZclass()+"-expand-over");case this.getSubnode("colled"):zDom.rmClass(this.getSubnode("colled"),this.getZclass()+"-collapsed-over");break}}this.$supers("doMouseOut_",arguments)},doClick_:function(a){if(this.getSubnode("btn")){var c=a.nativeTarget;switch(c){case this.getSubnode("btn"):case this.getSubnode("btned"):if(this._isSlide||zAnima.count){return}if(this.getSubnode("btned")==c){var b=this.getSubnode("real").style;b.visibilty="hidden";b.display="";this._syncSize(true);b.visibilty="";b.display="none"}this.setOpen(!this.isOpen());break;case this.getSubnode("colled"):if(this._isSlide){return}this._isSlide=true;var d=this.getSubnode("real"),b=d.style;b.visibilty="hidden";b.display="";this._syncSize();this._original=[b.left,b.top];this._alignTo();b.zIndex=100;this.getSubnode("btn").style.display="none";b.visibilty="";b.display="none";zAnima.slideDown(this,d,{anchor:this.sanchor,afterAnima:this.$class.afterSlideDown});break}}this.$supers("doClick_",arguments)},_doDocClick:function(a){var b=zEvt.target(a);if(this._isSlide&&!zDom.isAncestor(this.getSubnode("real"),b)){if(this.getSubnode("btned")==b){this.$class.afterSlideUp.apply(this,[b]);this.setOpen(true,false,true)}else{if((!this._isSlideUp&&this.$class.uuid(b)!=this.uuid)||!zAnima.count){this._isSlideUp=true;zAnima.slideUp(this,this.getSubnode("real"),{anchor:this.sanchor,afterAnima:this.$class.afterSlideUp})}}}},_syncSize:function(f){var t=this.parent,b=t.getNode(),o=b.offsetWidth,l=b.offsetHeight,d=l,p=0,q=0,m=t.north,j=t.south,r=t.east,i=t.west,u=t.center;this._open=true;if(m&&(zDom.isVisible(m.getNode())||zDom.isVisible(m.getSubnode("colled")))){var a=m==this,k=t._getAmbit(m,a),g=t._getMargins(m);k.w=o-(g.left+g.right);k.x=g.left;k.y=g.top;p=k.h+k.y+g.bottom;d-=p;if(a){k.w=this.getSubnode("colled").offsetWidth;if(f){var h=t._arrayToObject(this._cmargins);k.w+=h.left+h.right}t._resizeWgt(m,k,true);this._open=false;return}}if(j&&(zDom.isVisible(j.getNode())||zDom.isVisible(j.getSubnode("colled")))){var a=j==this,k=t._getAmbit(j,a),g=t._getMargins(j),v=(k.h+g.top+g.bottom);k.w=o-(g.left+g.right);k.x=g.left;k.y=l-v+g.top;d-=v;if(a){k.w=this.getSubnode("colled").offsetWidth;if(f){var h=t._arrayToObject(this._cmargins);k.w+=h.left+h.right}t._resizeWgt(j,k,true);this._open=false;return}}if(i&&(zDom.isVisible(i.getNode())||zDom.isVisible(i.getSubnode("colled")))){var a=i==this,k=t._getAmbit(i,a),g=t._getMargins(i);k.h=d-(g.top+g.bottom);k.x=g.left;k.y=p+g.top;if(a){k.h=this.getSubnode("colled").offsetHeight;if(f){var h=t._arrayToObject(this._cmargins);k.h+=h.top+h.bottom}t._resizeWgt(i,k,true);this._open=false;return}}if(r&&(zDom.isVisible(r.getNode())||zDom.isVisible(r.getSubnode("colled")))){var a=r==this,k=t._getAmbit(r,a),g=t._getMargins(r),v=(k.w+g.left+g.right);k.h=d-(g.top+g.bottom);k.x=o-v+g.left;k.y=p+g.top;if(a){k.h=this.getSubnode("colled").offsetHeight;if(f){var h=t._arrayToObject(this._cmargins);k.h+=h.top+h.bottom}t._resizeWgt(r,k,true);this._open=false;return}}},_fixSplit:function(){zDom[this.isSplittable()?"show":"hide"](this.getSubnode("split"))},_alignTo:function(){var b=this.getSubnode("colled"),a=this.getSubnode("real");switch(this.getPosition()){case zul.layout.Borderlayout.NORTH:a.style.top=b.offsetTop+b.offsetHeight+"px";a.style.left=b.offsetLeft+"px";break;case zul.layout.Borderlayout.SOUTH:a.style.top=b.offsetTop-a.offsetHeight+"px";a.style.left=b.offsetLeft+"px";break;case zul.layout.Borderlayout.WEST:a.style.left=b.offsetLeft+b.offsetWidth+"px";a.style.top=b.offsetTop+"px";break;case zul.layout.Borderlayout.EAST:a.style.left=b.offsetLeft-a.offsetWidth+"px";a.style.top=b.offsetTop+"px";break}},_isVertical:function(){return this.getPosition()!=zul.layout.Borderlayout.WEST&&this.getPosition()!=zul.layout.Borderlayout.EAST}},{beforeSlideOut:function(b){var a=this.getSubnode("colled").style;a.display="";a.visibility="hidden";a.zIndex=1;this.parent.resize()},afterSlideOut:function(c){if(this.isOpen()){zAnima.slideIn(this,this.getSubnode("real"),{anchor:this.sanchor,afterAnima:this.$class.afterSlideIn})}else{var a=this.getSubnode("colled"),b=a.style;b.zIndex="";b.visibility="";zAnima.slideIn(this,a,{anchor:this.sanchor,duration:200})}},afterSlideIn:function(a){this.parent.resize()},afterSlideDown:function(a){zEvt.listen(document,"click",this.proxy(this._doDocClick,"_pxdoDocClick"))},afterSlideUp:function(b){var a=b.style;a.left=this._original[0];a.top=this._original[1];b._lastSize=null;a.zIndex="";this.getSubnode("btn").style.display="";zEvt.unlisten(document,"click",this._pxdoDocClick);this._isSlideUp=this._isSlide=false},_ignoredrag:function(t,q,l){var u=zEvt.target(l),i=t.control;if(!u||u!=i.getSubnode("split")){return true}if(i.isSplittable()&&i.isOpen()){var k=zul.layout.Borderlayout,d=i.getPosition(),c=i.getMaxsize(),e=i.getMinsize(),j=i.parent,m=i.getSubnode("real"),a=j._arrayToObject(i._margins),f=zDom.padBorderWidth(m)+(d==k.WEST?a.left:a.right),h=zDom.padBorderWidth(m)+(d==k.NORTH?a.top:a.bottom),p=0,s=i.uuid;switch(d){case k.NORTH:case k.SOUTH:var n=j.center||(d==k.NORTH?j.south:j.north);if(n){if(k.CENTER==n.getPosition()){var g=j.east,b=j.west;c=Math.min(c,(m.offsetHeight+n.getSubnode("real").offsetHeight)-p)}else{c=Math.min(c,j.getNode().offsetHeight-n.getSubnode("real").offsetHeight-n.getSubnode("split").offsetHeight-i.getSubnode("split").offsetHeight-p)}}else{c=j.getNode().offsetHeight-i.getSubnode("split").offsetHeight}break;case k.WEST:case k.EAST:var n=j.center||(d==k.WEST?j.east:j.west);if(n){if(k.CENTER==n.getPosition()){c=Math.min(c,(m.offsetWidth+zDom.revisedWidth(n.getSubnode("real"),n.getSubnode("real").offsetWidth))-p)}else{c=Math.min(c,j.getNode().offsetWidth-n.getSubnode("real").offsetWidth-n.getSubnode("split").offsetWidth-i.getSubnode("split").offsetWidth-p)}}else{c=j.getNode().offsetWidth-i.getSubnode("split").offsetWidth}break}var o=zDom.cmOffset(m);t._rootoffs={maxs:c,mins:e,top:o[1],left:o[0],right:m.offsetWidth,bottom:m.offsetHeight};return false}return true},_endeffect:function(c,a){var d=c.control,b="";if(d._isVertical()){d.setHeight(c._point[1]+"px")}else{d.setWidth(c._point[0]+"px")}c._rootoffs=c._point=null;d.parent.resize();d.fire("onSize",{width:d.getSubnode("real").style.width,height:d.getSubnode("real").style.height,keys:zEvt.keyMetaData(a),marshal:d.$class._onSizeMarshal})},_onSizeMarshal:function(){return[this.width,this.height,this.keys?this.keys.marshal():""]},_snap:function(g,a){var l=g.control,j=a[0],f=a[1],c=zul.layout.Borderlayout,e=l.getSubnode("split"),i=g._rootoffs,k,d;switch(l.getPosition()){case c.NORTH:if(f>i.maxs+i.top){f=i.maxs+i.top}if(f<i.mins+i.top){f=i.mins+i.top}k=j;d=f-i.top;break;case c.SOUTH:if(i.top+i.bottom-f-e.offsetHeight>i.maxs){f=i.top+i.bottom-i.maxs-e.offsetHeight;d=i.maxs}else{if(i.top+i.bottom-i.mins-e.offsetHeight<=f){f=i.top+i.bottom-i.mins-e.offsetHeight;d=i.mins}else{d=i.top-f+i.bottom-e.offsetHeight}}k=j;break;case c.WEST:if(j>i.maxs+i.left){j=i.maxs+i.left}if(j<i.mins+i.left){j=i.mins+i.left}k=j-i.left;d=f;break;case c.EAST:if(i.left+i.right-j-e.offsetWidth>i.maxs){j=i.left+i.right-i.maxs-e.offsetWidth;k=i.maxs}else{if(i.left+i.right-i.mins-e.offsetWidth<=j){j=i.left+i.right-i.mins-e.offsetWidth;k=i.mins}else{k=i.left-j+i.right-e.offsetWidth}}d=f;break}g._point=[k,d];return[j,f]},_ghosting:function(e,d,a){var c=e.node,b='<div id="zk_layoutghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+d[1]+"px;left:"+d[0]+"px;width:"+zDom.offsetWidth(c)+"px;height:"+zDom.offsetHeight(c)+"px;cursor:"+c.style.cursor+';"></div>';document.body.insertAdjacentHTML("afterBegin",b);return zDom.$("zk_layoutghost")}});
(_zkwg=_zkpk.LayoutRegion).prototype.className='zul.layout.LayoutRegion';zul.layout.North=zk.$extends(zul.layout.LayoutRegion,{setWidth:zk.$void,sanchor:"t",getPosition:function(){return zul.layout.Borderlayout.NORTH},getSize:function(){return this.getHeight()},setSize:function(a){this.setHeight(a)}});
(_zkwg=_zkpk.North).prototype.className='zul.layout.North';_zkmd={};
_zkmd['default']=function(b){var c=this.uuid,e=this.getZclass(),d=this.getPosition()!=zul.layout.Borderlayout.CENTER,f=this.parent.getZclass();b.push('<div id="',c,'">','<div id="',c,'$real"',this.domAttrs_({id:1}),">");if(this.getTitle()){b.push('<div id="',c,'$cap" class="',e,'-header">');if(d){b.push('<div id="',c,'$btn" class="',f,"-tool ",e,'-collapse"');if(!this.isCollapsible()){b.push(' style="display:none;"')}b.push("></div>")}b.push(zUtl.encodeXML(this.getTitle()),"</div>")}b.push('<div id="',c,'$cave" class="',e,'-body">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></div>");if(d){b.push('<div id="',c,'$split" class="',e,'-split"></div>');if(this.getTitle()){b.push('<div id="',c,'$colled" class="',e,'-collapsed" style="display:none"><div id="',c,'$btned" class="',f,"-tool ",e,'-expand"');if(!this.isCollapsible()){b.push(' style="display:none;"')}b.push("></div></div>")}}b.push("</div>")};
zkmld(_zkwg,_zkmd);zul.layout.South=zk.$extends(zul.layout.LayoutRegion,{setWidth:zk.$void,sanchor:"b",getPosition:function(){return zul.layout.Borderlayout.SOUTH},getSize:function(){return this.getHeight()},setSize:function(a){this.setHeight(a)}});
(_zkwg=_zkpk.South).prototype.className='zul.layout.South';_zkmd={};
_zkmd['default']=[_zkpk.North,'default'];zkmld(_zkwg,_zkmd);zul.layout.Center=zk.$extends(zul.layout.LayoutRegion,{setCmargins:zk.$void,setSplittable:zk.$void,setOpen:zk.$void,setCollapsible:zk.$void,setMaxsize:zk.$void,setMinsize:zk.$void,setHeight:zk.$void,setWidth:zk.$void,setVisible:zk.$void,getSize:zk.$void,setSize:zk.$void,doMouseOver_:zk.$void,doMouseOut_:zk.$void,doClick_:zk.$void,getPosition:function(){return zul.layout.Borderlayout.CENTER}});
(_zkwg=_zkpk.Center).prototype.className='zul.layout.Center';_zkmd={};
_zkmd['default']=[_zkpk.North,'default'];zkmld(_zkwg,_zkmd);zul.layout.East=zk.$extends(zul.layout.LayoutRegion,{setHeight:zk.$void,sanchor:"r",$init:function(){this.$supers("$init",arguments);this.setCmargins("0,5,5,0")},getPosition:function(){return zul.layout.Borderlayout.EAST},getSize:function(){return this.getWidth()},setSize:function(a){this.setWidth(a)}});
(_zkwg=_zkpk.East).prototype.className='zul.layout.East';_zkmd={};
_zkmd['default']=[_zkpk.North,'default'];zkmld(_zkwg,_zkmd);zul.layout.West=zk.$extends(zul.layout.LayoutRegion,{setHeight:zk.$void,sanchor:"l",$init:function(){this.$supers("$init",arguments);this.setCmargins("0,5,5,0")},getPosition:function(){return zul.layout.Borderlayout.WEST},getSize:function(){return this.getWidth()},setSize:function(a){this.setWidth(a)}});
(_zkwg=_zkpk.West).prototype.className='zul.layout.West';_zkmd={};
_zkmd['default']=[_zkpk.North,'default'];zkmld(_zkwg,_zkmd);
}finally{zPkg.end(_z);}}